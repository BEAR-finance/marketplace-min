{"version":3,"sources":["modules/contract/ContractFactory.ts","modules/vendor/decentraland/ContractService.ts","modules/vendor/decentraland/api.ts","modules/vendor/super_rare/api.ts","modules/vendor/MarketplacePrice.ts","contracts/ConverterAbi.ts","contracts/Converter.ts","modules/vendor/TokenConverter.ts","contracts/ERC721Abi.ts","contracts/ERC721.ts","modules/order/utils.ts","components/ScrollToTop/ScrollToTop.tsx","setup.ts","lib/mana.ts","modules/order/actions.ts","modules/nft/actions.ts","modules/authorization/actions.ts","modules/bid/actions.ts","modules/analytics/track.ts","modules/translation/locales/index.ts","modules/account/reducer.ts","modules/authorization/reducer.ts","contracts/MANAAbi.ts","contracts/MANA.ts","modules/bid/utils.ts","modules/bid/reducer.ts","modules/nft/reducer.ts","modules/order/reducer.ts","modules/proximity/actions.ts","modules/proximity/reducer.ts","modules/routing/actions.ts","modules/routing/reducer.ts","modules/tile/actions.ts","modules/tile/reducer.ts","modules/ui/nft/bid/reducer.ts","modules/ui/actions.ts","modules/ui/nft/browse/reducer.ts","modules/ui/nft/homepage/reducer.ts","modules/ui/nft/partner/reducer.ts","modules/ui/nft/reducer.ts","components/AuthorizationModal/AuthorizationModal.types.ts","modules/ui/reducer.ts","contracts/ERC20Abi.ts","contracts/ERC20.ts","modules/authorization/utils.ts","modules/authorization/sagas.ts","modules/bid/sagas.ts","modules/nft/sagas.ts","modules/order/sagas.ts","modules/proximity/sagas.ts","modules/nft/selectors.ts","modules/ui/nft/browse/selectors.ts","modules/routing/selectors.ts","modules/account/selectors.ts","modules/vendor/api.ts","modules/routing/sagas.ts","modules/tile/sagas.ts","modules/translation/sagas.ts","modules/ui/sagas.ts","modules/wallet/sagas.ts","modules/sagas.ts","modules/store.ts","modules/reducer.ts","components/Navigation/Navigation.types.ts","components/UserMenu/UserMenu.tsx","components/UserMenu/index.ts","components/UserMenu/UserMenu.container.ts","components/Navbar/Navbar.tsx","components/Navbar/Navbar.container.ts","components/Footer/Footer.tsx","components/Navigation/Navigation.tsx","modules/tile/selectors.ts","components/Atlas/Popup/index.ts","components/Atlas/Popup/Popup.tsx","components/Atlas/Atlas.tsx","components/Atlas/Atlas.container.ts","components/Menu/Menu.tsx","components/Menu/MenuItem/MenuItem.tsx","components/Vendor/known_origin/NFTSections/NFTSections.tsx","components/Menu/DropdownMenu/DropdownMenu.tsx","components/Vendor/decentraland/NFTSections/NFTSections.tsx","components/Vendor/NFTSections/NFTSections.tsx","components/Vendor/VendorMenu/VendorMenu.tsx","components/Vendor/VendorMenu/VendorMenu.container.ts","components/AccountSidebar/AccountSidebar.tsx","components/AccountSidebar/AccountSidebar.container.ts","modules/order/selectors.ts","lib/date.ts","contracts/EstateRegistryAbi.ts","contracts/EstateRegistry.ts","modules/nft/estate/utils.ts","components/NFTImage/NFTImage.tsx","modules/proximity/selectors.ts","modules/nft/parcel/utils.ts","modules/proximity/utils.ts","modules/proximity/hooks.ts","components/NFTCard/ProximityTags/ProximityTags.tsx","components/NFTCard/ProximityTags/ProximityTags.container.ts","components/NFTCard/ParcelTags/ParcelTags.tsx","components/NFTCard/EstateTags/EstateTags.tsx","modules/nft/wearable/utils.ts","components/NFTCard/WearableTags/WearableTags.tsx","components/NFTCard/ENSTags/ENSTags.tsx","components/NFTCard/NFTCard.tsx","components/NFTCard/NFTCard.container.ts","components/NFTList/NFTList.tsx","components/NFTList/NFTList.container.ts","components/VendorStrip/VendorStrip.tsx","components/VendorStrip/VendorStrip.container.ts","components/Layout/Row/Row.tsx","components/Layout/Column/Column.tsx","components/Vendor/decentraland/NFTSidebar/NFTSidebar.tsx","components/Vendor/PartnerSidebar/PartnerSidebar.tsx","components/Vendor/PartnerSidebar/PartnerSidebar.container.ts","components/Vendor/NFTSidebar/NFTSidebar.tsx","components/Vendor/NFTSidebar/NFTSidebar.container.ts","components/Chip/Chip.tsx","lib/input.ts","components/Vendor/NFTFilters/TextFilter/TextFilter.tsx","components/Vendor/NFTFilters/ArrayFilter/ArrayFilter.tsx","components/Vendor/NFTFilters/SelectFilter/SelectFilter.tsx","components/Vendor/NFTFilters/FiltersMenu/FiltersMenu.tsx","components/Vendor/decentraland/NFTFilters/NFTFilters.tsx","components/Vendor/decentraland/NFTFilters/NFTFilters.container.ts","components/Vendor/PriceChangeNotice/PriceChangeNotice.tsx","components/Vendor/PriceChangeNotice/PriceChangeNotice.container.ts","components/Vendor/super_rare/NFTFilters/NFTFilters.tsx","components/Vendor/super_rare/NFTFilters/NFTFilters.container.ts","components/Vendor/makers_place/NFTFilters/NFTFilters.tsx","components/Vendor/makers_place/NFTFilters/NFTFilters.container.ts","components/Vendor/known_origin/NFTFilters/NFTFilters.tsx","components/Vendor/known_origin/NFTFilters/NFTFilters.container.ts","components/Vendor/NFTFilters/NFTFilters.tsx","components/Vendor/NFTFilters/NFTFilters.container.ts","components/NFTBrowse/NFTBrowse.tsx","components/NFTBrowse/NFTBrowse.container.ts","components/BrowsePage/BrowsePage.tsx","components/BrowsePage/BrowsePage.container.ts","components/PageHeader/PageHeader.tsx","components/AccountPage/AccountPage.tsx","components/AccountPage/AccountPage.container.ts","components/SignInPage/SignInPage.tsx","modules/authorization/selectors.ts","modules/transaction/utils.ts","components/SettingsPage/Authorization/Authorization.tsx","components/SettingsPage/SettingsPage.tsx","components/SettingsPage/SettingsPage.container.ts","components/NFTProvider/NFTProvider.tsx","components/NFTProvider/NFTProvider.container.ts","components/NFTProviderPage/NFTProviderPage.tsx","components/NFTProviderPage/NFTProviderPage.container.ts","components/NFTPage/Title/Title.tsx","components/NFTPage/Owner/Owner.tsx","components/NFTPage/Badge/Badge.tsx","components/NFTPage/Description/Description.tsx","components/NFTPage/OrderDetails/OrderDetails.tsx","components/NFTPage/OrderDetails/OrderDetails.container.ts","modules/bid/selectors.ts","modules/ui/nft/bid/selectors.ts","components/NFTPage/Actions/Actions.tsx","components/NFTPage/Actions/Actions.container.ts","components/NFTPage/Highlights/Highlights.tsx","components/NFTPage/Highlight/Highlight.tsx","components/NFTPage/ProximityHighlights/ProximityHighlights.tsx","components/NFTPage/ProximityHighlights/ProximityHighlights.container.ts","components/NFTPage/TransactionHistory/TransactionHistory.tsx","modules/nft/hooks.ts","components/Bid/AcceptButton/AcceptButton.tsx","components/Bid/WarningMessage/WarningMessage.tsx","components/Bid/Bid.tsx","components/Bid/Bid.container.ts","components/NFTPage/Bids/Bids.tsx","components/NFTPage/Bids/Bids.container.ts","components/NFTPage/ParcelDetail/ParcelDetail.tsx","components/NFTPage/ParcelDetail/ParcelDetail.container.ts","components/NFTPage/EstateDetail/EstateDetail.tsx","components/NFTPage/EstateDetail/EstateDetail.container.ts","components/NFTPage/WearableDetail/WearableDetail.tsx","components/NFTPage/WearableDetail/WearableDetail.container.ts","components/NFTPage/ENSDetail/ENSDetail.tsx","components/NFTPage/ENSDetail/ENSDetail.container.ts","components/NFTPage/PictureFrameDetail/PictureFrameDetail.tsx","components/NFTPage/PictureFrameDetail/PictureFrameDetail.container.ts","components/NFTPage/NFTPage.tsx","components/Wallet/Wallet.tsx","components/Wallet/Wallet.container.ts","components/AuthorizationModal/AuthorizationModal.tsx","components/AuthorizationModal/AuthorizationModal.container.ts","components/NFTAction/NFTAction.tsx","components/SellPage/SellModal/SellModal.tsx","components/SellPage/SellPage.tsx","components/SellPage/SellPage.container.ts","components/BuyPage/BuyModal/BuyModal.tsx","components/BuyPage/BuyPage.tsx","components/BuyPage/BuyPage.container.ts","components/BidPage/BidModal/BidModal.tsx","components/BidPage/BidPage.tsx","components/BidPage/BidPage.container.ts","components/CancelSalePage/CancelSalePage.tsx","components/CancelSalePage/CancelSalePage.container.ts","components/TransferPage/TransferPage.tsx","components/TransferPage/TransferPage.container.ts","components/ActivityPage/Transaction/TransactionDetail/TransactionDetail.tsx","components/ActivityPage/Transaction/Transaction.tsx","components/ActivityPage/ActivityPage.tsx","components/ActivityPage/ActivityPage.container.ts","modules/ui/nft/partner/selectors.ts","components/PartnersSidebar/PartnersSidebar.tsx","components/HomePage/Slideshow/Slideshow.tsx","components/PartnersPage/PartnersPage.tsx","components/PartnersPage/PartnersPage.container.ts","modules/ui/nft/homepage/selectors.ts","components/HomePage/HomePage.tsx","components/HomePage/HomePage.container.ts","components/MyBidsPage/MyBidsPage.tsx","components/MyBidsPage/MyBidsPage.container.ts","components/LegacyNFTPage/LegacyNFTPage.tsx","components/Routes/Routes.tsx","index.tsx","modules/routing/locations.ts","modules/order/types.ts","modules/contract/types.ts","modules/vendor/known_origin/api.ts","modules/vendor/known_origin/routing/types.ts","modules/vendor/routing/types.ts","modules/nft/types.ts","modules/vendor/decentraland/nft/api.ts","modules/vendor/super_rare/ContractService.ts","modules/vendor/known_origin/ContractService.ts","modules/transaction/selectors.ts","modules/vendor/decentraland/index.ts","modules/vendor/makers_place/ContractService.ts","modules/wallet/utils.ts","modules/vendor/decentraland/bid/fragments.ts","modules/vendor/decentraland/bid/api.ts","contracts/MarketplaceAdapterAbi.ts","contracts/MarketplaceAdapter.ts","modules/vendor/super_rare/index.ts","modules/vendor/makers_place/index.ts","modules/vendor/makers_place/api.ts","modules/vendor/known_origin/index.ts","modules/vendor/types.ts","modules/vendor/decentraland/nft/fragments.ts","modules/contract/utils.ts","modules/vendor/decentraland/NFTService.ts","modules/vendor/decentraland/order/api.ts","modules/vendor/super_rare/NFTService.ts","modules/vendor/super_rare/OrderService.ts","modules/vendor/makers_place/NFTService.ts","modules/vendor/makers_place/OrderService.ts","modules/vendor/known_origin/OrderService.ts","modules/vendor/known_origin/types.ts","modules/vendor/known_origin/edition/fragments.ts","modules/vendor/known_origin/edition/api.ts","modules/vendor/known_origin/token/fragments.ts","modules/vendor/known_origin/token/api.ts","modules/vendor/known_origin/NFTService.ts","contracts/BidsAbi.ts","contracts/Bids.ts","modules/vendor/decentraland/BidService.ts","contracts/MarketplaceAbi.ts","contracts/Marketplace.ts","modules/vendor/decentraland/OrderService.ts","modules/nft/utils.ts","modules/vendor/decentraland/order/fragments.ts","modules/vendor/decentraland/routing/types.ts","modules/wallet/selectors.ts","modules/ui/types.ts","modules/nft/wearable/types.ts","modules/routing/types.ts","modules/vendor/decentraland/bid/index.ts","modules/vendor/decentraland/nft/index.ts","modules/vendor/decentraland/order/index.ts","modules/vendor/decentraland/routing/index.ts","modules/vendor/super_rare/nft/index.ts","modules/vendor/makers_place/nft/index.ts","modules/vendor/known_origin/nft/index.ts","modules/vendor/known_origin/routing/index.ts","modules/vendor/decentraland/land/api.ts","modules/vendor/super_rare/routing/types.ts","modules/vendor/makers_place/routing/types.ts","modules/routing/search.ts","modules/vendor/utils.ts","modules/vendor/VendorFactory.ts"],"names":["ContractFactory","Contract","address","getConnectedProvider","provider","Error","eth","Eth","constructor","name","Address","fromString","console","log","process","contractAddresses","Network","ROPSTEN","MANAToken","LANDRegistry","EstateRegistry","Marketplace","Bids","DCLRegistrar","AtariLaunch","BinanceUsCollection","ChinaFlyingCollection","CommunityContestCollection","CybermikeCyberSoldierCollection","CZMercenaryMTZCollection","DappcraftMoonminerCollection","DCGCollection","DCLLaunchCollection","DCMetaCollection","DCNiftyblocksmithCollection","DGFall2020Collection","DGSummer2020Collection","DgtbleHeadspaceCollection","DigitalAlchemyCollection","EtheremonWearablesCollection","ExclusiveMasksCollection","Halloween2019Collection","Halloween2020Collection","MCHCollection","MemeDontBuyThis","MFSammichgamerCollection","MLLiondance","MLPekingoperaCollection","Moonshot2020Collection","PMDreamverseEminenceCollection","PMOuttathisworldCollection","RACBasics","ReleaseTheKraken","RTFKTXAtari","StaySafeCollection","SugarclubYumiCollection","TechTribalMarc0maticCollection","ThreeLAUBasics","WinklevossCapital","WonderzoneMeteorchaserCollection","WonderzoneSteampunkCollection","WZWonderbotCollection","Xmas2019Collection","Xmas2020Collection","XmashUp2020","BSC","ContractService","contractSymbols","contractNames","contractCategories","NFTCategory","PARCEL","ESTATE","ENS","WEARABLE","_address","TransferType","SAFE_TRANSFER_FROM","MAX_QUERY_SIZE","link","HttpLink","uri","client","ApolloClient","cache","InMemoryCache","defaultOptions","query","fetchPolicy","superRareAPI","url","API_KEY","params","this","request","buildFetchManyParams","contractAddress","tokenId","buildFetchOneParams","nfts","orders","method","path","getHeaders","headers","Authorization","type","asset_contract_addresses","asset_ids","Number","requestParams","offset","skip","limit","Math","min","first","sort","getSort","orderBy","search","order","orderDirection","owner_addresses","sortBy","NFTSortBy","PRICE","ORDER_CREATED_AT","BaseAPI","MarketplacePrice","oneMillion","feePerMillion","maxPriceIncreasePercentage","isNaN","toBN","manaWeiAmount","bnAmount","toString","add","mul","div","divRound","computedPrice","price","percentage","toNumber","ContractAbi","Converter","options","abi","_uniswapV2Router","pricesCache","TokenConverter","apiURL","converterAddress","converterExchange","ethAmount","marketEthToToken","coinId","exchange","window","fetch","response","json","coinTickers","ticker","tickers","converted_last","contractEthToToken","tokenAddress","build","converter","methods","calcNeededTokensForEther","call","ERC721","INPUT_FORMAT","getDefaultExpirationDate","date","Date","now","dateFnsFormat","addDays","isExpired","expiresAt","parseInt","getActiveOrder","nft","activeOrderId","React","memo","pathname","useLocation","useEffect","scrollTo","config","oneEthInMANA","formatMANA","value","BN","toLocaleString","toMANA","num","fromMANA","mana","split","MANA_SYMBOL","join","result","createOrderSuccess","chainId","txHash","action","buildTransactionPayload","getNFTName","createOrderFailure","error","executeOrderSuccess","executeOrderFailure","cancelOrderSuccess","cancelOrderFailure","FETCH_NFTS_REQUEST","FETCH_NFTS_SUCCESS","DEFAULT_BASE_NFT_PARAMS","CREATED_AT","SortDirection","DESC","onlyOnSale","fetchNFTsRequest","timestamp","fetchNFTsSuccess","accounts","count","fetchNFTsFailure","fetchNFTSuccess","fetchNFTFailure","transferNFTSuccess","transferNFTFailure","fetchAuthorizationRequest","allowances","approvals","fetchAuthorizationSuccess","authorization","allowTokenRequest","isAllowed","tokenContractAddress","allowTokenSuccess","approveTokenRequest","isApproved","approveTokenSuccess","placeBidSuccess","bidder","fingerprint","placeBidFailure","acceptBidSuccess","bid","acceptBidFailure","cancelBidSuccess","cancelBidFailure","fetchBidsByAddressSuccess","sellerBids","bidderBids","fetchBidsByAddressFailure","fetchBidsByNFTSuccess","bids","fetchBidsByNFTFailure","track","actionType","eventName","getPayload","payload","withCategory","item","category","toUpperCase","slice","id","seller","owner","buyer","to","FETCH_TRANSACTION_FAILURE","status","TransactionStatus","REVERTED","FIX_REVERTED_TRANSACTION","REPLACE_TRANSACTION_SUCCESS","contractName","tokenContractName","bidId","view","vendor","en","require","es","zh","INITIAL_STATE","data","loading","accountReducer","state","loadingReducer","reduce","obj","account","EMPTY_ADDRESS_STATE","authorizationReducer","addressState","FETCH_TRANSACTION_SUCCESS","transaction","MANA","isInsufficientMANA","a","getAddress","store","getState","balanceOf","balance","warn","message","checkFingerprint","toBidObject","bidReducer","nftReducer","orderReducer","fetchProximitySuccess","proximity","proximityReducer","browse","searchOptions","fetchNFTsFromRoute","setIsLoadMore","isLoadMore","routingReducer","fetchTilesSuccess","tiles","tileReducer","archived","setView","undefined","ids","lastTimestamp","View","HOME_WEARABLES","HOME_LAND","HOME_ENS","PARTNERS_SUPER_RARE","PARTNERS_MAKERS_PLACE","PARTNERS_KNOWN_ORIGIN","AuthorizationType","combineReducers","map","filter","ATLAS","LOAD_MORE","MARKET","ACCOUNT","homepage","nftIds","partner","uiReducer","ERC20","getAuthorizations","definition","contractCall","tokenContractAddresses","callResult","callAllowance","walletAddress","contract","toAddress","allowance","callIsApprovedForAll","isApprovedForAll","hasAuthorization","authorizations","privilege","ALLOWANCE","authorizationSaga","handleFetchAuthorizationRequest","handleAllowTokenRequest","handleApproveTokenRequest","takeEvery","toLowerCase","all","then","put","select","getWallet","wallet","amount","pow","tokenContract","approve","send","from","getTxHash","transactionHash","getChainId","setApprovalForAll","bidSaga","handlePlaceBidRequest","handleAcceptBidRequest","handleCancelBidRequest","handleFetchBidsByAddressRequest","handleFetchBidsByNFTRequest","VendorFactory","bidService","place","push","locations","activity","contractVendors","accept","cancel","vendorName","Promise","fetchBySeller","fetchByBidder","concat","Object","values","Vendors","fetchByNFT","nftSaga","handleFetchNFTsRequest","handleFetchNFTRequest","handleTransferNFTRequest","filters","nftService","fetchOne","transfer","orderSaga","handleCreateOrderRequest","handleExecuteOrderRequest","handleCancelOrderRequest","orderService","create","nftId","execute","proximitySaga","handleFetchProximityRequest","handleFetchTilesSuccess","_action","resp","getData","getLoading","nftDetailMatchSelector","createMatchSelector","getContractAddress","createSelector","match","getTokenId","getCurrentNFT","getNFT","getNFTsByOwner","nftsByOwner","keys","key","getWalletNFTs","ui","getView","getCount","getNFTs","getNFTData","nftsById","getVendor","getRouterSearch","getURLParam","isVendor","DECENTRALAND","getSection","Section","ALL","getPage","page","getSortBy","getDefaultOptionsByView","getOnlyOnSale","getIsMap","isMap","getIsFullscreen","isFullscreen","getWearableRarities","getURLParamArray","WearableRarity","getWearableGenders","WearableGender","getContracts","getSearch","accountMatchSelector","getMaxQuerySize","decentralandMaxQuerySize","SUPER_RARE","superRareMaxQuerySize","MAKERS_PLACE","makersPlaceMaxQuerySize","KNOWN_ORIGIN","knownOriginMaxQuerySize","routingSaga","handleFetchNFTsFromRoute","handleBrowse","getNewSearchOptions","deriveCurrentOptions","newSearchOptions","getLocation","getSearchParams","section","getSortOrder","getSearchCategory","getFilters","current","previous","deriveView","deriveVendor","shouldResetOptions","defaults","currentAccount","getWalletAddress","getAccountAddress","newOptions","nextCategory","prevCategory","wearableRarities","wearableGenders","contracts","tileSaga","handleFetchTilesRequest","handleConnectWalletSuccess","CONNECT_WALLET_SUCCESS","Atlas","fetchTiles","ATLAS_URL","isLand","translationSaga","createTranslationSaga","translations","uiSaga","signIn","walletSaga","fullWalletSaga","handleWallet","baseWalletSaga","createWalletSaga","CHAIN_ID","CHANGE_ACCOUNT","CHANGE_NETWORK","MarketplaceAdapter","ART","rootSaga","analyticsSaga","createAnalyticsSaga","profileSaga","createProfileSaga","peerUrl","transactionSaga","history","NavigationTab","composeEnhancers","compose","createBrowserHistory","rootReducer","storageReducerWrapper","profile","routing","tile","router","connectRouter","storage","translation","sagasMiddleware","createSagasMiddleware","loggerMiddleware","createLogger","collapsed","predicate","_","includes","transactionMiddleware","createTransactionMiddleware","createStorageMiddleware","storageKey","paths","actions","CLEAR_TRANSACTIONS","migrations","storageMiddleware","loadStorageMiddleware","analyticsMiddleware","createAnalyticsMiddleware","enhancer","applyMiddleware","routerMiddleware","createStore","run","dispatch","UserMenu","props","PureComponent","connect","isSignedIn","isConnected","isSigningIn","isConnecting","isActivity","hasActivity","getTransactions","some","tx","isPending","onClickActivity","onClickSettings","settings","hasPendingTransactions","onNavigate","rightMenu","handleOnSignIn","useCallback","handleOnClickAccount","handleClickActivity","activePage","isSignIn","onSignIn","onClickAccount","middleMenu","Item","className","onClick","Navbar","locales","tranlsations","activeTab","Left","Tab","active","BROWSE","t","partners","PARTNERS","PARTNER","MY_ASSETS","MY_BIDS","maxWidth","Responsive","onlyMobile","ACTIVITY","getTiles","getTilesByEstateId","tilesByEstateId","estate_id","Popup","x","y","visible","position","isEstate","style","top","left","opacity","color","sub","ZERO","debounce","getCoords","withNavigation","withPopup","showOnSale","useState","showPopup","setShowPopup","hoveredTile","setHoveredTile","mouseX","setMouseX","mouseY","setMouseY","setX","setY","timeout","useRef","selection","useMemo","set","pair","Set","userTiles","lands","parcel","Color","SUMMER_RED","estateId","topLeft","Map","isSelected","has","next","center","forSaleLayer","selectedStrokeLayer","scale","selectedFillLayer","userLayer","get","handleClick","nftAPI","fetchTokenId","handleHover","handleHidePopup","clearTimeout","setTimeout","handleMouseMove","event","offsetX","offsetY","document","addEventListener","removeEventListener","layers","unshift","onMouseLeave","onHover","innerWidth","defaultProps","children","currentValue","subtitle","image","isSub","withCaret","classNames","handleOnClick","alt","src","width","circular","onSectionClick","isAccountPage","EDITIONS","TOKENS","onMenuItemClick","index","LAND","menuSection","PARCELS","ESTATES","WEARABLES","WEARABLES_HEAD","WEARABLES_FACIAL_HAIR","WEARABLES_HAIR","WEARABLES_UPPER_BODY","WEARABLES_LOWER_BODY","WEARABLES_FEET","WEARABLES_ACCESORIES","WEARABLES_EARRING","WEARABLES_EYEWEAR","WEARABLES_HAT","WEARABLES_HELMET","WEARABLES_MASK","WEARABLES_TIARA","WEARABLES_TOP_HEAD","currentVendor","isCurrentVendor","setIsCurrentVendor","isOpen","setIsOpen","currentCount","setCurrentCount","isDisabled","handleToggleOpen","newCount","VendorMenu","onBrowse","handleOnBrowse","decentraland","getPartners","AccountSidebar","getCurrentOrder","formatDistanceToNow","locale","getCurrentLocale","formatDistanceToNowI18N","estateRegistry","getFingerprint","NFTImage","isDraggable","hasPopup","zoom","isSmall","showMonospace","estate","wearable","ens","estateSelection","parcels","getSelection","xs","coords","ys","length","getCenter","backgroundImage","RARITY_COLOR_LIGHT","rarity","RARITY_COLOR","subdomain","classes","debounceDurationMs","placeholder","ref","size","actual","imageProps","rest","getProximities","getId","buildExplorerUrl","getDistanceText","distance","useProximity","proximities","getParcelProximity","estateProximity","parcelProximity","district","plaza","road","getEstateProximity","ProximityTags","title","_dispatch","ParcelTags","EstateTags","isGender","gender","bodyShapes","isUnisex","WearableTags","backgroundColor","BodyShape","MALE","ENSTags","as","Link","Content","Header","inline","Meta","addSuffix","ownProps","NFTCard","isLoading","handleLoadMore","maxQuerySize","hasExtraPages","isLoadingNewPage","Group","inverted","primary","isLoadingType","NFTList","VendorStrip","Row","Column","align","grow","shrink","handleGoBack","PartnerSidebar","NFTSidebar","Chip","text","icon","isActive","TextFilter","onChange","ms","setText","handleChange","target","useInput","inputRef","focus","getClasses","ArrayFilter","option","getNewValues","SelectFilter","_event","ALL_COLLECTIONS_FILTER_OPTION","FiltersMenu","selectedCollection","selectedRarities","selectedGenders","onCollectionsChange","onRaritiesChange","onGendersChange","collectionOptions","collection","rarityOptions","COMMON","UNIQUE","reverse","genderOptions","defaultValues","showFiltersMenu","setShowFiltersMenu","showFiltersModal","setShowFiltersModal","dropdownOptions","SortBy","NEWEST","NAME","RECENTLY_LISTED","CHEAPEST","find","appliedFilters","handleOnlyOnSaleChange","checked","handleIsMapChange","handleDropdownChange","handleRaritiesChange","handleGendersChange","handleCollectionsChange","handleSearch","newSearch","handleToggleFilterMenu","searchPlaceholder","suffix","minWidth","onlyTablet","toggle","label","direction","open","onClose","NFTFilters","isValidView","isDismissed","localStorage","getItem","isVisible","setIsVisible","handleClose","setItem","fluid","PriceChangeNotice","Dropdown","onSetView","onFetchNFTsFromRoute","handleSetFullscreen","NFTBrowse","isPartner","BrowsePage","onRedirect","isCurrentAccount","imageOnly","textOnly","replace","AccountPage","getAllowTransactions","getTransactionsByType","getApproveTransactions","getPendingTransactions","allowTransactions","approveTransactions","hasTransactionPending","transactions","pendingTransactions","handleOnChange","isChecked","Field","content","trigger","contract_link","symbol","pendingAllowTransactions","pendingApproveTransactions","isLoadingAuthorization","onAllowToken","onApproveToken","hasCopiedText","setHasCopiedText","timeoutId","setTimeoutId","handleOnCopy","newTimeoutId","hasEmptyAuthorizations","computer","mobile","seed","isMobile","shortenAddress","onCopy","networks","toFixed","href","rel","getAuthorizationsData","isTransactionPending","SettingsPage","onFetchNFT","getOrders","fetchNFTRequest","stateProps","dispatchProps","NFTProvider","Loading","NotFound","isNFTLoading","NFTProviderPage","right","OrderDetails","getSellerBids","getBidData","bidsById","getBidderBids","getArchivedBidIds","getNFTBids","showLeavingSiteModal","setShowLeavingSiteModal","isBiddable","isOwner","isOwnedBy","canSell","canBid","sell","buy","vendor_link","Actions","description","ProximityHighlights","formatEventDate","updatedAt","newUpdatedAt","getTime","sortByUpdatedAt","b","toEvent","orderOrBid","setOrders","setBids","setIsLoading","OrderStatus","SOLD","finally","catch","events","onlyComputer","basic","HeaderCell","Body","Cell","useFingerprint","setFingerprint","isLoadingFingerprint","notEnoughMana","setNotEnoughMana","isValidFingerprint","isValidSeller","button","disabled","Bid","archivedBidIds","onAccept","onArchive","onUnarchive","onCancel","onUpdate","isArchivable","hasImage","isArchived","isBidder","addressEquals","isSeller","handleAccept","cancelBidRequest","archiveBid","unarchiveBid","acceptBidRequest","onFetchBids","hasFetched","setHasFetched","filteredBids","fetchBidsByNFTRequest","_state","ParcelDetail","EstateDetail","handleCategoryClick","getSearchWearableSection","handleGenderClick","FEMALE","handleRarityClick","handleUnisexClick","ENSDetail","PictureFrameDetail","NotConnected","sign_in","Wallet","onAllow","onApprove","onProceed","isAuthorized","token","Description","settings_link","br","AuthorizationModal","onCreateOrder","isUpdate","fromWei","setPrice","setExpiresAt","confirmPrice","setConfirmPrice","showConfirm","setShowConfirm","showAuthorizationModal","setShowAuthorizationModal","handleCreateOrder","handleSubmit","APPROVAL","isInvalidDate","onSubmit","newPrice","createOrderRequest","SellPage","onExecuteOrder","isFingerprintLoading","setComputedPrice","percentageIncrease","setPercentageIncrease","isAboveMaxPercentage","setIsAboveMaxPercentage","tokenConverter","marketPrice","contractEthToMANA","ethPrice","getPercentageIncrease","isAboveMaxIncreasePercentage","useComputedPrice","wantsToProceed","setWantsToProceed","handleExecuteOrder","marketplaceAddress","handleToggleWantsToProceed","Price","BuyModal","executeOrderRequest","BuyPage","onPlaceBid","handlePlaceBid","placeBidRequest","BidPage","onCancelOrder","cancelOrderRequest","CancelSalePage","onTransfer","setAddress","isInvalidAddress","setIsInvalidAddress","canTransfer","subtitleClasses","isValid","test","transferNFTRequest","TransferPage","getHref","getTransactionHref","replacedBy","hash","CONFIRMED","REPLACED","onClearHistory","showConfirmation","setShowConfirmation","handleClear","handleConfirm","handleCancel","clearTransactions","ActivityPage","partnerState","getAllPartners","getPartnersLoading","getNFTLoading","nftLoading","isSubHeader","onViewAll","renderNfts","Right","partnersLoading","handleOnNavigate","views","PartnersPage","getHomepage","getHomepageLoading","homepageLoading","sections","handleGetStarted","handleViewAll","isOverlay","centered","HomePage","showArchived","setShowArchivedSeller","handleToggleSeller","unarchived","filteredSeller","fetchBidsByAddressRequest","MyBidsPage","contractService","root","Routes","exact","component","SignInPage","NFTPage","LegacyNFTPage","location","buildContracts","ReactDOM","render","getElementById","superRare","makersPlace","knownOrigin","NFTAPI","getNFTsQuery","variables","buildFetchVariables","countQuery","getNFTsCountQuery","NFT_BY_ADDRESS_AND_ID_QUERY","PARCEL_TOKEN_ID_QUERY","NFTS_FILTERS","NFTS_ARGUMENTS","isCount","extraWhere","trim","wearableCategory","isWearableHead","isWearableAccessory","hasMale","hasFemale","gql","nftFragment","SuperRare","SuperRareV2","SuperRareMarket","SuperRareMarketV2","TRANSFER","DigitalAsset","BuyAdapter","services","BidService","NFTService","OrderService","DigitalMediaCore","DigitalMediaCore2","address1","address2","bidFragment","nftFields","BidAPI","BIDS_BY_SELLER_QUERY","BIDS_BY_BIDDER_QUERY","OPEN","BIDS_BY_NFT_QUERY","bidAPI","_converter","_collector","_adapderFee","makersPlaceAPI","page_size","page_num","ceil","on_sale","owner_address","q","token_id","contract_address","errors","JSON","stringify","capitalize","str","Disabled","orderFields","vendors","addresses","isBroken","removeBrokenNFTs","remoteNFTs","total","remoteNFT","toNFT","toOrder","toAccount","e","countParams","fromAddress","erc721","transferFrom","activeOrder","marketAddress","OrderAPI","NFT_ORDERS_QUERY","orderFragment","orderAPI","marketplacePrice","oneEthInWei","fetchNFTs","fetchOrders","remoteOrders","asset","getOneEthInMANA","remoteOrder","remoteElements","fetchNFT","fetchOrder","transferType","getTransferType","getNFTId","taker","totalWei","addFee","amountWithFee","nftAddress","marketContractAddress","createdAt","marketEthToMANA","toWei","assetContractAddress","assetMarketAddress","manaTokenAddress","DecentralandContractService","calldata","getCallData","manaPrice","maxPrice","addMaxSlippage","marketplaceAdapter","abiCoder","ABICoder","encodeFunctionCall","inputs","total_items","items","isOnSale","token_contract_address","image_url","getDefaultURL","price_in_wei","sale_contract_address","sale_created_at","origin","getOriginURL","AssetType","editionFragment","EditionAPI","buildVariables","addType","editions","EDITION_BY_ID_QUERY","tokens","EDITION","EDITIONS_FILTERS","EDITIONS_ARGUMENTS","editionAPI","tokenFragment","TokenAPI","TOKEN_BY_ID_QUERY","TOKEN","TOKENS_FILTERS","TOKENS_ARGUMENTS","tokenAPI","getAPI","fragments","fragment","editionCount","tokenCount","_contractAddress","metadata","getOwner","isEdition","edition","priceInWei","artistAccount","createdTimestamp","isToken","currentOwner","_manaToken","_owner","remoteBids","getBidContract","expiresIn","round","placeBid","safeTransferFrom","blockchainId","cancelBid","getMarketplaceContract","marketplace","createOrder","safeExecuteOrder","executeOrder","cancelOrder","contractCategory","ASC","baseGetAddress","WearableCategory","MYTHIC","LEGENDARY","EPIC","RARE","UNCOMMON","URLSearchParams","DclSection","WEARABLES_EYEBROWS","WEARABLES_EYES","WEARABLES_MOUTH","getSearchWearableCategory","EYEBROWS","EYES","FACIAL_HAIR","HAIR","MOUTH","UPPER_BODY","LOWER_BODY","FEET","EARRING","EYEWEAR","HAT","HELMET","MASK","TIARA","TOP_HEAD","paramName","validValues","param","currentSection","disabledVendors","Vendor"],"mappings":"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","file":"static/js/main.2659ac82.chunk.js","sourcesContent":["import { Eth } from 'web3x-es/eth'\nimport { Address } from 'web3x-es/address'\nimport { ContractOptions } from 'web3x-es/contract'\nimport { getConnectedProvider } from 'decentraland-dapps/dist/lib/eth'\n\ntype ContractConstructor<T> = {\n  new (eth: Eth, address?: Address, options?: ContractOptions): T\n}\n\nexport class ContractFactory {\n  static async build<T>(Contract: ContractConstructor<T>, address: string) {\n    const provider = await getConnectedProvider()\n    if (!provider) {\n      throw new Error('Could not connect to provider')\n    }\n\n    const eth = new Eth(provider)\n\n    if (!address) {\n      throw new Error(`Empty address for contract ${Contract.constructor.name}`)\n    }\n\n    return new Contract(eth, Address.fromString(address))\n  }\n}\n","import { ContractService as ContractServiceInterface } from '../services'\nimport { Network } from '../../contract/types'\nimport { NFTCategory } from '../../nft/types'\nimport { TransferType } from '../types'\n\nconst network = process.env.REACT_APP_NETWORK! as Network\nconsole.log('network', network);\nconst contractAddresses = {\n  [Network.ROPSTEN]: {\n    MANAToken: '0xc267090d65b9389c5006d49b2c46b86c71470acb',\n    LANDRegistry: '0xead5be7a17881adc74419565dbd67508979ad2f4',\n    EstateRegistry: '0xd8dbe60aeb7cd1f04df2fd89e35e418346508672',\n    Marketplace: '0xd075116d6eb21afabfc58fdc8a115c5bf044a0fe',\n    Bids: '0xa5A59E812ec2eEB65f73f997e71EE6126f907Ed3',\n    DCLRegistrar: '0x460b01a32b18a1fb1416da2440e54b593c701238',\n\n    AtariLaunch: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    BinanceUsCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    ChinaFlyingCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    CommunityContestCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    CybermikeCyberSoldierCollection:\n      '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    CZMercenaryMTZCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DappcraftMoonminerCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DCGCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DCLLaunchCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DCMetaCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DCNiftyblocksmithCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DGFall2020Collection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DGSummer2020Collection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DgtbleHeadspaceCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    DigitalAlchemyCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    EtheremonWearablesCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    ExclusiveMasksCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    Halloween2019Collection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    Halloween2020Collection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    MCHCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    MemeDontBuyThis: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    MFSammichgamerCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    MLLiondance: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    MLPekingoperaCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    Moonshot2020Collection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    PMDreamverseEminenceCollection:\n      '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    PMOuttathisworldCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    RACBasics: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    ReleaseTheKraken: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    RTFKTXAtari: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    StaySafeCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    SugarclubYumiCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    TechTribalMarc0maticCollection:\n      '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    ThreeLAUBasics: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    WinklevossCapital: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    WonderzoneMeteorchaserCollection:\n      '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    WonderzoneSteampunkCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    WZWonderbotCollection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    Xmas2019Collection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    Xmas2020Collection: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0',\n    XmashUp2020: '0x30ae57840b0e9b8ea55334083d53d80b2cfe80e0'\n  },\n  [Network.BSC]: {\n    MANAToken: '0x52844427435574239e063c98a81670b94093ac8d',\n    LANDRegistry: '0x745e885cf0c4dacada48bf8aa0ff058cb6a05e37',\n    EstateRegistry: '0x8570E3942d7F14BB3Dd51E2fB0A813Ce93d8e4C9',\n    Marketplace: '0xf6512ea6bfd958e4bbb77eb7f23cd027a9800543',\n    Bids: '0x6f5e8158eefd4b870e7c02147216c581010b058f',\n    DCLRegistrar: '0x8570E3942d7F14BB3Dd51E2fB0A813Ce93d8e4C9',\n\n    AtariLaunch: '0x4c290f486bae507719c562b6b524bdb71a2570c9',\n    BinanceUsCollection: '0xa8ee490e4c4da48cc1653502c1a77479d4d818de',\n    ChinaFlyingCollection: '0x90958d4531258ca11d18396d4174a007edbc2b42',\n    CommunityContestCollection: '0x32b7495895264ac9d0b12d32afd435453458b1c6',\n    CybermikeCyberSoldierCollection:\n      '0x24d538a6265b006d4b53c45ba91af5ef60dca6cb',\n    CZMercenaryMTZCollection: '0xc3ca6c364b854fd0a653a43f8344f8c22ddfdd26',\n    DappcraftMoonminerCollection: '0x1e1d4e6262787c8a8783a37fee698bd42aa42bec',\n    DCGCollection: '0x3163d2cfee3183f9874e2869942cc62649eeb004',\n    DCLLaunchCollection: '0xd35147be6401dcb20811f2104c33de8e97ed6818',\n    DCMetaCollection: '0xe7a64f6a239ed7f5bf18caa1ce2920d0c1278129',\n    DCNiftyblocksmithCollection: '0x102daabd1e9d294d4436ec4c521dce7b1f15499e',\n    DGFall2020Collection: '0x7038e9d2c6f5f84469a84cf9bc5f4909bb6ac5e0',\n    DGSummer2020Collection: '0xbf53c33235cbfc22cef5a61a83484b86342679c5',\n    DgtbleHeadspaceCollection: '0x574f64ac2e7215cba9752b85fc73030f35166bc0',\n    DigitalAlchemyCollection: '0x5cf39e64392c615fd8086838883958752a11b486',\n    EtheremonWearablesCollection: '0x54266bcf2ffa841af934f003d144957d5934f3ab',\n    ExclusiveMasksCollection: '0xc04528c14c8ffd84c7c1fb6719b4a89853035cdd',\n    Halloween2019Collection: '0xc1f4b0eea2bd6690930e6c66efd3e197d620b9c2',\n    Halloween2020Collection: '0xfeb52cbf71b9adac957c6f948a6cf9980ac8c907',\n    MCHCollection: '0xf64dc33a192e056bb5f0e5049356a0498b502d50',\n    MemeDontBuyThis: '0x1a57f6afc902d25792c53b8f19b7e17ef84222d5',\n    MFSammichgamerCollection: '0x30d3387ff3de2a21bef7032f82d00ff7739e403c',\n    MLLiondance: '0x0b1c6c75d511fae05e7dc696f4cf14129a9c43c9',\n    MLPekingoperaCollection: '0x60d8271c501501c4b8cd9ed5343ac59d1b79d993',\n    Moonshot2020Collection: '0x6a99abebb48819d2abe92c5e4dc4f48dc09a3ee8',\n    PMDreamverseEminenceCollection:\n      '0x09305998a531fade369ebe30adf868c96a34e813',\n    PMOuttathisworldCollection: '0x75a3752579dc2d63ca229eebbe3537fbabf85a12',\n    RACBasics: '0x68e139552c4077ce5c9ab929c7e18ca721ffff00',\n    ReleaseTheKraken: '0xffc5043d9a00865d089d5eefa5b3d1625aec6763',\n    RTFKTXAtari: '0x6b47e7066c7db71aa04a1d5872496fe05c4c331f',\n    StaySafeCollection: '0x201c3af8c471e5842428b74d1e7c0249adda2a92',\n    SugarclubYumiCollection: '0xb5d14052d1e2bce2a2d7459d0379256e632b855d',\n    TechTribalMarc0maticCollection:\n      '0x480a0f4e360e8964e68858dd231c2922f1df45ef',\n    ThreeLAUBasics: '0xe1ecb4e5130f493551c7d6df96ad19e5b431a0a9',\n    WinklevossCapital: '0xc82a864a94db3550bc71fcb4ce07228bcec21f1a',\n    WonderzoneMeteorchaserCollection:\n      '0x34ed0aa248f60f54dd32fbc9883d6137a491f4f3',\n    WonderzoneSteampunkCollection: '0xb96697fa4a3361ba35b774a42c58daccaad1b8e1',\n    WZWonderbotCollection: '0x5df4602e7f38a91ea7724fc167f0c67f61604b1e',\n    Xmas2019Collection: '0xc3af02c0fd486c8e9da5788b915d6fff3f049866',\n    Xmas2020Collection: '0xecf073f91101ce5628669c487aee8f5822a101b1',\n    XmashUp2020: '0xdd9c7bc159dacb19c9f6b9d7e23948c87aa2397f'\n  }\n}[network]\n\nconst {\n  MANAToken,\n  LANDRegistry,\n  EstateRegistry,\n  Marketplace,\n  Bids,\n  DCLRegistrar,\n\n  AtariLaunch,\n  BinanceUsCollection,\n  ChinaFlyingCollection,\n  CommunityContestCollection,\n  CybermikeCyberSoldierCollection,\n  CZMercenaryMTZCollection,\n  DappcraftMoonminerCollection,\n  DCGCollection,\n  DCLLaunchCollection,\n  DCMetaCollection,\n  DCNiftyblocksmithCollection,\n  DGFall2020Collection,\n  DGSummer2020Collection,\n  DgtbleHeadspaceCollection,\n  DigitalAlchemyCollection,\n  EtheremonWearablesCollection,\n  ExclusiveMasksCollection,\n  Halloween2019Collection,\n  Halloween2020Collection,\n  MCHCollection,\n  MemeDontBuyThis,\n  MFSammichgamerCollection,\n  MLLiondance,\n  MLPekingoperaCollection,\n  Moonshot2020Collection,\n  PMDreamverseEminenceCollection,\n  PMOuttathisworldCollection,\n  RACBasics,\n  ReleaseTheKraken,\n  RTFKTXAtari,\n  StaySafeCollection,\n  SugarclubYumiCollection,\n  TechTribalMarc0maticCollection,\n  ThreeLAUBasics,\n  WinklevossCapital,\n  WonderzoneMeteorchaserCollection,\n  WonderzoneSteampunkCollection,\n  WZWonderbotCollection,\n  Xmas2019Collection,\n  Xmas2020Collection,\n  XmashUp2020\n} = contractAddresses\n\nexport type ContractName = keyof typeof contractAddresses\n\nexport class ContractService implements ContractServiceInterface {\n  static contractAddresses = contractAddresses\n\n  contractAddresses = contractAddresses\n\n  contractSymbols = {\n    [MANAToken]: 'MANA',\n    [LANDRegistry]: 'LAND',\n    [EstateRegistry]: 'Estates',\n    [Marketplace]: 'Marketplace',\n    [Bids]: 'Bids',\n    [DCLRegistrar]: 'Names',\n\n    [AtariLaunch]: 'Atari Launch',\n    [BinanceUsCollection]: 'Binance Us',\n    [ChinaFlyingCollection]: 'China Flying',\n    [CommunityContestCollection]: 'Community Contest',\n    [CybermikeCyberSoldierCollection]: 'Cybermike CyberSoldier Set',\n    [CZMercenaryMTZCollection]: 'CZ Mercenary MTZ',\n    [DappcraftMoonminerCollection]: 'Dappcraft Moonminer',\n    [DCGCollection]: 'DCG',\n    [DCLLaunchCollection]: 'DCL Launch',\n    [DCMetaCollection]: 'DC Meta',\n    [DCNiftyblocksmithCollection]: 'DC Niftyblocksmith',\n    [DGFall2020Collection]: 'DG Fall 2020',\n    [DGSummer2020Collection]: 'DG Summer',\n    [DgtbleHeadspaceCollection]: 'Dgtble Headspace',\n    [DigitalAlchemyCollection]: 'Digital Alchemy',\n    [EtheremonWearablesCollection]: 'Ethermon Wearables',\n    [ExclusiveMasksCollection]: 'Exclusive Masks',\n    [Halloween2019Collection]: 'Halloween2019',\n    [Halloween2020Collection]: 'Halloween2020',\n    [MCHCollection]: 'MCH',\n    [MemeDontBuyThis]: \"Meme don't buy this\",\n    [MFSammichgamerCollection]: 'MF Sammichgamer',\n    [MLLiondance]: 'ML Liondance',\n    [MLPekingoperaCollection]: 'ML Pekingopera',\n    [Moonshot2020Collection]: 'Moonshot',\n    [PMDreamverseEminenceCollection]: 'PM Dreamverse Eminence',\n    [PMOuttathisworldCollection]: 'PM Outtathisworld',\n    [RACBasics]: 'RAC Basics',\n    [ReleaseTheKraken]: 'Release the Kraken',\n    [RTFKTXAtari]: 'RTFKT X Atari',\n    [StaySafeCollection]: 'Stay Safe',\n    [SugarclubYumiCollection]: 'Sugarclub Yumi',\n    [TechTribalMarc0maticCollection]: 'Tech Tribal Marc0matic',\n    [ThreeLAUBasics]: '3LAUBasics',\n    [WinklevossCapital]: 'Winklevoss Capital',\n    [WonderzoneMeteorchaserCollection]: 'Wonderzone Meteorcharser',\n    [WonderzoneSteampunkCollection]: 'Wonderzone Steampunk',\n    [WZWonderbotCollection]: 'WZ Wonderbot',\n    [Xmas2019Collection]: 'Xmas2019',\n    [Xmas2020Collection]: 'Xmas2020',\n    [XmashUp2020]: 'XmashUp'\n  } as const\n\n  contractNames = {\n    [MANAToken]: 'MANAToken',\n    [LANDRegistry]: 'LANDRegistry',\n    [EstateRegistry]: 'EstateRegistry',\n    [DCLRegistrar]: 'DCLRegistrar',\n    [Marketplace]: 'Marketplace',\n    [Bids]: 'ERC721Bid',\n\n    [AtariLaunch]: 'AtariLaunch',\n    [BinanceUsCollection]: 'BinanceUsCollection',\n    [ChinaFlyingCollection]: 'ChinaFlyingCollection',\n    [CommunityContestCollection]: 'CommunityContestCollection',\n    [CybermikeCyberSoldierCollection]: 'CybermikeCyberSoldierCollection',\n    [CZMercenaryMTZCollection]: 'CZMercenaryMTZCollection',\n    [DappcraftMoonminerCollection]: 'DappcraftMoonminerCollection',\n    [DCGCollection]: 'DCGCollection',\n    [DCLLaunchCollection]: 'DCLLaunchCollection',\n    [DCMetaCollection]: 'DCMetaCollection',\n    [DCNiftyblocksmithCollection]: 'DCNiftyblocksmithCollection',\n    [DGFall2020Collection]: 'DGFall2020Collection',\n    [DGSummer2020Collection]: 'DGSummer2020Collection',\n    [DgtbleHeadspaceCollection]: 'DgtbleHeadspaceCollection',\n    [DigitalAlchemyCollection]: 'DigitalAlchemyCollection',\n    [EtheremonWearablesCollection]: 'EtheremonWearablesCollection',\n    [ExclusiveMasksCollection]: 'ExclusiveMasksCollection',\n    [Halloween2019Collection]: 'Halloween2019Collection',\n    [Halloween2020Collection]: 'Halloween2020Collection',\n    [MCHCollection]: 'MCHCollection',\n    [MemeDontBuyThis]: 'MemeDontBuyThis',\n    [MFSammichgamerCollection]: 'MFSammichgamerCollection',\n    [MLLiondance]: 'MLLiondance',\n    [MLPekingoperaCollection]: 'MLPekingoperaCollection',\n    [Moonshot2020Collection]: 'Moonshot2020Collection',\n    [PMDreamverseEminenceCollection]: 'PMDreamverseEminenceCollection',\n    [PMOuttathisworldCollection]: 'PMOuttathisworldCollection',\n    [RACBasics]: 'RACBasics',\n    [ReleaseTheKraken]: 'ReleaseTheKraken',\n    [RTFKTXAtari]: 'RTFKTXAtari',\n    [StaySafeCollection]: 'StaySafeCollection',\n    [SugarclubYumiCollection]: 'SugarclubYumiCollection',\n    [TechTribalMarc0maticCollection]: 'TechTribalMarc0maticCollection',\n    [ThreeLAUBasics]: 'ThreeLAUBasics',\n    [WinklevossCapital]: 'WinklevossCapital',\n    [WonderzoneMeteorchaserCollection]: 'WonderzoneMeteorchaserCollection',\n    [WonderzoneSteampunkCollection]: 'WonderzoneSteampunkCollection',\n    [WZWonderbotCollection]: 'WZWonderbotCollection',\n    [Xmas2019Collection]: 'Xmas2019Collection',\n    [Xmas2020Collection]: 'Xmas2020Collection',\n    [XmashUp2020]: 'XmashUp2020'\n  } as const\n\n  contractCategories = {\n    [LANDRegistry]: NFTCategory.PARCEL,\n    [EstateRegistry]: NFTCategory.ESTATE,\n    [DCLRegistrar]: NFTCategory.ENS,\n\n    [AtariLaunch]: NFTCategory.WEARABLE,\n    [BinanceUsCollection]: NFTCategory.WEARABLE,\n    [ChinaFlyingCollection]: NFTCategory.WEARABLE,\n    [CommunityContestCollection]: NFTCategory.WEARABLE,\n    [CybermikeCyberSoldierCollection]: NFTCategory.WEARABLE,\n    [CZMercenaryMTZCollection]: NFTCategory.WEARABLE,\n    [DappcraftMoonminerCollection]: NFTCategory.WEARABLE,\n    [DCGCollection]: NFTCategory.WEARABLE,\n    [DCLLaunchCollection]: NFTCategory.WEARABLE,\n    [DCMetaCollection]: NFTCategory.WEARABLE,\n    [DCNiftyblocksmithCollection]: NFTCategory.WEARABLE,\n    [DGFall2020Collection]: NFTCategory.WEARABLE,\n    [DGSummer2020Collection]: NFTCategory.WEARABLE,\n    [DgtbleHeadspaceCollection]: NFTCategory.WEARABLE,\n    [DigitalAlchemyCollection]: NFTCategory.WEARABLE,\n    [EtheremonWearablesCollection]: NFTCategory.WEARABLE,\n    [ExclusiveMasksCollection]: NFTCategory.WEARABLE,\n    [Halloween2019Collection]: NFTCategory.WEARABLE,\n    [Halloween2020Collection]: NFTCategory.WEARABLE,\n    [MCHCollection]: NFTCategory.WEARABLE,\n    [MemeDontBuyThis]: NFTCategory.WEARABLE,\n    [MFSammichgamerCollection]: NFTCategory.WEARABLE,\n    [MLLiondance]: NFTCategory.WEARABLE,\n    [MLPekingoperaCollection]: NFTCategory.WEARABLE,\n    [Moonshot2020Collection]: NFTCategory.WEARABLE,\n    [PMDreamverseEminenceCollection]: NFTCategory.WEARABLE,\n    [PMOuttathisworldCollection]: NFTCategory.WEARABLE,\n    [RACBasics]: NFTCategory.WEARABLE,\n    [ReleaseTheKraken]: NFTCategory.WEARABLE,\n    [RTFKTXAtari]: NFTCategory.WEARABLE,\n    [StaySafeCollection]: NFTCategory.WEARABLE,\n    [SugarclubYumiCollection]: NFTCategory.WEARABLE,\n    [TechTribalMarc0maticCollection]: NFTCategory.WEARABLE,\n    [ThreeLAUBasics]: NFTCategory.WEARABLE,\n    [WinklevossCapital]: NFTCategory.WEARABLE,\n    [WonderzoneMeteorchaserCollection]: NFTCategory.WEARABLE,\n    [WonderzoneSteampunkCollection]: NFTCategory.WEARABLE,\n    [WZWonderbotCollection]: NFTCategory.WEARABLE,\n    [Xmas2019Collection]: NFTCategory.WEARABLE,\n    [Xmas2020Collection]: NFTCategory.WEARABLE,\n    [XmashUp2020]: NFTCategory.WEARABLE\n  } as const\n\n  getTransferType(_address: string) {\n    return TransferType.SAFE_TRANSFER_FROM\n  }\n}\n","import { ApolloClient } from 'apollo-client'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport { HttpLink } from 'apollo-link-http'\n\nexport const API_URL = process.env.REACT_APP_MARKETPLACE_API_URL\nexport const MAX_QUERY_SIZE = 1000\n\nconst link = new HttpLink({\n  uri: API_URL\n})\n\nexport const client = new ApolloClient({\n  link,\n  cache: new InMemoryCache(),\n  defaultOptions: {\n    query: {\n      fetchPolicy: 'no-cache'\n    }\n  }\n})\n","import { AxiosRequestConfig } from 'axios'\nimport { BaseAPI } from 'decentraland-dapps/dist/lib/api'\nimport { NFTsFetchParams, NFTSortBy } from '../../nft/types'\nimport {\n  SuperRareOrder,\n  SuperRareAsset,\n  SuperRareFetchNFTOptions,\n  SuperRareFetchOrderParams\n} from './types'\n\nconst API_URL = process.env.REACT_APP_SUPER_RARE_API_URL!\n\nexport const MAX_QUERY_SIZE = 100\n\nclass SuperRareAPI extends BaseAPI {\n  public API_KEY: string = ''\n\n  constructor(url: string) {\n    super(url)\n\n    if (!url) {\n      throw new Error(`Invalid SuperRare API URL \"${url}\"`)\n    }\n\n    this.API_KEY = process.env.REACT_APP_SUPER_RARE_API_KEY!\n    if (!this.API_KEY) {\n      throw new Error(`Invalid SuperRare API KEY \"${this.API_KEY}\"`)\n    }\n  }\n\n  async fetchNFTs(params: NFTsFetchParams): Promise<SuperRareAsset[]> {\n    return this.request(\n      'get',\n      '/nfts/assets',\n      this.buildFetchManyParams(params)\n    )\n  }\n\n  async fetchOrders(params: NFTsFetchParams): Promise<SuperRareOrder[]> {\n    return this.request(\n      'get',\n      '/nfts/orders',\n      this.buildFetchManyParams(params)\n    )\n  }\n\n  async fetchNFT(\n    contractAddress: string,\n    tokenId: string\n  ): Promise<SuperRareAsset> {\n    const nfts: SuperRareAsset[] = await this.request(\n      'get',\n      '/nfts/assets',\n      this.buildFetchOneParams(contractAddress, tokenId)\n    )\n    return nfts[0]\n  }\n\n  async fetchOrder(\n    contractAddress: string,\n    tokenId: string\n  ): Promise<SuperRareOrder> {\n    const orders: SuperRareOrder[] = await this.request(\n      'get',\n      '/nfts/orders',\n      this.buildFetchOneParams(contractAddress, tokenId)\n    )\n    return orders[0]\n  }\n\n  request(\n    method: AxiosRequestConfig['method'],\n    path: string,\n    params: SuperRareFetchOrderParams\n  ) {\n    return super.request(method, path, params, this.getHeaders())\n  }\n\n  private getHeaders() {\n    return {\n      headers: { Authorization: `Bearer ${this.API_KEY}` }\n    }\n  }\n\n  private buildFetchOneParams(\n    contractAddress: string,\n    tokenId: string\n  ): SuperRareFetchNFTOptions {\n    return {\n      type: 'sell',\n      asset_contract_addresses: [contractAddress],\n      asset_ids: [Number(tokenId)]\n    }\n  }\n\n  private buildFetchManyParams(\n    params: NFTsFetchParams\n  ): SuperRareFetchOrderParams {\n    const requestParams: SuperRareFetchOrderParams = {\n      type: 'sell',\n      offset: params.skip,\n      limit: Math.min(params.first, MAX_QUERY_SIZE),\n      sort: this.getSort(params.orderBy),\n      name: params.search,\n      order: params.orderDirection\n    }\n\n    if (params.address) {\n      requestParams.owner_addresses = [params.address]\n    }\n\n    return requestParams\n  }\n\n  private getSort(sortBy?: NFTSortBy) {\n    switch (sortBy) {\n      case NFTSortBy.PRICE:\n        return 'price'\n      case NFTSortBy.ORDER_CREATED_AT:\n        return 'timestamp'\n      default:\n        return undefined\n    }\n  }\n}\n\nexport const superRareAPI = new SuperRareAPI(API_URL)\n","import BN from 'bn.js'\nimport { toBN } from 'web3x-es/utils'\n\nexport class MarketplacePrice {\n  public oneMillion: BN\n  public feePerMillion: BN\n\n  public maxPriceIncreasePercentage: number\n\n  constructor() {\n    const feePerMillion =\n      process.env.REACT_APP_MARKETPLACE_ADAPTER_FEE_PER_MILLION\n\n    const maxPriceIncreasePercentage = Number(\n      process.env.REACT_APP_MAX_PRICE_INCREASE_PERCENTAGE\n    )\n\n    if (!feePerMillion) {\n      throw new Error(`Invalid adapter fee ${feePerMillion}`)\n    }\n\n    if (!maxPriceIncreasePercentage || isNaN(maxPriceIncreasePercentage)) {\n      throw new Error(\n        `Invalid max price increase percentage ${maxPriceIncreasePercentage}`\n      )\n    }\n\n    this.feePerMillion = toBN(feePerMillion)\n    this.oneMillion = toBN('1000000')\n\n    this.maxPriceIncreasePercentage = maxPriceIncreasePercentage\n  }\n\n  addFee(manaWeiAmount: string | number) {\n    const bnAmount = toBN(manaWeiAmount.toString())\n\n    return bnAmount\n      .add(bnAmount.mul(this.feePerMillion).div(this.oneMillion))\n      .toString()\n  }\n\n  addMaxSlippage(manaWeiAmount: string | number) {\n    return toBN(manaWeiAmount)\n      .mul(toBN(110))\n      .divRound(toBN(100)) // 10 percent increase\n  }\n\n  getPercentageIncrease(computedPrice: string, price: string) {\n    if (Number(price) <= 0) {\n      return 0\n    }\n\n    const percentage = toBN(computedPrice)\n      .mul(toBN(100))\n      .divRound(toBN(price))\n      .toNumber()\n\n    return percentage <= 100 ? 0 : percentage - 100\n  }\n\n  isAboveMaxIncreasePercentage(percentage: number) {\n    return percentage > this.maxPriceIncreasePercentage\n  }\n}\n","import { ContractAbi} from 'web3x-es/contract';\nexport default new ContractAbi([\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_uniswapV2Router\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"contract IERC20\",\n        \"name\": \"_dstToken\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_etherAmount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"calcNeededTokensForEther\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"getTrader\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"contract IERC20\",\n        \"name\": \"_dstToken\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"swapEtherToToken\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"contract IERC20\",\n        \"name\": \"_srcToken\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_srcAmount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_maxDstAmount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"swapTokenToEther\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"dstAmount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"srcRemainder\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n]);","import BN from \"bn.js\";\nimport { Address } from \"web3x-es/address\";\nimport { TransactionReceipt } from \"web3x-es/formatters\";\nimport { Contract, ContractOptions, TxCall, TxSend } from \"web3x-es/contract\";\nimport { Eth } from \"web3x-es/eth\";\nimport abi from \"./ConverterAbi\";\ninterface ConverterEvents {\n}\ninterface ConverterEventLogs {\n}\ninterface ConverterTxEventLogs {\n}\nexport interface ConverterTransactionReceipt extends TransactionReceipt<ConverterTxEventLogs> {\n}\ninterface ConverterMethods {\n    calcNeededTokensForEther(_dstToken: Address, _etherAmount: number | string | BN): TxCall<string>;\n    getTrader(): TxCall<Address>;\n    swapEtherToToken(_dstToken: Address): TxSend<ConverterTransactionReceipt>;\n    swapTokenToEther(_srcToken: Address, _srcAmount: number | string | BN, _maxDstAmount: number | string | BN): TxSend<ConverterTransactionReceipt>;\n}\nexport interface ConverterDefinition {\n    methods: ConverterMethods;\n    events: ConverterEvents;\n    eventLogs: ConverterEventLogs;\n}\nexport class Converter extends Contract<ConverterDefinition> {\n    constructor(eth: Eth, address?: Address, options?: ContractOptions) {\n        super(eth, abi, address, options);\n    }\n    deploy(_uniswapV2Router: Address): TxSend<ConverterTransactionReceipt> {\n        return super.deployBytecode(\"0x60a060405234801561001057600080fd5b50604051610fa2380380610fa28339818101604052602081101561003357600080fd5b5051606081901b6001600160601b0319166080526001600160a01b0316610f1861008a6000398061016b52806101e6528061029c52806104b552806104ff52806105e152806107ee52806108a45250610f186000f3fe60806040526004361061003f5760003560e01c80633bba21dc146100445780637df493001461009c578063a683beb8146100cd578063b27f823614610105575b600080fd5b34801561005057600080fd5b506100836004803603606081101561006757600080fd5b506001600160a01b03813516906020810135906040013561013e565b6040805192835260208301919091528051918290030190f35b3480156100a857600080fd5b506100b16104b3565b604080516001600160a01b039092168252519081900360200190f35b6100f3600480360360208110156100e357600080fd5b50356001600160a01b03166104d7565b60408051918252519081900360200190f35b34801561011157600080fd5b506100f36004803603604081101561012857600080fd5b506001600160a01b038135169060200135610798565b60008061015c6001600160a01b03861633308763ffffffff610a3616565b6101966001600160a01b0386167f00000000000000000000000000000000000000000000000000000000000000008663ffffffff610a9616565b604080516002808252606080830184529260208301908036833701905050905085816000815181106101c457fe5b60200260200101906001600160a01b031690816001600160a01b0316815250507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663ad5c46486040518163ffffffff1660e01b815260040160206040518083038186803b15801561023d57600080fd5b505afa158015610251573d6000803e3d6000fd5b505050506040513d602081101561026757600080fd5b505181518290600190811061027857fe5b60200260200101906001600160a01b031690816001600160a01b03168152505060607f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318cbafe58760008533426040518663ffffffff1660e01b81526004018086815260200185815260200180602001846001600160a01b03166001600160a01b03168152602001838152602001828103825285818151815260200191508051906020019060200280838360005b83811015610348578181015183820152602001610330565b505050509050019650505050505050600060405180830381600087803b15801561037157600080fd5b505af1158015610385573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405260208110156103ae57600080fd5b81019080805160405193929190846401000000008211156103ce57600080fd5b9083019060208201858111156103e357600080fd5b825186602082028301116401000000008211171561040057600080fd5b82525081516020918201928201910280838360005b8381101561042d578181015183820152602001610415565b505050509050016040525050509050848160018151811061044a57fe5b60200260200101511461048e5760405162461bcd60e51b8152600401808060200182810382526028815260200180610e5b6028913960400191505060405180910390fd5b8060018151811061049b57fe5b60200260200101519350600092505050935093915050565b7f000000000000000000000000000000000000000000000000000000000000000090565b60408051600280825260608083018452600093909291906020830190803683370190505090507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663ad5c46486040518163ffffffff1660e01b815260040160206040518083038186803b15801561055657600080fd5b505afa15801561056a573d6000803e3d6000fd5b505050506040513d602081101561058057600080fd5b50518151829060009061058f57fe5b60200260200101906001600160a01b031690816001600160a01b03168152505082816001815181106105bd57fe5b60200260200101906001600160a01b031690816001600160a01b03168152505060607f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316637ff36ab53460008533426040518663ffffffff1660e01b81526004018085815260200180602001846001600160a01b03166001600160a01b03168152602001838152602001828103825285818151815260200191508051906020019060200280838360005b8381101561068757818101518382015260200161066f565b50505050905001955050505050506000604051808303818588803b1580156106ae57600080fd5b505af11580156106c2573d6000803e3d6000fd5b50505050506040513d6000823e601f3d908101601f1916820160405260208110156106ec57600080fd5b810190808051604051939291908464010000000082111561070c57600080fd5b90830190602082018581111561072157600080fd5b825186602082028301116401000000008211171561073e57600080fd5b82525081516020918201928201910280838360005b8381101561076b578181015183820152602001610753565b5050505090500160405250505090508060018151811061078757fe5b602002602001015192505050919050565b604080516002808252606080830184526000939092919060208301908036833701905050905083816000815181106107cc57fe5b60200260200101906001600160a01b031690816001600160a01b0316815250507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663ad5c46486040518163ffffffff1660e01b815260040160206040518083038186803b15801561084557600080fd5b505afa158015610859573d6000803e3d6000fd5b505050506040513d602081101561086f57600080fd5b505181518290600190811061088057fe5b60200260200101906001600160a01b031690816001600160a01b03168152505060607f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316631f00ca7485846040518363ffffffff1660e01b81526004018083815260200180602001828103825283818151815260200191508051906020019060200280838360005b83811015610928578181015183820152602001610910565b50505050905001935050505060006040518083038186803b15801561094c57600080fd5b505afa158015610960573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561098957600080fd5b81019080805160405193929190846401000000008211156109a957600080fd5b9083019060208201858111156109be57600080fd5b82518660208202830111640100000000821117156109db57600080fd5b82525081516020918201928201910280838360005b83811015610a085781810151838201526020016109f0565b50505050905001604052505050905080600081518110610a2457fe5b60200260200101519250505092915050565b604080516001600160a01b0380861660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b179052610a90908590610bae565b50505050565b801580610b1c575060408051636eb1769f60e11b81523060048201526001600160a01b03848116602483015291519185169163dd62ed3e91604480820192602092909190829003018186803b158015610aee57600080fd5b505afa158015610b02573d6000803e3d6000fd5b505050506040513d6020811015610b1857600080fd5b5051155b610b575760405162461bcd60e51b8152600401808060200182810382526036815260200180610ead6036913960400191505060405180910390fd5b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663095ea7b360e01b179052610ba9908490610bae565b505050565b6060610c03826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610c5f9092919063ffffffff16565b805190915015610ba957808060200190516020811015610c2257600080fd5b5051610ba95760405162461bcd60e51b815260040180806020018281038252602a815260200180610e83602a913960400191505060405180910390fd5b6060610c6e8484600085610c76565b949350505050565b6060610c8185610e21565b610cd2576040805162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015290519081900360640190fd5b60006060866001600160a01b031685876040518082805190602001908083835b60208310610d115780518252601f199092019160209182019101610cf2565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114610d73576040519150601f19603f3d011682016040523d82523d6000602084013e610d78565b606091505b50915091508115610d8c579150610c6e9050565b805115610d9c5780518082602001fd5b8360405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610de6578181015183820152602001610dce565b50505050905090810190601f168015610e135780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b6000813f7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470818114801590610c6e57505015159291505056fe556e69737761705632436f6e7665727465723a20546f6b656e203c3e204574686572206572726f725361666545524332303a204552433230206f7065726174696f6e20646964206e6f7420737563636565645361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f20746f206e6f6e2d7a65726f20616c6c6f77616e6365a2646970667358221220f83cdcde23d6641a68a717b1a95057c921492f14dc3b067f6e3549e83fc6088164736f6c63430006080033\", _uniswapV2Router) as any;\n    }\n}\nexport var ConverterAbi = abi;\n","import { Address } from 'web3x-es/address'\nimport { Converter } from '../../contracts/Converter'\nimport { ContractFactory } from '../contract/ContractFactory'\n\ntype Ticker = {\n  converted_last: {\n    eth: number\n  }\n}\n\ntype CoinTickers = {\n  name: string\n  tickers: Ticker[]\n}\n\n// { coinId: {ethAmount: result } }\nconst pricesCache: Record<string, Record<number, number>> = {}\n\nexport class TokenConverter {\n  apiURL: string\n  converterAddress: string\n  converterExchange: string\n\n  constructor() {\n    const apiURL = process.env.REACT_APP_COINGECKO_API_URL!\n    const converterAddress = process.env.REACT_APP_CONVERTER_ADDRESS!\n    const converterExchange = process.env.REACT_APP_CONVERTER_EXCHANGE!\n\n    if (!apiURL) {\n      throw new Error(`Invalid converter API URL \"${apiURL}\"`)\n    }\n    if (!converterAddress) {\n      throw new Error(`Invalid converter address \"${converterAddress}\"`)\n    }\n    if (!converterExchange) {\n      throw new Error(`Invalid converter exchange ${converterExchange}`)\n    }\n\n    this.apiURL = apiURL\n    this.converterAddress = converterAddress\n    this.converterExchange = converterExchange\n  }\n\n  async marketEthToMANA(ethAmount: number) {\n    return this.marketEthToToken(\n      ethAmount,\n      'decentraland',\n      this.converterExchange\n    )\n  }\n\n  async marketEthToToken(\n    ethAmount: number,\n    coinId: string,\n    exchange: string = ''\n  ) {\n    if (!pricesCache[coinId]) {\n      pricesCache[coinId] = {}\n    }\n\n    if (!pricesCache[coinId][ethAmount]) {\n      const response = await window.fetch(\n        `${this.apiURL}/coins/${coinId}/tickers?exchange_ids=${exchange}`\n      )\n      const coinTickers: CoinTickers = await response.json()\n      const ticker = coinTickers.tickers[0]\n\n      pricesCache[coinId][ethAmount] = ethAmount / ticker.converted_last.eth\n    }\n\n    return pricesCache[coinId][ethAmount]\n  }\n\n  async contractEthToMANA(ethAmount: string) {\n    const manaAddress = process.env.REACT_APP_MANA_ADDRESS!\n    return this.contractEthToToken(ethAmount, manaAddress)\n  }\n\n  async contractEthToToken(ethAmount: string, tokenAddress: string) {\n    const converter = await ContractFactory.build(\n      Converter,\n      this.converterAddress\n    )\n\n    return converter.methods\n      .calcNeededTokensForEther(Address.fromString(tokenAddress), ethAmount)\n      .call()\n  }\n}\n","import { ContractAbi} from 'web3x-es/contract';\nexport default new ContractAbi([\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_interfaceId\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"name\": \"supportsInterface\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getApproved\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"InterfaceId_ERC165\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transfer\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"tokenOfOwnerByIndex\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"safeTransferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"exists\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"tokenByIndex\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ownerOf\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_approved\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"setApprovalForAll\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_data\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"safeTransferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"tokenURI\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"isApprovedForAll\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"name\": \"_name\",\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"_symbol\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_approved\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_approved\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"ApprovalForAll\",\n    \"type\": \"event\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_tokenURI\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"mintUniqueTokenTo\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n]);","import BN from \"bn.js\";\nimport { Address } from \"web3x-es/address\";\nimport { EventLog, TransactionReceipt } from \"web3x-es/formatters\";\nimport { Contract, ContractOptions, TxCall, TxSend, EventSubscriptionFactory } from \"web3x-es/contract\";\nimport { Eth } from \"web3x-es/eth\";\nimport abi from \"./ERC721Abi\";\nexport type TransferEvent = {\n    _from: Address;\n    _to: Address;\n    _tokenId: string;\n};\nexport type ApprovalEvent = {\n    _owner: Address;\n    _approved: Address;\n    _tokenId: string;\n};\nexport type ApprovalForAllEvent = {\n    _owner: Address;\n    _operator: Address;\n    _approved: boolean;\n};\nexport interface TransferEventLog extends EventLog<TransferEvent, \"Transfer\"> {\n}\nexport interface ApprovalEventLog extends EventLog<ApprovalEvent, \"Approval\"> {\n}\nexport interface ApprovalForAllEventLog extends EventLog<ApprovalForAllEvent, \"ApprovalForAll\"> {\n}\ninterface ERC721Events {\n    Transfer: EventSubscriptionFactory<TransferEventLog>;\n    Approval: EventSubscriptionFactory<ApprovalEventLog>;\n    ApprovalForAll: EventSubscriptionFactory<ApprovalForAllEventLog>;\n}\ninterface ERC721EventLogs {\n    Transfer: TransferEventLog;\n    Approval: ApprovalEventLog;\n    ApprovalForAll: ApprovalForAllEventLog;\n}\ninterface ERC721TxEventLogs {\n    Transfer: TransferEventLog[];\n    Approval: ApprovalEventLog[];\n    ApprovalForAll: ApprovalForAllEventLog[];\n}\nexport interface ERC721TransactionReceipt extends TransactionReceipt<ERC721TxEventLogs> {\n}\ninterface ERC721Methods {\n    supportsInterface(_interfaceId: string): TxCall<boolean>;\n    name(): TxCall<string>;\n    getApproved(_tokenId: number | string | BN): TxCall<Address>;\n    approve(_to: Address, _tokenId: number | string | BN): TxSend<ERC721TransactionReceipt>;\n    totalSupply(): TxCall<string>;\n    InterfaceId_ERC165(): TxCall<string>;\n    transferFrom(_from: Address, _to: Address, _tokenId: number | string | BN): TxSend<ERC721TransactionReceipt>;\n    transfer(_to: Address, _tokenId: number | string | BN): TxSend<ERC721TransactionReceipt>;\n    tokenOfOwnerByIndex(_owner: Address, _index: number | string | BN): TxCall<string>;\n    safeTransferFrom(_from: Address, _to: Address, _tokenId: number | string | BN): TxSend<ERC721TransactionReceipt>;\n    exists(_tokenId: number | string | BN): TxCall<boolean>;\n    tokenByIndex(_index: number | string | BN): TxCall<string>;\n    ownerOf(_tokenId: number | string | BN): TxCall<Address>;\n    balanceOf(_owner: Address): TxCall<string>;\n    symbol(): TxCall<string>;\n    setApprovalForAll(_to: Address, _approved: boolean): TxSend<ERC721TransactionReceipt>;\n    safeTransferFrom(_from: Address, _to: Address, _tokenId: number | string | BN, _data: string): TxSend<ERC721TransactionReceipt>;\n    tokenURI(_tokenId: number | string | BN): TxCall<string>;\n    isApprovedForAll(_owner: Address, _operator: Address): TxCall<boolean>;\n    mintUniqueTokenTo(_to: Address, _tokenId: number | string | BN, _tokenURI: string): TxSend<ERC721TransactionReceipt>;\n}\nexport interface ERC721Definition {\n    methods: ERC721Methods;\n    events: ERC721Events;\n    eventLogs: ERC721EventLogs;\n}\nexport class ERC721 extends Contract<ERC721Definition> {\n    constructor(eth: Eth, address?: Address, options?: ContractOptions) {\n        super(eth, abi, address, options);\n    }\n}\nexport var ERC721Abi = abi;\n","import addDays from 'date-fns/addDays'\nimport dateFnsFormat from 'date-fns/format'\nimport { NFT } from '../nft/types'\nimport { Order } from './types'\n\nexport const DEFAULT_EXPIRATION_IN_DAYS = 30\nexport const INPUT_FORMAT = 'yyyy-MM-dd'\nexport const getDefaultExpirationDate = (date = Date.now()) =>\n  dateFnsFormat(\n    addDays(new Date(date), DEFAULT_EXPIRATION_IN_DAYS),\n    INPUT_FORMAT\n  )\n\nexport function isExpired(expiresAt: string) {\n  return parseInt(expiresAt, 10) < Date.now()\n}\n\nexport function getActiveOrder(nft: NFT | null, orders: Record<string, Order>) {\n  if (!!nft && !!nft.activeOrderId && nft.activeOrderId in orders) {\n    return orders[nft.activeOrderId]\n  }\n  return null\n}\n","import React, { useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nconst ScrollToTop = () => {\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, [pathname])\n\n  return null\n}\n\nexport default React.memo(ScrollToTop)\n","import { config } from 'dotenv'\nconfig()\n","import BN from 'bn.js'\n\nconst MANA_SYMBOL = '⏣'\n\nlet oneEthInMANA: BN | undefined\n\nexport function formatMANA(value: string) {\n  if (!oneEthInMANA) {\n    oneEthInMANA = new BN('1000000000000000000') // 10 ** 18\n  }\n  const mana = new BN(value).divRound(oneEthInMANA)\n  return mana.toNumber().toLocaleString()\n}\n\nexport function toMANA(num: number) {\n  return num > 0 ? `${MANA_SYMBOL} ${num.toString()}` : ''\n}\n\nexport function fromMANA(mana: string) {\n  const num = mana\n    .split(MANA_SYMBOL + ' ')\n    .join('')\n    .split(/[,|.]/)\n    .join('')\n\n  const result = parseInt(num, 10)\n\n  if (isNaN(result) || result < 0) {\n    return 0\n  }\n\n  return result\n}\n","import { action } from 'typesafe-actions'\nimport { buildTransactionPayload } from 'decentraland-dapps/dist/modules/transaction/utils'\n\nimport { NFT } from '../nft/types'\nimport { Order } from './types'\nimport { getNFTName } from '../nft/utils'\nimport { formatMANA } from '../../lib/mana'\nimport { ChainId } from '@dcl/schemas'\n\n// Create Order (aka Sell)\n\nexport const CREATE_ORDER_REQUEST = '[Request] Create Order'\nexport const CREATE_ORDER_SUCCESS = '[Success] Create Order'\nexport const CREATE_ORDER_FAILURE = '[Failure] Create Order'\n\nexport const createOrderRequest = (\n  nft: NFT,\n  price: number,\n  expiresAt: number\n) => action(CREATE_ORDER_REQUEST, { nft, price, expiresAt })\nexport const createOrderSuccess = (\n  nft: NFT,\n  price: number,\n  expiresAt: number,\n  chainId: ChainId,\n  txHash: string\n) =>\n  action(CREATE_ORDER_SUCCESS, {\n    nft,\n    price,\n    expiresAt,\n    ...buildTransactionPayload(chainId, txHash, {\n      tokenId: nft.tokenId,\n      contractAddress: nft.contractAddress,\n      name: getNFTName(nft),\n      price\n    })\n  })\nexport const createOrderFailure = (\n  nft: NFT,\n  price: number,\n  expiresAt: number,\n  error: string\n) => action(CREATE_ORDER_FAILURE, { nft, price, expiresAt, error })\n\nexport type CreateOrderRequestAction = ReturnType<typeof createOrderRequest>\nexport type CreateOrderSuccessAction = ReturnType<typeof createOrderSuccess>\nexport type CreateOrderFailureAction = ReturnType<typeof createOrderFailure>\n\n// Execute Order (aka Buy)\n\nexport const EXECUTE_ORDER_REQUEST = '[Request] Execute Order'\nexport const EXECUTE_ORDER_SUCCESS = '[Success] Execute Order'\nexport const EXECUTE_ORDER_FAILURE = '[Failure] Execute Order'\n\nexport const executeOrderRequest = (\n  order: Order,\n  nft: NFT,\n  fingerprint?: string\n) => action(EXECUTE_ORDER_REQUEST, { order, nft, fingerprint })\nexport const executeOrderSuccess = (\n  order: Order,\n  nft: NFT,\n  chainId: ChainId,\n  txHash: string\n) =>\n  action(EXECUTE_ORDER_SUCCESS, {\n    order,\n    nft,\n    ...buildTransactionPayload(chainId, txHash, {\n      tokenId: nft.tokenId,\n      contractAddress: nft.contractAddress,\n      name: getNFTName(nft),\n      price: formatMANA(order.price)\n    })\n  })\nexport const executeOrderFailure = (order: Order, nft: NFT, error: string) =>\n  action(EXECUTE_ORDER_FAILURE, { order, nft, error })\n\nexport type ExecuteOrderRequestAction = ReturnType<typeof executeOrderRequest>\nexport type ExecuteOrderSuccessAction = ReturnType<typeof executeOrderSuccess>\nexport type ExecuteOrderFailureAction = ReturnType<typeof executeOrderFailure>\n\n// Cancel Order (aka Cancel Sale)\n\nexport const CANCEL_ORDER_REQUEST = '[Request] Cancel Order'\nexport const CANCEL_ORDER_SUCCESS = '[Success] Cancel Order'\nexport const CANCEL_ORDER_FAILURE = '[Failure] Cancel Order'\n\nexport const cancelOrderRequest = (order: Order, nft: NFT) =>\n  action(CANCEL_ORDER_REQUEST, { order, nft })\nexport const cancelOrderSuccess = (\n  order: Order,\n  nft: NFT,\n  chainId: ChainId,\n  txHash: string\n) =>\n  action(CANCEL_ORDER_SUCCESS, {\n    order,\n    nft,\n    ...buildTransactionPayload(chainId, txHash, {\n      tokenId: nft.tokenId,\n      contractAddress: nft.contractAddress,\n      name: getNFTName(nft),\n      price: formatMANA(order.price)\n    })\n  })\nexport const cancelOrderFailure = (order: Order, nft: NFT, error: string) =>\n  action(CANCEL_ORDER_FAILURE, { order, nft, error })\n\nexport type CancelOrderRequestAction = ReturnType<typeof cancelOrderRequest>\nexport type CancelOrderSuccessAction = ReturnType<typeof cancelOrderSuccess>\nexport type CancelOrderFailureAction = ReturnType<typeof cancelOrderFailure>\n","import { action } from 'typesafe-actions'\nimport { ChainId } from '@dcl/schemas'\nimport { buildTransactionPayload } from 'decentraland-dapps/dist/modules/transaction/utils'\n\nimport { SortDirection } from '../routing/types'\nimport { Order } from '../order/types'\nimport { Account } from '../account/types'\nimport { getNFTName } from './utils'\nimport { NFT, NFTSortBy, NFTsFetchOptions, NFTsFetchParams } from './types'\n\n// Fetch NFTs\n\nexport const FETCH_NFTS_REQUEST = '[Request] Fetch NFTs'\nexport const FETCH_NFTS_SUCCESS = '[Success] Fetch NFTs'\nexport const FETCH_NFTS_FAILURE = '[Failure] Fetch NFTs'\n\nexport const DEFAULT_BASE_NFT_PARAMS: NFTsFetchParams = {\n  first: 24,\n  skip: 0,\n  orderBy: NFTSortBy.CREATED_AT,\n  orderDirection: SortDirection.DESC,\n  onlyOnSale: false\n}\n\nexport const fetchNFTsRequest = (options: NFTsFetchOptions) =>\n  action(FETCH_NFTS_REQUEST, {\n    options,\n    timestamp: Date.now()\n  })\n\nexport const fetchNFTsSuccess = (\n  options: NFTsFetchOptions,\n  nfts: NFT[],\n  accounts: Account[],\n  orders: Order[],\n  count: number,\n  timestamp: number\n) =>\n  action(FETCH_NFTS_SUCCESS, {\n    options,\n    nfts,\n    accounts,\n    orders,\n    count,\n    timestamp\n  })\nexport const fetchNFTsFailure = (\n  options: NFTsFetchOptions,\n  error: string,\n  timestamp: number\n) => action(FETCH_NFTS_FAILURE, { options, error, timestamp })\n\nexport type FetchNFTsRequestAction = ReturnType<typeof fetchNFTsRequest>\nexport type FetchNFTsSuccessAction = ReturnType<typeof fetchNFTsSuccess>\nexport type FetchNFTsFailureAction = ReturnType<typeof fetchNFTsFailure>\n\n// Fetch NFT\n\nexport const FETCH_NFT_REQUEST = '[Request] Fetch NFT'\nexport const FETCH_NFT_SUCCESS = '[Success] Fetch NFT'\nexport const FETCH_NFT_FAILURE = '[Failure] Fetch NFT'\n\nexport const fetchNFTRequest = (contractAddress: string, tokenId: string) =>\n  action(FETCH_NFT_REQUEST, { contractAddress, tokenId })\nexport const fetchNFTSuccess = (nft: NFT, order?: Order) =>\n  action(FETCH_NFT_SUCCESS, { nft, order })\nexport const fetchNFTFailure = (\n  contractAddress: string,\n  tokenId: string,\n  error: string\n) => action(FETCH_NFT_FAILURE, { contractAddress, tokenId, error })\n\nexport type FetchNFTRequestAction = ReturnType<typeof fetchNFTRequest>\nexport type FetchNFTSuccessAction = ReturnType<typeof fetchNFTSuccess>\nexport type FetchNFTFailureAction = ReturnType<typeof fetchNFTFailure>\n\n// Transfer NFT\n\nexport const TRANSFER_NFT_REQUEST = '[Request] Transfer NFT'\nexport const TRANSFER_NFT_SUCCESS = '[Success] Transfer NFT'\nexport const TRANSFER_NFT_FAILURE = '[Failure] Transfer NFT'\n\nexport const transferNFTRequest = (nft: NFT, address: string) =>\n  action(TRANSFER_NFT_REQUEST, { nft, address })\nexport const transferNFTSuccess = (\n  nft: NFT,\n  address: string,\n  chainId: ChainId,\n  txHash: string\n) =>\n  action(TRANSFER_NFT_SUCCESS, {\n    nft,\n    address,\n    ...buildTransactionPayload(chainId, txHash, {\n      tokenId: nft.tokenId,\n      contractAddress: nft.contractAddress,\n      name: getNFTName(nft),\n      address\n    })\n  })\nexport const transferNFTFailure = (nft: NFT, address: string, error: string) =>\n  action(TRANSFER_NFT_FAILURE, { nft, address, error })\n\nexport type TransferNFTRequestAction = ReturnType<typeof transferNFTRequest>\nexport type TransferNFTSuccessAction = ReturnType<typeof transferNFTSuccess>\nexport type TransferNFTFailureAction = ReturnType<typeof transferNFTFailure>\n","import { action } from 'typesafe-actions'\nimport { ChainId } from '@dcl/schemas'\nimport { buildTransactionPayload } from 'decentraland-dapps/dist//modules/transaction/utils'\nimport { Authorizations, AuthorizationsRequest, Address } from './types'\n\n// Fetch authorization\n\nexport const FETCH_AUTHORIZATION_REQUEST = '[Request] Fetch Authorization'\nexport const FETCH_AUTHORIZATION_SUCCESS = '[Success] Fetch Authorization'\nexport const FETCH_AUTHORIZATION_FAILURE = '[Failure] Fetch Authorization'\n\nexport const fetchAuthorizationRequest = (\n  address: string,\n  { allowances, approvals }: AuthorizationsRequest\n) => action(FETCH_AUTHORIZATION_REQUEST, { address, allowances, approvals })\n\nexport const fetchAuthorizationSuccess = (\n  address: string,\n  authorization: Authorizations\n) => action(FETCH_AUTHORIZATION_SUCCESS, { address, authorization })\n\nexport const fetchAuthorizationFailure = (error: string) =>\n  action(FETCH_AUTHORIZATION_FAILURE, { error })\n\nexport type FetchAuthorizationRequestAction = ReturnType<\n  typeof fetchAuthorizationRequest\n>\nexport type FetchAuthorizationSuccessAction = ReturnType<\n  typeof fetchAuthorizationSuccess\n>\nexport type FetchAuthorizationFailureAction = ReturnType<\n  typeof fetchAuthorizationFailure\n>\n\n// Approve Token\n\nexport const ALLOW_TOKEN_REQUEST = '[Request] Allow Token'\nexport const ALLOW_TOKEN_SUCCESS = '[Success] Allow Token'\nexport const ALLOW_TOKEN_FAILURE = '[Failure] Allow Token'\n\nexport const allowTokenRequest = (\n  isAllowed: boolean,\n  contractAddress: Address,\n  tokenContractAddress: Address\n) =>\n  action(ALLOW_TOKEN_REQUEST, {\n    isAllowed,\n    contractAddress,\n    tokenContractAddress\n  })\n\nexport const allowTokenSuccess = (\n  chainId: ChainId,\n  txHash: string,\n  address: string,\n  isAllowed: boolean,\n  contractAddress: Address,\n  tokenContractAddress: Address\n) =>\n  action(ALLOW_TOKEN_SUCCESS, {\n    ...buildTransactionPayload(chainId, txHash, {\n      address,\n      isAllowed,\n      contractAddress,\n      tokenContractAddress\n    }),\n    address,\n    isAllowed,\n    contractAddress,\n    tokenContractAddress\n  })\n\nexport const allowTokenFailure = (error: string) =>\n  action(ALLOW_TOKEN_FAILURE, { error })\n\nexport type AllowTokenRequestAction = ReturnType<typeof allowTokenRequest>\nexport type AllowTokenSuccessAction = ReturnType<typeof allowTokenSuccess>\nexport type AllowTokenFailureAction = ReturnType<typeof allowTokenFailure>\n\n// Approve Token\n\nexport const APPROVE_TOKEN_REQUEST = '[Request] Approve Token'\nexport const APPROVE_TOKEN_SUCCESS = '[Success] Approve Token'\nexport const APPROVE_TOKEN_FAILURE = '[Failure] Approve Token'\n\nexport const approveTokenRequest = (\n  isApproved: boolean,\n  contractAddress: Address,\n  tokenContractAddress: Address\n) =>\n  action(APPROVE_TOKEN_REQUEST, {\n    isApproved,\n    contractAddress,\n    tokenContractAddress\n  })\n\nexport const approveTokenSuccess = (\n  chainId: ChainId,\n  txHash: string,\n  address: string,\n  isApproved: boolean,\n  contractAddress: Address,\n  tokenContractAddress: Address\n) =>\n  action(APPROVE_TOKEN_SUCCESS, {\n    ...buildTransactionPayload(chainId, txHash, {\n      address,\n      isApproved,\n      contractAddress,\n      tokenContractAddress\n    }),\n    address,\n    isApproved,\n    contractAddress,\n    tokenContractAddress\n  })\n\nexport const approveTokenFailure = (error: string) =>\n  action(APPROVE_TOKEN_FAILURE, { error })\n\nexport type ApproveTokenRequestAction = ReturnType<typeof approveTokenRequest>\nexport type ApproveTokenSuccessAction = ReturnType<typeof approveTokenSuccess>\nexport type ApproveTokenFailureAction = ReturnType<typeof approveTokenFailure>\n","import { action } from 'typesafe-actions'\nimport { ChainId } from '@dcl/schemas'\nimport { buildTransactionPayload } from 'decentraland-dapps/dist/modules/transaction/utils'\nimport { NFT } from '../nft/types'\nimport { Bid } from './types'\nimport { formatMANA } from '../../lib/mana'\n\n// Place Bid\nexport const PLACE_BID_REQUEST = '[Request] Place Bid'\nexport const PLACE_BID_SUCCESS = '[Success] Place Bid'\nexport const PLACE_BID_FAILURE = '[Failure] Place Bid'\n\nexport const placeBidRequest = (\n  nft: NFT,\n  price: number,\n  expiresAt: number,\n  fingerprint?: string\n) => action(PLACE_BID_REQUEST, { nft, price, expiresAt, fingerprint })\nexport const placeBidSuccess = (\n  nft: NFT,\n  price: number,\n  expiresAt: number,\n  chainId: ChainId,\n  txHash: string,\n  bidder: string,\n  fingerprint?: string\n) =>\n  action(PLACE_BID_SUCCESS, {\n    nft,\n    price,\n    expiresAt,\n    bidder,\n    fingerprint,\n    ...buildTransactionPayload(chainId, txHash, {\n      tokenId: nft.tokenId,\n      contractAddress: nft.contractAddress,\n      price\n    })\n  })\nexport const placeBidFailure = (\n  nft: NFT,\n  price: number,\n  expiresAt: number,\n  error: string,\n  fingerprint?: string\n) =>\n  action(PLACE_BID_FAILURE, {\n    nft,\n    price,\n    expiresAt,\n    error,\n    fingerprint\n  })\n\nexport type PlaceBidRequestAction = ReturnType<typeof placeBidRequest>\nexport type PlaceBidSuccessAction = ReturnType<typeof placeBidSuccess>\nexport type PlaceBidFailureAction = ReturnType<typeof placeBidFailure>\n\n// Archive Bid\nexport const ARCHIVE_BID = 'Archive bid'\nexport const archiveBid = (bid: Bid) => action(ARCHIVE_BID, { bid })\nexport type ArchiveBidAction = ReturnType<typeof archiveBid>\n\n// Unarchive Bid\nexport const UNARCHIVE_BID = 'Unarchive bid'\nexport const unarchiveBid = (bid: Bid) => action(UNARCHIVE_BID, { bid })\nexport type UnarchiveBidAction = ReturnType<typeof unarchiveBid>\n\n// Accept Bid\nexport const ACCEPT_BID_REQUEST = '[Request] Accept Bid'\nexport const ACCEPT_BID_SUCCESS = '[Success] Accept Bid'\nexport const ACCEPT_BID_FAILURE = '[Failure] Accept Bid'\n\nexport const acceptBidRequest = (bid: Bid) =>\n  action(ACCEPT_BID_REQUEST, { bid })\nexport const acceptBidSuccess = (bid: Bid, chainId: ChainId, txHash: string) =>\n  action(ACCEPT_BID_SUCCESS, {\n    bid,\n    ...buildTransactionPayload(chainId, txHash, {\n      tokenId: bid.tokenId,\n      contractAddress: bid.contractAddress,\n      price: formatMANA(bid.price)\n    })\n  })\nexport const acceptBidFailure = (bid: Bid, error: string) =>\n  action(ACCEPT_BID_FAILURE, { bid, error })\n\nexport type AcceptBidRequestAction = ReturnType<typeof acceptBidRequest>\nexport type AcceptBidSuccessAction = ReturnType<typeof acceptBidSuccess>\nexport type AcceptBidFailureAction = ReturnType<typeof acceptBidFailure>\n\n// Cancel Bid\nexport const CANCEL_BID_REQUEST = '[Request] Cancel Bid'\nexport const CANCEL_BID_SUCCESS = '[Success] Cancel Bid'\nexport const CANCEL_BID_FAILURE = '[Failure] Cancel Bid'\n\nexport const cancelBidRequest = (bid: Bid) =>\n  action(CANCEL_BID_REQUEST, { bid })\nexport const cancelBidSuccess = (bid: Bid, chainId: ChainId, txHash: string) =>\n  action(CANCEL_BID_SUCCESS, {\n    bid,\n    ...buildTransactionPayload(chainId, txHash, {\n      tokenId: bid.tokenId,\n      contractAddress: bid.contractAddress,\n      price: formatMANA(bid.price)\n    })\n  })\nexport const cancelBidFailure = (bid: Bid, error: string) =>\n  action(CANCEL_BID_FAILURE, { bid, error })\n\nexport type CancelBidRequestAction = ReturnType<typeof cancelBidRequest>\nexport type CancelBidSuccessAction = ReturnType<typeof cancelBidSuccess>\nexport type CancelBidFailureAction = ReturnType<typeof cancelBidFailure>\n\n// Fetch Bids By Address\nexport const FETCH_BIDS_BY_ADDRESS_REQUEST = '[Request] Fetch bids by address'\nexport const FETCH_BIDS_BY_ADDRESS_SUCCESS = '[Success] Fetch bids by address'\nexport const FETCH_BIDS_BY_ADDRESS_FAILURE = '[Failure] Fetch bids by address'\n\nexport const fetchBidsByAddressRequest = (address: string) =>\n  action(FETCH_BIDS_BY_ADDRESS_REQUEST, { address })\n\nexport const fetchBidsByAddressSuccess = (\n  address: string,\n  sellerBids: Bid[],\n  bidderBids: Bid[]\n) => action(FETCH_BIDS_BY_ADDRESS_SUCCESS, { address, sellerBids, bidderBids })\n\nexport const fetchBidsByAddressFailure = (address: string, error: string) =>\n  action(FETCH_BIDS_BY_ADDRESS_FAILURE, { address, error })\n\nexport type FetchBidsByAddressRequestAction = ReturnType<\n  typeof fetchBidsByAddressRequest\n>\nexport type FetchBidsByAddressSuccessAction = ReturnType<\n  typeof fetchBidsByAddressSuccess\n>\nexport type FetchBidsByAddressFailureAction = ReturnType<\n  typeof fetchBidsByAddressFailure\n>\n\n// Fetch Bids By NFT\nexport const FETCH_BIDS_BY_NFT_REQUEST = '[Request] Fetch bids by NFT'\nexport const FETCH_BIDS_BY_NFT_SUCCESS = '[Success] Fetch bids by NFT'\nexport const FETCH_BIDS_BY_NFT_FAILURE = '[Failure] Fetch bids by NFT'\n\nexport const fetchBidsByNFTRequest = (nft: NFT) =>\n  action(FETCH_BIDS_BY_NFT_REQUEST, { nft })\n\nexport const fetchBidsByNFTSuccess = (nft: NFT, bids: Bid[]) =>\n  action(FETCH_BIDS_BY_NFT_SUCCESS, { nft, bids })\n\nexport const fetchBidsByNFTFailure = (nft: NFT, error: string) =>\n  action(FETCH_BIDS_BY_NFT_FAILURE, { nft, error })\n\nexport type FetchBidsByNFTRequestAction = ReturnType<\n  typeof fetchBidsByNFTRequest\n>\nexport type FetchBidsByNFTSuccessAction = ReturnType<\n  typeof fetchBidsByNFTSuccess\n>\nexport type FetchBidsByNFTFailureAction = ReturnType<\n  typeof fetchBidsByNFTFailure\n>\n","import {\n  EventName,\n  GetPayload\n} from 'decentraland-dapps/dist/modules/analytics/types'\nimport {\n  FETCH_TRANSACTION_FAILURE,\n  FIX_REVERTED_TRANSACTION,\n  REPLACE_TRANSACTION_SUCCESS,\n  FetchTransactionFailureAction,\n  FixRevertedTransactionAction,\n  ReplaceTransactionSuccessAction\n} from 'decentraland-dapps/dist/modules/transaction/actions'\nimport { TransactionStatus } from 'decentraland-dapps/dist/modules/transaction/types'\nimport { add } from 'decentraland-dapps/dist/modules/analytics/utils'\nimport { PayloadAction } from 'typesafe-actions'\nimport {\n  EXECUTE_ORDER_SUCCESS,\n  CREATE_ORDER_SUCCESS,\n  CANCEL_ORDER_SUCCESS,\n  ExecuteOrderSuccessAction,\n  CreateOrderSuccessAction,\n  CancelOrderSuccessAction\n} from '../order/actions'\nimport {\n  TRANSFER_NFT_SUCCESS,\n  TransferNFTSuccessAction,\n  FETCH_NFTS_SUCCESS,\n  FetchNFTsSuccessAction\n} from '../nft/actions'\nimport {\n  ALLOW_TOKEN_SUCCESS,\n  APPROVE_TOKEN_SUCCESS,\n  AllowTokenSuccessAction,\n  ApproveTokenSuccessAction\n} from '../authorization/actions'\nimport { contractNames } from '../contract/utils'\nimport {\n  PLACE_BID_SUCCESS,\n  ACCEPT_BID_SUCCESS,\n  CANCEL_BID_SUCCESS,\n  ARCHIVE_BID,\n  UNARCHIVE_BID,\n  PlaceBidSuccessAction,\n  AcceptBidSuccessAction,\n  CancelBidSuccessAction,\n  ArchiveBidAction,\n  UnarchiveBidAction\n} from '../bid/actions'\n\nfunction track<T extends PayloadAction<string, any>>(\n  actionType: string,\n  eventName: string | ((action: T) => string),\n  getPayload = (action: T) => action.payload\n) {\n  add(actionType, eventName as EventName, getPayload as GetPayload)\n}\n\nfunction withCategory(eventName: string, item: { category: string }) {\n  const category = item.category[0].toUpperCase() + item.category.slice(1)\n  return `${eventName} ${category}`\n}\n\ntrack<ExecuteOrderSuccessAction>(\n  EXECUTE_ORDER_SUCCESS,\n  ({ payload }) => withCategory('Buy', payload.nft),\n  ({ payload }) => ({\n    category: payload.nft.category,\n    nft: payload.nft.id,\n    price: payload.order.price,\n    seller: payload.order.owner,\n    buyer: payload.order.buyer\n  })\n)\n\ntrack<CreateOrderSuccessAction>(\n  CREATE_ORDER_SUCCESS,\n  ({ payload }) => withCategory('Publish', payload.nft),\n  ({ payload }) => ({\n    category: payload.nft.category,\n    tokenId: payload.nft.tokenId,\n    price: payload.price\n  })\n)\n\ntrack<CancelOrderSuccessAction>(\n  CANCEL_ORDER_SUCCESS,\n  ({ payload }) => withCategory('Cancel Sale', payload.nft),\n  ({ payload }) => ({\n    category: payload.nft.category,\n    tokenId: payload.nft.tokenId,\n    price: payload.order.price\n  })\n)\n\ntrack<TransferNFTSuccessAction>(\n  TRANSFER_NFT_SUCCESS,\n  ({ payload }) => withCategory('Transfer NFT', payload.nft),\n  ({ payload }) => ({\n    category: payload.nft.category,\n    tokenId: payload.nft.tokenId,\n    to: payload.address\n  })\n)\n\ntrack<FetchTransactionFailureAction>(FETCH_TRANSACTION_FAILURE, ({ payload }) =>\n  payload.status === TransactionStatus.REVERTED\n    ? 'Transaction Failed'\n    : 'Transaction Dropped'\n)\n\ntrack<FixRevertedTransactionAction>(\n  FIX_REVERTED_TRANSACTION,\n  'Transaction Fixed'\n)\n\ntrack<ReplaceTransactionSuccessAction>(\n  REPLACE_TRANSACTION_SUCCESS,\n  'Transaction Replaced'\n)\n\ntrack<AllowTokenSuccessAction>(ALLOW_TOKEN_SUCCESS, ({ payload }) => {\n  const contractName = contractNames[payload.contractAddress]\n  const tokenContractName = contractNames[payload.tokenContractAddress]\n  return payload.isAllowed\n    ? `Authorize ${contractName} for ${tokenContractName}`\n    : `Unauthorize ${contractName} for ${tokenContractName}`\n})\n\ntrack<ApproveTokenSuccessAction>(APPROVE_TOKEN_SUCCESS, ({ payload }) => {\n  const contractName = contractNames[payload.contractAddress]\n  const tokenContractName = contractNames[payload.tokenContractAddress]\n  return payload.isApproved\n    ? `Authorize ${contractName} for ${tokenContractName}`\n    : `Unauthorize ${contractName} for ${tokenContractName}`\n})\n\ntrack<PlaceBidSuccessAction>(\n  PLACE_BID_SUCCESS,\n  ({ payload }) => withCategory('Bid', payload.nft),\n  ({ payload }) => ({\n    category: payload.nft.category,\n    tokenId: payload.nft.tokenId,\n    price: payload.price,\n    bidder: payload.bidder\n  })\n)\n\ntrack<AcceptBidSuccessAction>(\n  ACCEPT_BID_SUCCESS,\n  ({ payload }) => withCategory('Accept bid', payload.bid),\n  ({ payload }) => ({\n    category: payload.bid.category,\n    tokenId: payload.bid.tokenId,\n    bidId: payload.bid.id,\n    bidder: payload.bid.bidder,\n    seller: payload.bid.seller\n  })\n)\n\ntrack<CancelBidSuccessAction>(\n  CANCEL_BID_SUCCESS,\n  ({ payload }) => withCategory('Cancel bid', payload.bid),\n  ({ payload }) => ({\n    category: payload.bid.category,\n    tokenId: payload.bid.tokenId,\n    bidId: payload.bid.id,\n    bidder: payload.bid.bidder\n  })\n)\n\ntrack<ArchiveBidAction>(\n  ARCHIVE_BID,\n  ({ payload }) => withCategory('Archive Bid', payload.bid),\n  ({ payload }) => ({\n    category: payload.bid.category,\n    tokenId: payload.bid.tokenId,\n    bidId: payload.bid.id,\n    price: payload.bid.price\n  })\n)\n\ntrack<UnarchiveBidAction>(\n  UNARCHIVE_BID,\n  ({ payload }) => withCategory('Unarchive Bid', payload.bid),\n  ({ payload }) => ({\n    category: payload.bid.category,\n    tokenId: payload.bid.tokenId,\n    bidId: payload.bid.id,\n    price: payload.bid.price\n  })\n)\n\ntrack<FetchNFTsSuccessAction>(\n  FETCH_NFTS_SUCCESS,\n  'Fetch NFTs',\n  ({ payload }) => ({\n    ...payload.options.params,\n    view: payload.options.view,\n    vendor: payload.options.vendor,\n    count: payload.count\n  })\n)\n","const en = require('./en.json')\nconst es = require('./es.json')\nconst zh = require('./zh.json')\nexport { en, es, zh }\n","import {\n  LoadingState,\n  loadingReducer\n} from 'decentraland-dapps/dist/modules/loading/reducer'\nimport {\n  FetchNFTsRequestAction,\n  FetchNFTsSuccessAction,\n  FetchNFTsFailureAction,\n  FETCH_NFTS_REQUEST,\n  FETCH_NFTS_SUCCESS,\n  FETCH_NFTS_FAILURE\n} from '../nft/actions'\nimport { Account } from './types'\n\nexport type AccountState = {\n  data: Record<string, Account>\n  loading: LoadingState\n  error: string | null\n}\n\nconst INITIAL_STATE = {\n  data: {},\n  loading: [],\n  error: null\n}\n\ntype AccountReducerAction =\n  | FetchNFTsRequestAction\n  | FetchNFTsSuccessAction\n  | FetchNFTsFailureAction\n\nexport function accountReducer(\n  state: AccountState = INITIAL_STATE,\n  action: AccountReducerAction\n): AccountState {\n  switch (action.type) {\n    case FETCH_NFTS_REQUEST: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action)\n      }\n    }\n    case FETCH_NFTS_SUCCESS: {\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          ...action.payload.accounts.reduce((obj, account) => {\n            obj[account.address] = account\n            return obj\n          }, {} as Record<string, Account>)\n        },\n        loading: loadingReducer(state.loading, action),\n        error: null\n      }\n    }\n    case FETCH_NFTS_FAILURE: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: action.payload.error\n      }\n    }\n    default:\n      return state\n  }\n}\n","import {\n  LoadingState,\n  loadingReducer\n} from 'decentraland-dapps/dist/modules/loading/reducer'\nimport {\n  FetchTransactionSuccessAction,\n  FETCH_TRANSACTION_SUCCESS\n} from 'decentraland-dapps/dist/modules/transaction/actions'\n\nimport { Authorizations, Address } from './types'\nimport {\n  FetchAuthorizationRequestAction,\n  FetchAuthorizationSuccessAction,\n  FetchAuthorizationFailureAction,\n  ApproveTokenRequestAction,\n  ApproveTokenSuccessAction,\n  ApproveTokenFailureAction,\n  AllowTokenRequestAction,\n  AllowTokenSuccessAction,\n  AllowTokenFailureAction,\n  FETCH_AUTHORIZATION_REQUEST,\n  FETCH_AUTHORIZATION_SUCCESS,\n  FETCH_AUTHORIZATION_FAILURE,\n  ALLOW_TOKEN_SUCCESS,\n  APPROVE_TOKEN_SUCCESS\n} from './actions'\n\nexport type AuthorizationState = {\n  data: Record<string, Authorizations>\n  loading: LoadingState\n  error: string | null\n}\n\nconst INITIAL_STATE = {\n  data: {},\n  loading: [],\n  error: null\n}\nexport const EMPTY_ADDRESS_STATE: Authorizations = {\n  allowances: {},\n  approvals: {}\n}\n\ntype AuthorizationReducerAction =\n  | FetchAuthorizationRequestAction\n  | FetchAuthorizationSuccessAction\n  | FetchAuthorizationFailureAction\n  | ApproveTokenRequestAction\n  | ApproveTokenSuccessAction\n  | ApproveTokenFailureAction\n  | AllowTokenRequestAction\n  | AllowTokenSuccessAction\n  | AllowTokenFailureAction\n  | FetchTransactionSuccessAction\n\nexport function authorizationReducer(\n  state: AuthorizationState = INITIAL_STATE,\n  action: AuthorizationReducerAction\n) {\n  switch (action.type) {\n    case FETCH_AUTHORIZATION_REQUEST: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action)\n      }\n    }\n    case FETCH_AUTHORIZATION_SUCCESS: {\n      const { address, authorization } = action.payload\n      const addressState = state.data[address] || EMPTY_ADDRESS_STATE\n\n      const allowances = { ...addressState.allowances }\n      const approvals = { ...addressState.approvals }\n\n      let contractAddress: Address\n      for (contractAddress in authorization.allowances) {\n        allowances[contractAddress] = {\n          ...allowances[contractAddress],\n          ...authorization.allowances[contractAddress]\n        }\n      }\n      for (contractAddress in authorization.approvals) {\n        approvals[contractAddress] = {\n          ...approvals[contractAddress],\n          ...authorization.approvals[contractAddress]\n        }\n      }\n\n      return {\n        loading: loadingReducer(state.loading, action),\n        error: null,\n        data: {\n          ...state.data,\n          [address]: { allowances, approvals }\n        }\n      }\n    }\n    case FETCH_AUTHORIZATION_FAILURE: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: action.payload.error\n      }\n    }\n    case FETCH_TRANSACTION_SUCCESS: {\n      const transaction = action.payload.transaction\n\n      switch (transaction.actionType) {\n        case ALLOW_TOKEN_SUCCESS: {\n          const {\n            address,\n            isAllowed,\n            contractAddress,\n            tokenContractAddress\n          } = transaction.payload\n          const addressState = state.data[address] || EMPTY_ADDRESS_STATE\n\n          const allowances = {\n            ...addressState.allowances,\n            [contractAddress]: {\n              ...addressState.allowances[contractAddress],\n              [tokenContractAddress]: isAllowed\n            }\n          }\n\n          return {\n            ...state,\n            data: {\n              ...state.data,\n              [address]: {\n                ...addressState,\n                allowances\n              }\n            }\n          }\n        }\n        case APPROVE_TOKEN_SUCCESS: {\n          const {\n            address,\n            isApproved,\n            contractAddress,\n            tokenContractAddress\n          } = transaction.payload\n          const addressState = state.data[address] || EMPTY_ADDRESS_STATE\n\n          const approvals = {\n            ...addressState.approvals,\n            [contractAddress]: {\n              ...addressState.approvals[contractAddress],\n              [tokenContractAddress]: isApproved\n            }\n          }\n\n          return {\n            ...state,\n            data: {\n              ...state.data,\n              [address]: {\n                ...addressState,\n                approvals\n              }\n            }\n          }\n        }\n        default:\n          return state\n      }\n    }\n    default:\n      return state\n  }\n}\n","import { ContractAbi} from 'web3x-es/contract';\nexport default new ContractAbi([\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"mintingFinished\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"decimals\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint8\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"unpause\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"mint\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"burn\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"paused\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"name\": \"balance\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"finishMinting\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"pause\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transfer\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_spender\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"allowance\",\n    \"outputs\": [\n      {\n        \"name\": \"remaining\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"type\": \"function\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Mint\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"MintFinished\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"Pause\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"Unpause\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"burner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Burn\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\"\n  }\n]);","import BN from \"bn.js\";\nimport { Address } from \"web3x-es/address\";\nimport { EventLog, TransactionReceipt } from \"web3x-es/formatters\";\nimport { Contract, ContractOptions, TxCall, TxSend, EventSubscriptionFactory } from \"web3x-es/contract\";\nimport { Eth } from \"web3x-es/eth\";\nimport abi from \"./MANAAbi\";\nexport type MintEvent = {\n    to: Address;\n    amount: string;\n};\nexport type MintFinishedEvent = {};\nexport type PauseEvent = {};\nexport type UnpauseEvent = {};\nexport type BurnEvent = {\n    burner: Address;\n    value: string;\n};\nexport type ApprovalEvent = {\n    owner: Address;\n    spender: Address;\n    value: string;\n};\nexport type TransferEvent = {\n    from: Address;\n    to: Address;\n    value: string;\n};\nexport interface MintEventLog extends EventLog<MintEvent, \"Mint\"> {\n}\nexport interface MintFinishedEventLog extends EventLog<MintFinishedEvent, \"MintFinished\"> {\n}\nexport interface PauseEventLog extends EventLog<PauseEvent, \"Pause\"> {\n}\nexport interface UnpauseEventLog extends EventLog<UnpauseEvent, \"Unpause\"> {\n}\nexport interface BurnEventLog extends EventLog<BurnEvent, \"Burn\"> {\n}\nexport interface ApprovalEventLog extends EventLog<ApprovalEvent, \"Approval\"> {\n}\nexport interface TransferEventLog extends EventLog<TransferEvent, \"Transfer\"> {\n}\ninterface MANAEvents {\n    Mint: EventSubscriptionFactory<MintEventLog>;\n    MintFinished: EventSubscriptionFactory<MintFinishedEventLog>;\n    Pause: EventSubscriptionFactory<PauseEventLog>;\n    Unpause: EventSubscriptionFactory<UnpauseEventLog>;\n    Burn: EventSubscriptionFactory<BurnEventLog>;\n    Approval: EventSubscriptionFactory<ApprovalEventLog>;\n    Transfer: EventSubscriptionFactory<TransferEventLog>;\n}\ninterface MANAEventLogs {\n    Mint: MintEventLog;\n    MintFinished: MintFinishedEventLog;\n    Pause: PauseEventLog;\n    Unpause: UnpauseEventLog;\n    Burn: BurnEventLog;\n    Approval: ApprovalEventLog;\n    Transfer: TransferEventLog;\n}\ninterface MANATxEventLogs {\n    Mint: MintEventLog[];\n    MintFinished: MintFinishedEventLog[];\n    Pause: PauseEventLog[];\n    Unpause: UnpauseEventLog[];\n    Burn: BurnEventLog[];\n    Approval: ApprovalEventLog[];\n    Transfer: TransferEventLog[];\n}\nexport interface MANATransactionReceipt extends TransactionReceipt<MANATxEventLogs> {\n}\ninterface MANAMethods {\n    mintingFinished(): TxCall<boolean>;\n    name(): TxCall<string>;\n    approve(_spender: Address, _value: number | string | BN): TxSend<MANATransactionReceipt>;\n    totalSupply(): TxCall<string>;\n    transferFrom(_from: Address, _to: Address, _value: number | string | BN): TxSend<MANATransactionReceipt>;\n    decimals(): TxCall<string>;\n    unpause(): TxSend<MANATransactionReceipt>;\n    mint(_to: Address, _amount: number | string | BN): TxSend<MANATransactionReceipt>;\n    burn(_value: number | string | BN): TxSend<MANATransactionReceipt>;\n    paused(): TxCall<boolean>;\n    balanceOf(_owner: Address): TxCall<string>;\n    finishMinting(): TxSend<MANATransactionReceipt>;\n    pause(): TxSend<MANATransactionReceipt>;\n    owner(): TxCall<Address>;\n    symbol(): TxCall<string>;\n    transfer(_to: Address, _value: number | string | BN): TxSend<MANATransactionReceipt>;\n    allowance(_owner: Address, _spender: Address): TxCall<string>;\n    transferOwnership(newOwner: Address): TxSend<MANATransactionReceipt>;\n}\nexport interface MANADefinition {\n    methods: MANAMethods;\n    events: MANAEvents;\n    eventLogs: MANAEventLogs;\n}\nexport class MANA extends Contract<MANADefinition> {\n    constructor(eth: Eth, address?: Address, options?: ContractOptions) {\n        super(eth, abi, address, options);\n    }\n    deploy(): TxSend<MANATransactionReceipt> {\n        return super.deployBytecode(\"0x60606040526003805460a060020a61ffff02191690555b60038054600160a060020a03191633600160a060020a03161790555b5b610be5806100426000396000f300606060405236156100e05763ffffffff60e060020a60003504166305d2035b81146100e257806306fdde0314610106578063095ea7b31461019657806318160ddd146101c957806323b872dd146101eb578063313ce567146102245780633f4ba83a1461024a57806340c10f191461026e57806342966c68146102a15780635c975abb146102b657806370a08231146102da5780637d64bcb4146103085780638456cb591461032c5780638da5cb5b1461035057806395d89b411461037c578063a9059cbb1461040c578063dd62ed3e1461043f578063f2fde38b14610473575bfe5b34156100ea57fe5b6100f2610491565b604080519115158252519081900360200190f35b341561010e57fe5b6101166104a1565b60408051602080825283518183015283519192839290830191850190808383821561015c575b80518252602083111561015c57601f19909201916020918201910161013c565b505050905090810190601f1680156101885780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561019e57fe5b6100f2600160a060020a03600435166024356104cf565b604080519115158252519081900360200190f35b34156101d157fe5b6101d9610574565b60408051918252519081900360200190f35b34156101f357fe5b6100f2600160a060020a036004358116906024351660443561057a565b604080519115158252519081900360200190f35b341561022c57fe5b6102346105ab565b6040805160ff9092168252519081900360200190f35b341561025257fe5b6100f26105b0565b604080519115158252519081900360200190f35b341561027657fe5b6100f2600160a060020a036004351660243561062a565b604080519115158252519081900360200190f35b34156102a957fe5b6102b46004356106fd565b005b34156102be57fe5b6100f2610723565b604080519115158252519081900360200190f35b34156102e257fe5b6101d9600160a060020a0360043516610733565b60408051918252519081900360200190f35b341561031057fe5b6100f2610752565b604080519115158252519081900360200190f35b341561033457fe5b6100f26107b8565b604080519115158252519081900360200190f35b341561035857fe5b610360610837565b60408051600160a060020a039092168252519081900360200190f35b341561038457fe5b610116610846565b60408051602080825283518183015283519192839290830191850190808383821561015c575b80518252602083111561015c57601f19909201916020918201910161013c565b505050905090810190601f1680156101885780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561041457fe5b6100f2600160a060020a0360043516602435610867565b604080519115158252519081900360200190f35b341561044757fe5b6101d9600160a060020a0360043581169060243516610896565b60408051918252519081900360200190f35b341561047b57fe5b6102b4600160a060020a03600435166108c3565b005b60035460a860020a900460ff1681565b6040805180820190915260118152607860020a70446563656e7472616c616e64204d414e4102602082015281565b60008115806105015750600160a060020a03338116600090815260026020908152604080832093871683529290522054155b151561050d5760006000fd5b600160a060020a03338116600081815260026020908152604080832094881680845294825291829020869055815186815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a35060015b92915050565b60005481565b60035460009060a060020a900460ff16156105955760006000fd5b6105a084848461090f565b90505b5b9392505050565b601281565b60035460009033600160a060020a039081169116146105cf5760006000fd5b60035460a060020a900460ff1615156105e85760006000fd5b6003805460a060020a60ff02191690556040517f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b3390600090a15060015b5b5b90565b60035460009033600160a060020a039081169116146106495760006000fd5b60035460a860020a900460ff16156106615760006000fd5b600054610674908363ffffffff610a1216565b6000908155600160a060020a03841681526001602052604090205461069f908363ffffffff610a1216565b600160a060020a038416600081815260016020908152604091829020939093558051858152905191927f0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d412139688592918290030190a25060015b5b5b92915050565b60035460a060020a900460ff16156107155760006000fd5b61071e81610a2c565b5b5b50565b60035460a060020a900460ff1681565b600160a060020a0381166000908152600160205260409020545b919050565b60035460009033600160a060020a039081169116146107715760006000fd5b6003805460a860020a60ff02191660a860020a1790556040517fae5184fba832cb2b1f702aca6117b8d265eaf03ad33eb133f19dde0f5920fa0890600090a15060015b5b90565b60035460009033600160a060020a039081169116146107d75760006000fd5b60035460a060020a900460ff16156107ef5760006000fd5b6003805460a060020a60ff02191660a060020a1790556040517f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff62590600090a15060015b5b5b90565b600354600160a060020a031681565b604080518082019091526004815260e060020a634d414e4102602082015281565b60035460009060a060020a900460ff16156108825760006000fd5b61088c8383610ad4565b90505b5b92915050565b600160a060020a038083166000908152600260209081526040808320938516835292905220545b92915050565b60035433600160a060020a039081169116146108df5760006000fd5b600160a060020a0381161561071e5760038054600160a060020a031916600160a060020a0383161790555b5b5b50565b600160a060020a038084166000908152600260209081526040808320338516845282528083205493861683526001909152812054909190610956908463ffffffff610a1216565b600160a060020a03808616600090815260016020526040808220939093559087168152205461098b908463ffffffff610b8216565b600160a060020a0386166000908152600160205260409020556109b4818463ffffffff610b8216565b600160a060020a03808716600081815260026020908152604080832033861684528252918290209490945580518781529051928816939192600080516020610b9a833981519152929181900390910190a3600191505b509392505050565b600082820183811015610a2157fe5b8091505b5092915050565b6000808211610a3b5760006000fd5b5033600160a060020a038116600090815260016020526040902054610a609083610b82565b600160a060020a03821660009081526001602052604081209190915554610a8d908363ffffffff610b8216565b600055604080518381529051600160a060020a033316917fcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5919081900360200190a25b5050565b600160a060020a033316600090815260016020526040812054610afd908363ffffffff610b8216565b600160a060020a033381166000908152600160205260408082209390935590851681522054610b32908363ffffffff610a1216565b600160a060020a03808516600081815260016020908152604091829020949094558051868152905191933390931692600080516020610b9a83398151915292918290030190a35060015b92915050565b600082821115610b8e57fe5b508082035b929150505600ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3efa165627a7a72305820f462e7242c33877d5d2f087a81cc0a589147f1cf578ce7fc53451e7ce4fb376f0029\") as any;\n    }\n}\nexport var MANAAbi = abi;\n","import { Address } from 'web3x-es/address'\nimport { Eth } from 'web3x-es/eth'\nimport { getConnectedProvider } from 'decentraland-dapps/dist/lib/eth'\nimport { MANA } from '../../contracts/MANA'\nimport { contractAddresses } from '../contract/utils'\nimport { getAddress } from '../wallet/selectors'\nimport { store } from '../store'\nimport { RootState } from '../reducer'\nimport { Bid } from './types'\n\nexport async function isInsufficientMANA(bid: Bid) {\n  try {\n    const provider = await getConnectedProvider()\n    if (!provider) {\n      throw new Error('Could not connect to provider')\n    }\n    const eth = new Eth(provider)\n    const mana = new MANA(eth, Address.fromString(contractAddresses.MANAToken))\n\n    // TODO: Remove store from here, receive address as argument\n    const address = getAddress(store.getState() as RootState)\n    if (!address) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n\n    const balance = await mana.methods\n      .balanceOf(Address.fromString(bid.bidder))\n      .call()\n\n    return +balance < +bid.price\n  } catch (error) {\n    console.warn(error.message)\n  }\n  return false\n}\n\nexport function checkFingerprint(bid: Bid, fingerprint: string | undefined) {\n  if (fingerprint && bid.fingerprint) {\n    return fingerprint === bid.fingerprint\n  }\n  return true\n}\n\nexport function toBidObject(bids: Bid[]) {\n  return bids.reduce((obj, bid) => {\n    obj[bid.id] = bid\n    return obj\n  }, {} as Record<string, Bid>)\n}\n","import {\n  LoadingState,\n  loadingReducer\n} from 'decentraland-dapps/dist/modules/loading/reducer'\nimport { toBidObject } from './utils'\nimport { Bid } from './types'\nimport {\n  FetchBidsByAddressRequestAction,\n  FetchBidsByAddressSuccessAction,\n  FetchBidsByAddressFailureAction,\n  FETCH_BIDS_BY_ADDRESS_REQUEST,\n  FETCH_BIDS_BY_ADDRESS_SUCCESS,\n  FETCH_BIDS_BY_ADDRESS_FAILURE,\n  FetchBidsByNFTRequestAction,\n  FetchBidsByNFTSuccessAction,\n  FetchBidsByNFTFailureAction,\n  FETCH_BIDS_BY_NFT_REQUEST,\n  FETCH_BIDS_BY_NFT_SUCCESS,\n  FETCH_BIDS_BY_NFT_FAILURE\n} from './actions'\n\nexport type BidState = {\n  data: Record<string, Bid>\n  loading: LoadingState\n  error: string | null\n}\n\nconst INITIAL_STATE: BidState = {\n  data: {},\n  loading: [],\n  error: null\n}\n\ntype BidReducerAction =\n  | FetchBidsByAddressRequestAction\n  | FetchBidsByAddressSuccessAction\n  | FetchBidsByAddressFailureAction\n  | FetchBidsByNFTRequestAction\n  | FetchBidsByNFTSuccessAction\n  | FetchBidsByNFTFailureAction\n\nexport function bidReducer(state = INITIAL_STATE, action: BidReducerAction) {\n  switch (action.type) {\n    case FETCH_BIDS_BY_NFT_REQUEST:\n    case FETCH_BIDS_BY_ADDRESS_REQUEST: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action)\n      }\n    }\n\n    case FETCH_BIDS_BY_NFT_SUCCESS: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: null,\n        data: {\n          ...state.data,\n          ...toBidObject(action.payload.bids)\n        }\n      }\n    }\n\n    case FETCH_BIDS_BY_ADDRESS_SUCCESS: {\n      const { sellerBids, bidderBids } = action.payload\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: null,\n        data: {\n          ...state.data,\n          ...toBidObject(sellerBids),\n          ...toBidObject(bidderBids)\n        }\n      }\n    }\n\n    case FETCH_BIDS_BY_NFT_FAILURE:\n    case FETCH_BIDS_BY_ADDRESS_FAILURE: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: action.payload.error\n      }\n    }\n\n    default:\n      return state\n  }\n}\n","import {\n  LoadingState,\n  loadingReducer\n} from 'decentraland-dapps/dist/modules/loading/reducer'\n\nimport { NFT } from './types'\nimport {\n  FetchNFTRequestAction,\n  FetchNFTSuccessAction,\n  FetchNFTFailureAction,\n  FETCH_NFT_REQUEST,\n  FETCH_NFT_SUCCESS,\n  FETCH_NFT_FAILURE,\n  FetchNFTsRequestAction,\n  FetchNFTsSuccessAction,\n  FetchNFTsFailureAction,\n  FETCH_NFTS_REQUEST,\n  FETCH_NFTS_SUCCESS,\n  FETCH_NFTS_FAILURE\n} from './actions'\n\nexport type NFTState = {\n  data: Record<string, NFT>\n  loading: LoadingState\n  error: string | null\n}\n\nconst INITIAL_STATE = {\n  data: {},\n  loading: [],\n  error: null\n}\n\ntype NFTReducerAction =\n  | FetchNFTRequestAction\n  | FetchNFTSuccessAction\n  | FetchNFTFailureAction\n  | FetchNFTsRequestAction\n  | FetchNFTsSuccessAction\n  | FetchNFTsFailureAction\n\nexport function nftReducer(\n  state: NFTState = INITIAL_STATE,\n  action: NFTReducerAction\n) {\n  switch (action.type) {\n    case FETCH_NFTS_REQUEST:\n    case FETCH_NFT_REQUEST: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action)\n      }\n    }\n    case FETCH_NFTS_FAILURE:\n    case FETCH_NFT_FAILURE: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: action.payload.error\n      }\n    }\n    case FETCH_NFT_SUCCESS: {\n      const { nft } = action.payload\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        data: {\n          ...state.data,\n          [nft.id]: nft\n        },\n        error: null\n      }\n    }\n    case FETCH_NFTS_SUCCESS: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        data: {\n          ...state.data,\n          ...action.payload.nfts.reduce((obj, nft) => {\n            obj[nft.id] = nft\n            return obj\n          }, {} as Record<string, NFT>)\n        }\n      }\n    }\n    default:\n      return state\n  }\n}\n","import {\n  LoadingState,\n  loadingReducer\n} from 'decentraland-dapps/dist/modules/loading/reducer'\nimport { Order } from './types'\nimport {\n  FetchNFTsRequestAction,\n  FetchNFTsSuccessAction,\n  FetchNFTsFailureAction,\n  FETCH_NFTS_REQUEST,\n  FETCH_NFTS_SUCCESS,\n  FETCH_NFTS_FAILURE,\n  FetchNFTSuccessAction,\n  FETCH_NFT_SUCCESS\n} from '../nft/actions'\n\nexport type OrderState = {\n  data: Record<string, Order>\n  loading: LoadingState\n  error: string | null\n}\n\nconst INITIAL_STATE = {\n  data: {},\n  loading: [],\n  error: null\n}\n\ntype OrderReducerAction =\n  | FetchNFTsRequestAction\n  | FetchNFTsSuccessAction\n  | FetchNFTsFailureAction\n  | FetchNFTSuccessAction\n\nexport function orderReducer(\n  state: OrderState = INITIAL_STATE,\n  action: OrderReducerAction\n): OrderState {\n  switch (action.type) {\n    case FETCH_NFTS_REQUEST: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action)\n      }\n    }\n    case FETCH_NFTS_SUCCESS: {\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          ...action.payload.orders.reduce((obj, order) => {\n            obj[order.id] = order\n            return obj\n          }, {} as Record<string, Order>)\n        },\n        loading: loadingReducer(state.loading, action),\n        error: null\n      }\n    }\n    case FETCH_NFTS_FAILURE: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: action.payload.error\n      }\n    }\n    case FETCH_NFT_SUCCESS: {\n      const { order } = action.payload\n      if (order) {\n        return {\n          ...state,\n          data: {\n            ...state.data,\n            [order.id]: order\n          }\n        }\n      }\n      return state\n    }\n    default:\n      return state\n  }\n}\n","import { action } from 'typesafe-actions'\nimport { Proximity } from './types'\n\nexport const FETCH_PROXIMITY_REQUEST = '[Request] Fetch Proximity'\nexport const FETCH_PROXIMITY_SUCCESS = '[Success] Fetch Proximity'\nexport const FETCH_PROXIMITY_FAILURE = '[Failure] Fetch Proximity'\n\nexport const fetchProximityRequest = () => action(FETCH_PROXIMITY_REQUEST)\nexport const fetchProximitySuccess = (proximity: Record<string, Proximity>) =>\n  action(FETCH_PROXIMITY_SUCCESS, { proximity })\nexport const fetchProximityFailure = (error: string) =>\n  action(FETCH_PROXIMITY_FAILURE, { error })\n\nexport type FetchProximityRequestAction = ReturnType<\n  typeof fetchProximityRequest\n>\nexport type FetchProximitySuccessAction = ReturnType<\n  typeof fetchProximitySuccess\n>\nexport type FetchProximityFailureAction = ReturnType<\n  typeof fetchProximityFailure\n>\n","import {\n  LoadingState,\n  loadingReducer\n} from 'decentraland-dapps/dist/modules/loading/reducer'\nimport {\n  FetchProximityRequestAction,\n  FetchProximitySuccessAction,\n  FetchProximityFailureAction,\n  FETCH_PROXIMITY_REQUEST,\n  FETCH_PROXIMITY_SUCCESS,\n  FETCH_PROXIMITY_FAILURE\n} from './actions'\nimport { Proximity } from './types'\n\ntype ProximityState = {\n  data: Record<string, Proximity>\n  loading: LoadingState\n  error: string | null\n}\n\nconst INITIAL_STATE: ProximityState = {\n  data: {},\n  loading: [],\n  error: null\n}\n\ntype ProximityReducerAction =\n  | FetchProximityRequestAction\n  | FetchProximitySuccessAction\n  | FetchProximityFailureAction\n\nexport function proximityReducer(\n  state = INITIAL_STATE,\n  action: ProximityReducerAction\n) {\n  switch (action.type) {\n    case FETCH_PROXIMITY_REQUEST: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action)\n      }\n    }\n    case FETCH_PROXIMITY_SUCCESS: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: null,\n        data: action.payload.proximity\n      }\n    }\n    case FETCH_PROXIMITY_FAILURE: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: action.payload.error\n      }\n    }\n    default:\n      return state\n  }\n}\n","import { action } from 'typesafe-actions'\n\nimport { SearchOptions } from './types'\n\n// Browse\n\nexport const BROWSE = 'Browse'\n\nexport const browse = (searchOptions: SearchOptions) =>\n  action(BROWSE, { searchOptions })\n\nexport type BrowseAction = ReturnType<typeof browse>\n\n// Navigate\n\nexport const FETCH_NFTS_FROM_ROUTE = 'Fetch NFTs from route'\n\nexport const fetchNFTsFromRoute = (searchOptions: SearchOptions) =>\n  action(FETCH_NFTS_FROM_ROUTE, { searchOptions })\n\nexport type FetchNFTsFromRouteAction = ReturnType<typeof fetchNFTsFromRoute>\n\n// Load More\n\nexport const SET_IS_LOAD_MORE = 'Set is load more'\n\nexport const setIsLoadMore = (isLoadMore: boolean) =>\n  action(SET_IS_LOAD_MORE, { isLoadMore })\n\nexport type SetIsLoadMoreAction = ReturnType<typeof setIsLoadMore>\n","import { SET_IS_LOAD_MORE, SetIsLoadMoreAction } from './actions'\n\nexport type RoutingState = {\n  isLoadMore: boolean\n}\n\nconst INITIAL_STATE: RoutingState = {\n  isLoadMore: false\n}\n\ntype RoutingReducerAction = SetIsLoadMoreAction\n\nexport function routingReducer(\n  state: RoutingState = INITIAL_STATE,\n  action: RoutingReducerAction\n) {\n  switch (action.type) {\n    case SET_IS_LOAD_MORE: {\n      return {\n        ...state,\n        isLoadMore: action.payload.isLoadMore\n      }\n    }\n    default:\n      return state\n  }\n}\n","import { action } from 'typesafe-actions'\nimport { AtlasTile } from 'decentraland-ui'\n\nexport const FETCH_TILES_REQUEST = '[Request] Fetch Tiles'\nexport const FETCH_TILES_SUCCESS = '[Success] Fetch Tiles'\nexport const FETCH_TILES_FAILURE = '[Failure] Fetch Tiles'\n\nexport const fetchTilesRequest = () => action(FETCH_TILES_REQUEST)\nexport const fetchTilesSuccess = (tiles: Record<string, AtlasTile>) =>\n  action(FETCH_TILES_SUCCESS, { tiles })\nexport const fetchTilesFailure = (error: string) =>\n  action(FETCH_TILES_FAILURE, { error })\n\nexport type FetchTilesRequestAction = ReturnType<typeof fetchTilesRequest>\nexport type FetchTilesSuccessAction = ReturnType<typeof fetchTilesSuccess>\nexport type FetchTilesFailureAction = ReturnType<typeof fetchTilesFailure>\n","import { AtlasTile } from 'decentraland-ui'\nimport {\n  LoadingState,\n  loadingReducer\n} from 'decentraland-dapps/dist/modules/loading/reducer'\nimport {\n  FetchTilesRequestAction,\n  FetchTilesSuccessAction,\n  FetchTilesFailureAction,\n  FETCH_TILES_REQUEST,\n  FETCH_TILES_SUCCESS,\n  FETCH_TILES_FAILURE\n} from './actions'\n\nexport type TileState = {\n  data: Record<string, AtlasTile>\n  loading: LoadingState\n  error: string | null\n}\n\nconst INITIAL_STATE: TileState = {\n  data: {},\n  loading: [],\n  error: null\n}\n\ntype TileReducerAction =\n  | FetchTilesRequestAction\n  | FetchTilesSuccessAction\n  | FetchTilesFailureAction\n\nexport function tileReducer(state = INITIAL_STATE, action: TileReducerAction) {\n  switch (action.type) {\n    case FETCH_TILES_REQUEST: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action)\n      }\n    }\n    case FETCH_TILES_SUCCESS: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: null,\n        data: action.payload.tiles\n      }\n    }\n    case FETCH_TILES_FAILURE: {\n      return {\n        ...state,\n        loading: loadingReducer(state.loading, action),\n        error: action.payload.error\n      }\n    }\n    default:\n      return state\n  }\n}\n","import {\n  FETCH_BIDS_BY_NFT_SUCCESS,\n  FETCH_BIDS_BY_ADDRESS_SUCCESS,\n  ARCHIVE_BID,\n  UNARCHIVE_BID,\n  FetchBidsByAddressSuccessAction,\n  ArchiveBidAction,\n  UnarchiveBidAction,\n  FetchBidsByNFTSuccessAction\n} from '../../../bid/actions'\n\nexport type BidUIState = {\n  seller: string[]\n  bidder: string[]\n  archived: string[]\n  nft: string[]\n}\n\nconst INITIAL_STATE: BidUIState = {\n  seller: [],\n  bidder: [],\n  archived: [],\n  nft: []\n}\n\ntype UIReducerAction =\n  | FetchBidsByAddressSuccessAction\n  | FetchBidsByNFTSuccessAction\n  | ArchiveBidAction\n  | UnarchiveBidAction\n\nexport function bidReducer(\n  state: BidUIState = INITIAL_STATE,\n  action: UIReducerAction\n) {\n  switch (action.type) {\n    case FETCH_BIDS_BY_ADDRESS_SUCCESS: {\n      const { sellerBids, bidderBids } = action.payload\n      return {\n        ...state,\n        seller: sellerBids.map(bid => bid.id),\n        bidder: bidderBids.map(bid => bid.id)\n      }\n    }\n    case FETCH_BIDS_BY_NFT_SUCCESS: {\n      const { bids } = action.payload\n      return {\n        ...state,\n        nft: bids.map(bid => bid.id)\n      }\n    }\n    case ARCHIVE_BID: {\n      const { bid } = action.payload\n      return {\n        ...state,\n        archived: [...state.archived.filter(id => id !== bid.id), bid.id]\n      }\n    }\n    case UNARCHIVE_BID: {\n      const { bid } = action.payload\n      return {\n        ...state,\n        archived: [...state.archived.filter(id => id !== bid.id)]\n      }\n    }\n    default:\n      return state\n  }\n}\n","import { action } from 'typesafe-actions'\n\nimport { View } from './types'\n\n// Set View\n\nexport const SET_VIEW = 'Set View'\n\nexport const setView = (view: View) => action(SET_VIEW, { view })\n\nexport type SetViewAction = ReturnType<typeof setView>\n","import {\n  FetchNFTsSuccessAction,\n  FETCH_NFTS_SUCCESS,\n  FetchNFTsRequestAction,\n  FETCH_NFTS_REQUEST\n} from '../../../nft/actions'\nimport { BROWSE, BrowseAction } from '../../../routing/actions'\nimport { SET_VIEW, SetViewAction } from '../../actions'\nimport { View } from '../../types'\n\nexport type BrowseUIState = {\n  view?: View\n  ids: string[]\n  lastTimestamp: number\n  count?: number\n}\n\nconst INITIAL_STATE: BrowseUIState = {\n  view: undefined,\n  ids: [],\n  count: undefined,\n  lastTimestamp: 0\n}\n\ntype UIReducerAction =\n  | SetViewAction\n  | FetchNFTsRequestAction\n  | FetchNFTsSuccessAction\n  | BrowseAction\n\nexport function browseReducer(\n  state: BrowseUIState = INITIAL_STATE,\n  action: UIReducerAction\n) {\n  switch (action.type) {\n    case SET_VIEW: {\n      return {\n        ...state,\n        view: action.payload.view\n      }\n    }\n    case BROWSE: {\n      const { view } = action.payload.searchOptions\n      return {\n        ...state,\n        ids: view ? [] : [...state.ids]\n      }\n    }\n    case FETCH_NFTS_REQUEST: {\n      const { view } = action.payload.options\n      switch (view) {\n        case View.ATLAS:\n          return state\n        case View.LOAD_MORE:\n          return {\n            ...state,\n            ids: [...state.ids],\n            count: undefined\n          }\n        default:\n          return {\n            ...state,\n            ids: [],\n            count: undefined\n          }\n      }\n    }\n    case FETCH_NFTS_SUCCESS: {\n      if (action.payload.timestamp < state.lastTimestamp) {\n        return state\n      }\n      const view = action.payload.options.view\n      switch (view) {\n        case View.MARKET:\n        case View.ACCOUNT: {\n          return {\n            ...state,\n            view,\n            ids: action.payload.nfts.map(nft => nft.id),\n            count: action.payload.count,\n            timestamp: action.payload.timestamp\n          }\n        }\n        case View.LOAD_MORE: {\n          return {\n            ...state,\n            ids: [...state.ids, ...action.payload.nfts.map(nft => nft.id)],\n            count: action.payload.count,\n            timestamp: action.payload.timestamp\n          }\n        }\n        default:\n          return state\n      }\n    }\n    default:\n      return state\n  }\n}\n","import {\n  FetchNFTsSuccessAction,\n  FETCH_NFTS_SUCCESS\n} from '../../../nft/actions'\nimport { View } from '../../types'\n\nexport type HomepageUIState = {\n  [View.HOME_WEARABLES]: string[]\n  [View.HOME_LAND]: string[]\n  [View.HOME_ENS]: string[]\n}\n\nconst INITIAL_STATE: HomepageUIState = {\n  [View.HOME_WEARABLES]: [],\n  [View.HOME_LAND]: [],\n  [View.HOME_ENS]: []\n}\n\ntype UIReducerAction = FetchNFTsSuccessAction\n\nexport function homepageReducer(\n  state: HomepageUIState = INITIAL_STATE,\n  action: UIReducerAction\n) {\n  switch (action.type) {\n    case FETCH_NFTS_SUCCESS: {\n      const nftIds = action.payload.nfts.map(nft => nft.id)\n\n      switch (action.payload.options.view) {\n        case View.HOME_WEARABLES: {\n          return {\n            ...state,\n            [View.HOME_WEARABLES]: nftIds\n          }\n        }\n        case View.HOME_LAND: {\n          return {\n            ...state,\n            [View.HOME_LAND]: nftIds\n          }\n        }\n        case View.HOME_ENS: {\n          return {\n            ...state,\n            [View.HOME_ENS]: nftIds\n          }\n        }\n        default:\n          return state\n      }\n    }\n    default:\n      return state\n  }\n}\n","import {\n  FetchNFTsSuccessAction,\n  FETCH_NFTS_SUCCESS\n} from '../../../nft/actions'\nimport { View } from '../../types'\n\nexport type PartnerUIState = {\n  [View.PARTNERS_SUPER_RARE]: string[]\n  [View.PARTNERS_MAKERS_PLACE]: string[]\n  [View.PARTNERS_KNOWN_ORIGIN]: string[]\n}\n\nconst INITIAL_STATE: PartnerUIState = {\n  [View.PARTNERS_SUPER_RARE]: [],\n  [View.PARTNERS_MAKERS_PLACE]: [],\n  [View.PARTNERS_KNOWN_ORIGIN]: []\n}\n\ntype UIReducerAction = FetchNFTsSuccessAction\n\nexport function partnerReducer(\n  state: PartnerUIState = INITIAL_STATE,\n  action: UIReducerAction\n) {\n  switch (action.type) {\n    case FETCH_NFTS_SUCCESS: {\n      const nftIds = action.payload.nfts.map(nft => nft.id)\n\n      switch (action.payload.options.view) {\n        case View.PARTNERS_SUPER_RARE: {\n          return {\n            ...state,\n            [View.PARTNERS_SUPER_RARE]: nftIds\n          }\n        }\n        case View.PARTNERS_MAKERS_PLACE: {\n          return {\n            ...state,\n            [View.PARTNERS_MAKERS_PLACE]: nftIds\n          }\n        }\n        case View.PARTNERS_KNOWN_ORIGIN: {\n          return {\n            ...state,\n            [View.PARTNERS_KNOWN_ORIGIN]: nftIds\n          }\n        }\n        default:\n          return state\n      }\n    }\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport { bidReducer as bid, BidUIState } from './bid/reducer'\nimport { browseReducer as browse, BrowseUIState } from './browse/reducer'\nimport {\n  homepageReducer as homepage,\n  HomepageUIState\n} from './homepage/reducer'\nimport { partnerReducer as partner, PartnerUIState } from './partner/reducer'\n\nexport type NFTUIState = {\n  bid: BidUIState\n  browse: BrowseUIState\n  homepage: HomepageUIState\n  partner: PartnerUIState\n}\n\nexport const nftReducer = combineReducers({\n  bid,\n  browse,\n  homepage,\n  partner\n})\n","import { Dispatch } from 'redux'\nimport { Transaction } from 'decentraland-dapps/dist/modules/transaction/types'\nimport { Authorizations } from '../../modules/authorization/types'\nimport {\n  allowTokenRequest,\n  approveTokenRequest,\n  AllowTokenRequestAction,\n  ApproveTokenRequestAction\n} from '../../modules/authorization/actions'\n\nexport enum AuthorizationType {\n  ALLOWANCE = 'allowance',\n  APPROVAL = 'approval'\n}\n\nexport type Props = {\n  open: boolean\n  contractAddress: string\n  tokenAddress: string\n  type: AuthorizationType\n  authorizations: Authorizations\n  pendingTransactions: Transaction[]\n  onAllow: typeof allowTokenRequest\n  onApprove: typeof approveTokenRequest\n  onCancel: () => void\n  onProceed: () => void\n}\n\nexport type MapStateProps = Pick<\n  Props,\n  'authorizations' | 'pendingTransactions'\n>\nexport type MapDispatchProps = Pick<Props, 'onAllow' | 'onApprove'>\nexport type MapDispatch = Dispatch<\n  AllowTokenRequestAction | ApproveTokenRequestAction\n>\nexport type OwnProps = Pick<\n  Props,\n  'open' | 'contractAddress' | 'tokenAddress' | 'type' | 'onProceed'\n>\n","import { combineReducers } from 'redux'\nimport { nftReducer as nft, NFTUIState } from './nft/reducer'\n\nexport type UIState = {\n  nft: NFTUIState\n}\n\nexport const uiReducer = combineReducers({\n  nft\n})\n","import { ContractAbi} from 'web3x-es/contract';\nexport default new ContractAbi([\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"mintingFinished\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"decimals\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint8\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"unpause\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"mint\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"burn\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"paused\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"name\": \"balance\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"finishMinting\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"pause\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transfer\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_spender\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"allowance\",\n    \"outputs\": [\n      {\n        \"name\": \"remaining\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"setBalance\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Mint\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"MintFinished\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"Pause\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"Unpause\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"burner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Burn\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\"\n  }\n]);","import BN from \"bn.js\";\nimport { Address } from \"web3x-es/address\";\nimport { EventLog, TransactionReceipt } from \"web3x-es/formatters\";\nimport { Contract, ContractOptions, TxCall, TxSend, EventSubscriptionFactory } from \"web3x-es/contract\";\nimport { Eth } from \"web3x-es/eth\";\nimport abi from \"./ERC20Abi\";\nexport type MintEvent = {\n    to: Address;\n    amount: string;\n};\nexport type MintFinishedEvent = {};\nexport type PauseEvent = {};\nexport type UnpauseEvent = {};\nexport type BurnEvent = {\n    burner: Address;\n    value: string;\n};\nexport type ApprovalEvent = {\n    owner: Address;\n    spender: Address;\n    value: string;\n};\nexport type TransferEvent = {\n    from: Address;\n    to: Address;\n    value: string;\n};\nexport interface MintEventLog extends EventLog<MintEvent, \"Mint\"> {\n}\nexport interface MintFinishedEventLog extends EventLog<MintFinishedEvent, \"MintFinished\"> {\n}\nexport interface PauseEventLog extends EventLog<PauseEvent, \"Pause\"> {\n}\nexport interface UnpauseEventLog extends EventLog<UnpauseEvent, \"Unpause\"> {\n}\nexport interface BurnEventLog extends EventLog<BurnEvent, \"Burn\"> {\n}\nexport interface ApprovalEventLog extends EventLog<ApprovalEvent, \"Approval\"> {\n}\nexport interface TransferEventLog extends EventLog<TransferEvent, \"Transfer\"> {\n}\ninterface ERC20Events {\n    Mint: EventSubscriptionFactory<MintEventLog>;\n    MintFinished: EventSubscriptionFactory<MintFinishedEventLog>;\n    Pause: EventSubscriptionFactory<PauseEventLog>;\n    Unpause: EventSubscriptionFactory<UnpauseEventLog>;\n    Burn: EventSubscriptionFactory<BurnEventLog>;\n    Approval: EventSubscriptionFactory<ApprovalEventLog>;\n    Transfer: EventSubscriptionFactory<TransferEventLog>;\n}\ninterface ERC20EventLogs {\n    Mint: MintEventLog;\n    MintFinished: MintFinishedEventLog;\n    Pause: PauseEventLog;\n    Unpause: UnpauseEventLog;\n    Burn: BurnEventLog;\n    Approval: ApprovalEventLog;\n    Transfer: TransferEventLog;\n}\ninterface ERC20TxEventLogs {\n    Mint: MintEventLog[];\n    MintFinished: MintFinishedEventLog[];\n    Pause: PauseEventLog[];\n    Unpause: UnpauseEventLog[];\n    Burn: BurnEventLog[];\n    Approval: ApprovalEventLog[];\n    Transfer: TransferEventLog[];\n}\nexport interface ERC20TransactionReceipt extends TransactionReceipt<ERC20TxEventLogs> {\n}\ninterface ERC20Methods {\n    mintingFinished(): TxCall<boolean>;\n    name(): TxCall<string>;\n    approve(_spender: Address, _value: number | string | BN): TxSend<ERC20TransactionReceipt>;\n    totalSupply(): TxCall<string>;\n    transferFrom(_from: Address, _to: Address, _value: number | string | BN): TxSend<ERC20TransactionReceipt>;\n    decimals(): TxCall<string>;\n    unpause(): TxSend<ERC20TransactionReceipt>;\n    mint(_to: Address, _amount: number | string | BN): TxSend<ERC20TransactionReceipt>;\n    burn(_value: number | string | BN): TxSend<ERC20TransactionReceipt>;\n    paused(): TxCall<boolean>;\n    balanceOf(_owner: Address): TxCall<string>;\n    finishMinting(): TxSend<ERC20TransactionReceipt>;\n    pause(): TxSend<ERC20TransactionReceipt>;\n    owner(): TxCall<Address>;\n    symbol(): TxCall<string>;\n    transfer(_to: Address, _value: number | string | BN): TxSend<ERC20TransactionReceipt>;\n    allowance(_owner: Address, _spender: Address): TxCall<string>;\n    setBalance(to: Address, amount: number | string | BN): TxSend<ERC20TransactionReceipt>;\n    transferOwnership(newOwner: Address): TxSend<ERC20TransactionReceipt>;\n}\nexport interface ERC20Definition {\n    methods: ERC20Methods;\n    events: ERC20Events;\n    eventLogs: ERC20EventLogs;\n}\nexport class ERC20 extends Contract<ERC20Definition> {\n    constructor(eth: Eth, address?: Address, options?: ContractOptions) {\n        super(eth, abi, address, options);\n    }\n}\nexport var ERC20Abi = abi;\n","import { Eth } from 'web3x-es/eth'\nimport { Address } from 'web3x-es/address'\nimport { toBN } from 'web3x-es/utils'\nimport { AuthorizationType } from '../../components/AuthorizationModal/AuthorizationModal.types'\nimport { ERC20 } from '../../contracts/ERC20'\nimport { ERC721 } from '../../contracts/ERC721'\nimport { Privileges, AuthorizationDefinition, Authorizations } from './types'\n\nexport async function getAuthorizations(\n  definition: AuthorizationDefinition,\n  contractCall: (\n    tokenAddress: string,\n    contractAddress: string\n  ) => Promise<boolean>\n) {\n  const result: Privileges = {}\n\n  for (const contractAddress in definition) {\n    const tokenContractAddresses = definition[contractAddress]\n\n    for (const tokenContractAddress of tokenContractAddresses) {\n      const callResult = await contractCall(\n        tokenContractAddress,\n        contractAddress\n      )\n\n      result[contractAddress] = {\n        ...result[contractAddress],\n        [tokenContractAddress]: callResult\n      }\n    }\n  }\n  console.log('RESULT!!!:', result);\n  return result\n}\n\nexport async function callAllowance(\n  eth: Eth,\n  tokenContractAddress: string,\n  contractAddress: string,\n  walletAddress: string\n) {\n  const contract = new ERC20(eth, toAddress(tokenContractAddress))\n  const result = await contract.methods\n    .allowance(toAddress(walletAddress), toAddress(contractAddress))\n    .call()\n  return parseInt(result, 10)\n}\n\nexport async function callIsApprovedForAll(\n  eth: Eth,\n  tokenContractAddress: string,\n  contractAddress: string,\n  walletAddress: string\n) {\n  const contract = new ERC721(eth, toAddress(tokenContractAddress))\n  return contract.methods\n    .isApprovedForAll(toAddress(walletAddress), toAddress(contractAddress))\n    .call()\n}\n\nexport function getTokenAmountToApprove() {\n  return toBN(2).pow(toBN(180))\n}\n\nfunction toAddress(address: string) {\n  return Address.fromString(address)\n}\n\nexport function hasAuthorization(\n  authorizations: Authorizations,\n  contractAddress: string,\n  tokenAddress: string,\n  type: AuthorizationType\n) {\n  const which =\n    type === AuthorizationType.ALLOWANCE ? 'allowances' : 'approvals'\n  const privileges = authorizations[which]\n  const privilege = privileges[contractAddress]\n  const isAuthorized = !!privilege && privilege[tokenAddress]\n  return isAuthorized\n}\n","import { Eth, SendTx } from 'web3x-es/eth'\nimport { Address } from 'web3x-es/address'\nimport { all, put, call, select, takeEvery } from 'redux-saga/effects'\nimport { ChainId } from '@dcl/schemas'\nimport { Provider } from 'decentraland-connect'\nimport { Wallet } from 'decentraland-dapps/dist/modules/wallet/types'\nimport { getConnectedProvider } from 'decentraland-dapps/dist/lib/eth'\nimport { getChainId } from 'decentraland-dapps/dist/modules/wallet/selectors'\n\nimport { ERC20, ERC20TransactionReceipt } from '../../contracts/ERC20'\nimport { ERC721, ERC721TransactionReceipt } from '../../contracts/ERC721'\nimport { getWallet } from '../wallet/selectors'\nimport { AwaitFn } from '../types'\nimport {\n  getAuthorizations,\n  callAllowance,\n  callIsApprovedForAll,\n  getTokenAmountToApprove\n} from './utils'\nimport {\n  FetchAuthorizationRequestAction,\n  AllowTokenRequestAction,\n  ApproveTokenRequestAction,\n  FETCH_AUTHORIZATION_REQUEST,\n  ALLOW_TOKEN_REQUEST,\n  APPROVE_TOKEN_REQUEST,\n  fetchAuthorizationSuccess,\n  fetchAuthorizationFailure,\n  allowTokenSuccess,\n  allowTokenFailure,\n  approveTokenSuccess,\n  approveTokenFailure\n} from './actions'\n\nexport function* authorizationSaga() {\n  yield takeEvery(FETCH_AUTHORIZATION_REQUEST, handleFetchAuthorizationRequest)\n  yield takeEvery(ALLOW_TOKEN_REQUEST, handleAllowTokenRequest)\n  yield takeEvery(APPROVE_TOKEN_REQUEST, handleApproveTokenRequest)\n}\n\nfunction* handleFetchAuthorizationRequest(\n  action: FetchAuthorizationRequestAction\n) {\n  try {\n    const provider: Provider | null = yield call(getConnectedProvider)\n    if (!provider) {\n      throw new Error('Could not connect to provider')\n    }\n\n    const eth = new Eth(provider)\n\n    const payload = action.payload\n    const address = payload.address.toLowerCase()\n\n    const [allowances, approvals]: AwaitFn<\n      typeof getAuthorizations\n    >[] = yield all([\n      getAuthorizations(\n        payload.allowances,\n        (tokenContractAddress: string, contractAddress: string) =>\n          callAllowance(\n            eth,\n            tokenContractAddress,\n            contractAddress,\n            address\n          ).then(allowance => allowance > 0)\n      ),\n      getAuthorizations(\n        payload.approvals,\n        (tokenContractAddress: string, contractAddress: string) =>\n          callIsApprovedForAll(\n            eth,\n            tokenContractAddress,\n            contractAddress,\n            address\n          )\n      )\n    ])\n\n    const authorization = { allowances, approvals }\n\n    yield put(fetchAuthorizationSuccess(address, authorization))\n  } catch (error) {\n    yield put(fetchAuthorizationFailure(error.message))\n  }\n}\n\nfunction* handleAllowTokenRequest(action: AllowTokenRequestAction) {\n  try {\n    const { isAllowed, contractAddress, tokenContractAddress } = action.payload\n\n    const provider: Provider | null = yield call(getConnectedProvider)\n    if (!provider) {\n      throw new Error('Could not connect to provider')\n    }\n    const eth = new Eth(provider)\n\n    const wallet: Wallet | null = yield select(getWallet)\n    const { address } = wallet!\n    const amount = isAllowed ? getTokenAmountToApprove() : 0\n\n    const tokenContract = new ERC20(\n      eth,\n      Address.fromString(tokenContractAddress)\n    )\n    const transaction: SendTx<ERC20TransactionReceipt> = yield call(() =>\n      tokenContract.methods\n        .approve(Address.fromString(contractAddress), amount)\n        .send({ from: Address.fromString(address) })\n    )\n    const transactionHash: string = yield call(() => transaction.getTxHash())\n    const chainId: ChainId = yield select(getChainId)\n    yield put(\n      allowTokenSuccess(\n        chainId,\n        transactionHash,\n        address,\n        isAllowed,\n        contractAddress,\n        tokenContractAddress\n      )\n    )\n  } catch (error) {\n    yield put(allowTokenFailure(error.message))\n  }\n}\n\nfunction* handleApproveTokenRequest(action: ApproveTokenRequestAction) {\n  try {\n    const { isApproved, contractAddress, tokenContractAddress } = action.payload\n\n    const provider: Provider | null = yield call(getConnectedProvider)\n    if (!provider) {\n      throw new Error('Could not connect to provider')\n    }\n    const eth = new Eth(provider)\n\n    const wallet: Wallet | null = yield select(getWallet)\n\n    const { address } = wallet!\n    const tokenContract = new ERC721(\n      eth,\n      Address.fromString(tokenContractAddress)\n    )\n    const transaction: SendTx<ERC721TransactionReceipt> = yield call(() =>\n      tokenContract.methods\n        .setApprovalForAll(Address.fromString(contractAddress), isApproved)\n        .send({ from: Address.fromString(address) })\n    )\n    const transactionHash: string = yield call(() => transaction.getTxHash())\n\n    const chainId: ChainId = yield select(getChainId)\n    yield put(\n      approveTokenSuccess(\n        chainId,\n        transactionHash,\n        address,\n        isApproved,\n        contractAddress,\n        tokenContractAddress\n      )\n    )\n  } catch (error) {\n    yield put(approveTokenFailure(error.message))\n  }\n}\n","import { push } from 'connected-react-router'\nimport { ChainId } from '@dcl/schemas'\nimport { getChainId } from 'decentraland-dapps/dist/modules/wallet/selectors'\nimport { takeEvery, put, select, call } from 'redux-saga/effects'\nimport {\n  PLACE_BID_REQUEST,\n  PlaceBidRequestAction,\n  placeBidFailure,\n  placeBidSuccess,\n  FETCH_BIDS_BY_ADDRESS_REQUEST,\n  fetchBidsByAddressSuccess,\n  fetchBidsByAddressFailure,\n  FetchBidsByAddressRequestAction,\n  ACCEPT_BID_REQUEST,\n  CANCEL_BID_REQUEST,\n  AcceptBidRequestAction,\n  acceptBidSuccess,\n  acceptBidFailure,\n  CancelBidRequestAction,\n  cancelBidSuccess,\n  cancelBidFailure,\n  FETCH_BIDS_BY_NFT_REQUEST,\n  FetchBidsByNFTRequestAction,\n  fetchBidsByNFTSuccess,\n  fetchBidsByNFTFailure\n} from './actions'\nimport { contractVendors } from '../contract/utils'\nimport { getAddress } from '../wallet/selectors'\nimport { locations } from '../routing/locations'\nimport { VendorFactory } from '../vendor/VendorFactory'\nimport { Vendors } from '../vendor/types'\nimport { Bid } from './types'\n\nexport function* bidSaga() {\n  yield takeEvery(PLACE_BID_REQUEST, handlePlaceBidRequest)\n  yield takeEvery(ACCEPT_BID_REQUEST, handleAcceptBidRequest)\n  yield takeEvery(CANCEL_BID_REQUEST, handleCancelBidRequest)\n  yield takeEvery(\n    FETCH_BIDS_BY_ADDRESS_REQUEST,\n    handleFetchBidsByAddressRequest\n  )\n  yield takeEvery(FETCH_BIDS_BY_NFT_REQUEST, handleFetchBidsByNFTRequest)\n}\n\nfunction* handlePlaceBidRequest(action: PlaceBidRequestAction) {\n  const { nft, price, expiresAt, fingerprint } = action.payload\n  try {\n    const { bidService } = VendorFactory.build(nft.vendor)\n\n    const address: ReturnType<typeof getAddress> = yield select(getAddress)\n    const txHash: string = yield call(() =>\n      bidService!.place(nft, price, expiresAt, address!, fingerprint)\n    )\n    const chainId: ChainId = yield select(getChainId)\n    yield put(\n      placeBidSuccess(\n        nft,\n        price,\n        expiresAt,\n        chainId,\n        txHash,\n        address!,\n        fingerprint\n      )\n    )\n    yield put(push(locations.activity()))\n  } catch (error) {\n    yield put(placeBidFailure(nft, price, expiresAt, error, fingerprint))\n  }\n}\n\nfunction* handleAcceptBidRequest(action: AcceptBidRequestAction) {\n  const { bid } = action.payload\n  try {\n    const vendor = contractVendors[bid.contractAddress]\n    if (!vendor) {\n      throw new Error(\n        `Couldn't find a valid vendor for contract ${bid.contractAddress}`\n      )\n    }\n    const { bidService } = VendorFactory.build(vendor)\n\n    const address: ReturnType<typeof getAddress> = yield select(getAddress)\n    const txHash: string = yield call(() => bidService!.accept(bid, address!))\n\n    const chainId: ChainId = yield select(getChainId)\n    yield put(acceptBidSuccess(bid, chainId, txHash))\n    yield put(push(locations.activity()))\n  } catch (error) {\n    yield put(acceptBidFailure(bid, error.message))\n  }\n}\n\nfunction* handleCancelBidRequest(action: CancelBidRequestAction) {\n  const { bid } = action.payload\n  try {\n    const vendor = contractVendors[bid.contractAddress]\n    if (!vendor) {\n      throw new Error(\n        `Couldn't find a valid vendor for contract ${bid.contractAddress}`\n      )\n    }\n    const { bidService } = VendorFactory.build(vendor)\n\n    const address: ReturnType<typeof getAddress> = yield select(getAddress)\n    const chainId: ChainId = yield select(getChainId)\n    const txHash: string = yield call(() => bidService!.cancel(bid, address!))\n\n    yield put(cancelBidSuccess(bid, chainId, txHash))\n    yield put(push(locations.activity()))\n  } catch (error) {\n    yield put(cancelBidFailure(bid, error.message))\n  }\n}\n\nfunction* handleFetchBidsByAddressRequest(\n  action: FetchBidsByAddressRequestAction\n) {\n  const { address } = action.payload\n  try {\n    let sellerBids: Bid[] = []\n    let bidderBids: Bid[] = []\n\n    for (const vendorName of Object.values(Vendors)) {\n      const { bidService } = VendorFactory.build(vendorName)\n      if (bidService === undefined) {\n        continue\n      }\n\n      const bids: [Bid[], Bid[]] = yield call(() =>\n        Promise.all([\n          bidService.fetchBySeller(address),\n          bidService.fetchByBidder(address)\n        ])\n      )\n      sellerBids = sellerBids.concat(bids[0])\n      bidderBids = bidderBids.concat(bids[1])\n    }\n\n    yield put(fetchBidsByAddressSuccess(address, sellerBids, bidderBids))\n  } catch (error) {\n    yield put(fetchBidsByAddressFailure(address, error.message))\n  }\n}\n\nfunction* handleFetchBidsByNFTRequest(action: FetchBidsByNFTRequestAction) {\n  const { nft } = action.payload\n  try {\n    const { bidService } = VendorFactory.build(nft.vendor)\n\n    const bids: Bid[] = yield call(() => bidService!.fetchByNFT(nft))\n\n    yield put(fetchBidsByNFTSuccess(nft, bids))\n  } catch (error) {\n    yield put(fetchBidsByNFTFailure(nft, error.message))\n  }\n}\n","import { takeEvery, call, put, select } from 'redux-saga/effects'\nimport { push } from 'connected-react-router'\nimport {\n  DEFAULT_BASE_NFT_PARAMS,\n  FETCH_NFTS_REQUEST,\n  FetchNFTsRequestAction,\n  fetchNFTsSuccess,\n  fetchNFTsFailure,\n  FETCH_NFT_REQUEST,\n  FetchNFTRequestAction,\n  fetchNFTSuccess,\n  fetchNFTFailure,\n  TRANSFER_NFT_REQUEST,\n  TransferNFTRequestAction,\n  transferNFTSuccess,\n  transferNFTFailure\n} from './actions'\nimport { getAddress, getChainId } from '../wallet/selectors'\nimport { locations } from '../routing/locations'\nimport { VendorFactory } from '../vendor/VendorFactory'\nimport { contractVendors } from '../contract/utils'\nimport { AwaitFn } from '../types'\nimport { ChainId } from '@dcl/schemas'\n\nexport function* nftSaga() {\n  yield takeEvery(FETCH_NFTS_REQUEST, handleFetchNFTsRequest)\n  yield takeEvery(FETCH_NFT_REQUEST, handleFetchNFTRequest)\n  yield takeEvery(TRANSFER_NFT_REQUEST, handleTransferNFTRequest)\n}\n\nfunction* handleFetchNFTsRequest(action: FetchNFTsRequestAction) {\n  const { options, timestamp } = action.payload\n  const { vendor, filters } = options\n  const params = {\n    ...DEFAULT_BASE_NFT_PARAMS,\n    ...action.payload.options.params\n  }\n\n  try {\n    const { nftService } = VendorFactory.build(vendor)\n\n    const [\n      nfts,\n      accounts,\n      orders,\n      count\n    ]: AwaitFn<typeof nftService.fetch> = yield call(() =>\n      // TODO: This `as any` is here because Typescript joins (&) filter types instead of adding them as an or (|)\n      nftService.fetch(params, filters as any)\n    )\n\n    yield put(\n      fetchNFTsSuccess(options, nfts, accounts, orders, count, timestamp)\n    )\n  } catch (error) {\n    yield put(fetchNFTsFailure(options, error.message, timestamp))\n  }\n}\n\nfunction* handleFetchNFTRequest(action: FetchNFTRequestAction) {\n  const { contractAddress, tokenId } = action.payload\n\n  try {\n    const vendor = contractVendors[contractAddress]\n    if (!vendor) {\n      throw new Error(\n        `Couldn't find a valid vendor for contract ${contractAddress}`\n      )\n    }\n\n    const { nftService } = VendorFactory.build(vendor)\n\n    const [nft, order]: AwaitFn<typeof nftService.fetchOne> = yield call(() =>\n      nftService.fetchOne(contractAddress, tokenId)\n    )\n\n    yield put(fetchNFTSuccess(nft, order))\n  } catch (error) {\n    yield put(fetchNFTFailure(contractAddress, tokenId, error.message))\n  }\n}\n\nfunction* handleTransferNFTRequest(action: TransferNFTRequestAction) {\n  const { nft, address } = action.payload\n  try {\n    const { nftService } = VendorFactory.build(nft.vendor)\n\n    const from: ReturnType<typeof getAddress> = yield select(getAddress)\n    const txHash: string = yield call(() =>\n      nftService.transfer(from!, address, nft)\n    )\n    const chainId: ChainId = yield select(getChainId)\n    yield put(transferNFTSuccess(nft, address, chainId, txHash))\n    yield put(push(locations.activity()))\n  } catch (error) {\n    yield put(transferNFTFailure(nft, address, error.message))\n  }\n}\n","import { put, call, takeEvery, select } from 'redux-saga/effects'\nimport { push } from 'connected-react-router'\nimport { ChainId } from '@dcl/schemas'\nimport {\n  CREATE_ORDER_REQUEST,\n  CreateOrderRequestAction,\n  createOrderFailure,\n  createOrderSuccess,\n  EXECUTE_ORDER_REQUEST,\n  executeOrderSuccess,\n  executeOrderFailure,\n  ExecuteOrderRequestAction,\n  CANCEL_ORDER_REQUEST,\n  CancelOrderRequestAction,\n  cancelOrderSuccess,\n  cancelOrderFailure\n} from './actions'\nimport { getAddress, getChainId } from '../wallet/selectors'\nimport { locations } from '../routing/locations'\nimport { VendorFactory } from '../vendor/VendorFactory'\n\nexport function* orderSaga() {\n  yield takeEvery(CREATE_ORDER_REQUEST, handleCreateOrderRequest)\n  yield takeEvery(EXECUTE_ORDER_REQUEST, handleExecuteOrderRequest)\n  yield takeEvery(CANCEL_ORDER_REQUEST, handleCancelOrderRequest)\n}\n\nfunction* handleCreateOrderRequest(action: CreateOrderRequestAction) {\n  const { nft, price, expiresAt } = action.payload\n  try {\n    const { orderService } = VendorFactory.build(nft.vendor)\n\n    const address: ReturnType<typeof getAddress> = yield select(getAddress)\n    const txHash: string = yield call(() =>\n      orderService.create(nft, price, expiresAt, address!)\n    )\n    const chainId: ChainId = yield select(getChainId)\n    yield put(createOrderSuccess(nft, price, expiresAt, chainId, txHash))\n    yield put(push(locations.activity()))\n  } catch (error) {\n    yield put(createOrderFailure(nft, price, expiresAt, error.message))\n  }\n}\n\nfunction* handleExecuteOrderRequest(action: ExecuteOrderRequestAction) {\n  const { order, nft, fingerprint } = action.payload\n  try {\n    if (nft.id !== order.nftId) {\n      throw new Error('The order does not match the NFT')\n    }\n    const { orderService } = VendorFactory.build(nft.vendor)\n\n    const address: ReturnType<typeof getAddress> = yield select(getAddress)\n    const txHash: string = yield call(() =>\n      orderService.execute(nft, order, address!, fingerprint)\n    )\n\n    const chainId: ChainId = yield select(getChainId)\n    yield put(executeOrderSuccess(order, nft, chainId, txHash))\n    yield put(push(locations.activity()))\n  } catch (error) {\n    yield put(executeOrderFailure(order, nft, error.message))\n  }\n}\n\nfunction* handleCancelOrderRequest(action: CancelOrderRequestAction) {\n  const { order, nft } = action.payload\n  try {\n    if (order.nftId !== nft.id) {\n      throw new Error('The order does not match the NFT')\n    }\n    const { orderService } = VendorFactory.build(nft.vendor)\n\n    const address: ReturnType<typeof getAddress> = yield select(getAddress)\n    const txHash: string = yield call(() => orderService.cancel(nft, address!))\n    const chainId: ChainId = yield select(getChainId)\n    yield put(cancelOrderSuccess(order, nft, chainId, txHash))\n    yield put(push(locations.activity()))\n  } catch (error) {\n    yield put(cancelOrderFailure(order, nft, error.message))\n  }\n}\n","import { takeEvery, call, put } from 'redux-saga/effects'\nimport {\n  FETCH_PROXIMITY_REQUEST,\n  FetchProximityRequestAction,\n  fetchProximitySuccess,\n  fetchProximityFailure,\n  fetchProximityRequest\n} from './actions'\nimport { FETCH_TILES_SUCCESS, FetchTilesSuccessAction } from '../tile/actions'\nimport { Proximity } from './types'\n\nexport function* proximitySaga() {\n  yield takeEvery(FETCH_TILES_SUCCESS, handleFetchTilesSuccess)\n  yield takeEvery(FETCH_PROXIMITY_REQUEST, handleFetchProximityRequest)\n}\n\nfunction* handleFetchProximityRequest(_action: FetchProximityRequestAction) {\n  try {\n    const proximity: Record<string, Proximity> = yield call(async () => {\n      const resp = await fetch('/proximity.json')\n      return resp.json()\n    })\n    yield put(fetchProximitySuccess(proximity))\n  } catch (error) {\n    yield put(fetchProximityFailure(error.message))\n  }\n}\n\nfunction* handleFetchTilesSuccess(_action: FetchTilesSuccessAction) {\n  yield put(fetchProximityRequest())\n}\n","import { createSelector } from 'reselect'\nimport { createMatchSelector } from 'connected-react-router'\nimport { getAddress } from 'decentraland-dapps/dist/modules/wallet/selectors'\nimport { locations } from '../routing/locations'\nimport { RootState } from '../reducer'\nimport { NFTState } from './reducer'\nimport { NFT } from './types'\nimport { getNFT } from './utils'\n\nexport const getState = (state: RootState) => state.nft\nexport const getData = (state: RootState) => getState(state).data\nexport const getLoading = (state: RootState) => getState(state).loading\nexport const getError = (state: RootState) => getState(state).error\n\nconst nftDetailMatchSelector = createMatchSelector<\n  RootState,\n  {\n    contractAddress: string\n    tokenId: string\n  }\n>(locations.nft(':contractAddress', ':tokenId'))\n\nexport const getContractAddress = createSelector<\n  RootState,\n  ReturnType<typeof nftDetailMatchSelector>,\n  string | null\n>(nftDetailMatchSelector, match => match?.params.contractAddress || null)\n\nexport const getTokenId = createSelector<\n  RootState,\n  ReturnType<typeof nftDetailMatchSelector>,\n  string | null\n>(nftDetailMatchSelector, match => match?.params.tokenId || null)\n\nexport const getCurrentNFT = createSelector<\n  RootState,\n  string | null,\n  string | null,\n  NFTState['data'],\n  NFT | null\n>(\n  state => getContractAddress(state),\n  state => getTokenId(state),\n  state => getData(state),\n  (contractAddress, tokenId, nfts) => getNFT(contractAddress, tokenId, nfts)\n)\n\nexport const getNFTsByOwner = createSelector<\n  RootState,\n  NFTState['data'],\n  Record<string, NFT[]>\n>(\n  state => getData(state),\n  data => {\n    let nftsByOwner: Record<string, NFT[]> = {}\n    for (const id of Object.keys(data)) {\n      const nft = data[id]\n      const key = nft.owner.toLowerCase()\n      if (!nftsByOwner[key]) {\n        nftsByOwner[key] = []\n      }\n      nftsByOwner[key].push(nft)\n    }\n    return nftsByOwner\n  }\n)\n\nexport const getWalletNFTs = createSelector<\n  RootState,\n  Record<string, NFT[]>,\n  string | undefined,\n  NFT[]\n>(\n  state => getNFTsByOwner(state),\n  state => getAddress(state),\n  (nftsByOwner, address) => {\n    if (address && address.toLowerCase() in nftsByOwner) {\n      return nftsByOwner[address.toLowerCase()]\n    }\n    return []\n  }\n)\n","import { createSelector } from 'reselect'\nimport { NFTState } from '../../../nft/reducer'\nimport { NFT } from '../../../nft/types'\nimport { getData as getNFTData } from '../../../nft/selectors'\nimport { RootState } from '../../../reducer'\nimport { BrowseUIState } from './reducer'\n\nexport const getState = (state: RootState) => state.ui.nft.browse\nexport const getView = (state: RootState) => getState(state).view\nexport const getCount = (state: RootState) => getState(state).count\n\nexport const getNFTs = createSelector<\n  RootState,\n  BrowseUIState,\n  NFTState['data'],\n  NFT[]\n>(getState, getNFTData, (browse, nftsById) =>\n  browse.ids.map(id => nftsById[id])\n)\n","import { createSelector } from 'reselect'\nimport { getSearch as getRouterSearch } from 'connected-react-router'\nimport { getView } from '../ui/nft/browse/selectors'\nimport { View } from '../ui/types'\nimport { WearableRarity, WearableGender } from '../nft/wearable/types'\nimport { ContractName, Vendors } from '../vendor/types'\nimport { isVendor } from '../vendor/utils'\nimport { contractAddresses } from '../contract/utils'\nimport { RootState } from '../reducer'\nimport {\n  getDefaultOptionsByView,\n  getURLParamArray,\n  getURLParam\n} from './search'\nimport { SortBy, Section } from './types'\n\nexport const getState = (state: RootState) => state.routing\n\nexport const getVendor = createSelector<RootState, string, Vendors>(\n  getRouterSearch,\n  search => {\n    const vendor = getURLParam<Vendors>(search, 'vendor')\n    if (vendor && isVendor(vendor)) {\n      return vendor\n    }\n    return Vendors.DECENTRALAND\n  }\n)\n\nexport const getSection = createSelector<RootState, string, Vendors, Section>(\n  getRouterSearch,\n  getVendor,\n  (search, vendor) =>\n    getURLParam<Section>(search, 'section') || Section[vendor].ALL\n)\n\nexport const getPage = createSelector<RootState, string, number>(\n  getRouterSearch,\n  search => {\n    const page = getURLParam(search, 'page')\n    return page === null || isNaN(+page) ? 1 : +page\n  }\n)\n\nexport const getSortBy = createSelector<\n  RootState,\n  string,\n  View | undefined,\n  SortBy | undefined\n>(\n  getRouterSearch,\n  getView,\n  (search, view) =>\n    getURLParam<SortBy>(search, 'sortBy') ||\n    getDefaultOptionsByView(view).sortBy\n)\n\nexport const getOnlyOnSale = createSelector<\n  RootState,\n  string,\n  View | undefined,\n  boolean | undefined\n>(getRouterSearch, getView, (search, view) => {\n  const onlyOnSale = getURLParam(search, 'onlyOnSale')\n  return onlyOnSale === null\n    ? view\n      ? getDefaultOptionsByView(view).onlyOnSale\n      : undefined\n    : onlyOnSale === 'true'\n})\n\nexport const getIsMap = createSelector<RootState, string, boolean | undefined>(\n  getRouterSearch,\n  search => {\n    const isMap = getURLParam(search, 'isMap')\n    return isMap === null ? undefined : isMap === 'true'\n  }\n)\n\nexport const getIsFullscreen = createSelector<\n  RootState,\n  string,\n  boolean | undefined,\n  boolean | undefined\n>(getRouterSearch, getIsMap, (search, isMap) => {\n  const isFullscreen = getURLParam(search, 'isFullscreen')\n  return isFullscreen === null ? undefined : isMap && isFullscreen === 'true'\n})\n\nexport const getWearableRarities = createSelector<\n  RootState,\n  string,\n  WearableRarity[]\n>(getRouterSearch, search =>\n  getURLParamArray<WearableRarity>(\n    search,\n    'rarities',\n    Object.values(WearableRarity)\n  )\n)\n\nexport const getWearableGenders = createSelector<\n  RootState,\n  string,\n  WearableGender[]\n>(getRouterSearch, search =>\n  getURLParamArray<WearableGender>(\n    search,\n    'genders',\n    Object.values(WearableGender)\n  )\n)\n\nexport const getContracts = createSelector<RootState, string, ContractName[]>(\n  getRouterSearch,\n  search =>\n    getURLParamArray<ContractName>(\n      search,\n      'contracts',\n      Object.keys(contractAddresses)\n    )\n)\n\nexport const getSearch = createSelector<RootState, string, string>(\n  getRouterSearch,\n  search => getURLParam(search, 'search') || ''\n)\n","import { createSelector } from 'reselect'\nimport { createMatchSelector } from 'connected-react-router'\n\nimport { RootState } from '../reducer'\nimport { locations } from '../routing/locations'\n\nexport const getState = (state: RootState) => state.account\nexport const getData = (state: RootState) => getState(state).data\nexport const getLoading = (state: RootState) => getState(state).loading\nexport const getError = (state: RootState) => getState(state).error\n\nconst accountMatchSelector = createMatchSelector<\n  RootState,\n  { address: string }\n>(locations.account(':address'))\n\nexport const getAddress = createSelector<\n  RootState,\n  ReturnType<typeof accountMatchSelector>,\n  string | undefined\n>(accountMatchSelector, match => match?.params.address)\n","import { MAX_QUERY_SIZE as decentralandMaxQuerySize } from './decentraland/api'\nimport { MAX_QUERY_SIZE as superRareMaxQuerySize } from './super_rare/api'\nimport { MAX_QUERY_SIZE as makersPlaceMaxQuerySize } from './makers_place/api'\nimport { MAX_QUERY_SIZE as knownOriginMaxQuerySize } from './known_origin/api'\nimport { Vendors } from './types'\n\nexport const MAX_PAGE = 10000\nexport const PAGE_SIZE = 24\n\nexport function getMaxQuerySize(vendor: Vendors) {\n  switch (vendor) {\n    case Vendors.DECENTRALAND:\n      return decentralandMaxQuerySize\n    case Vendors.SUPER_RARE:\n      return superRareMaxQuerySize\n    case Vendors.MAKERS_PLACE:\n      return makersPlaceMaxQuerySize\n    case Vendors.KNOWN_ORIGIN:\n      return knownOriginMaxQuerySize\n  }\n}\n","import { takeEvery, put, select } from 'redux-saga/effects'\nimport { push, getLocation } from 'connected-react-router'\n\nimport { NFTCategory } from '../nft/types'\nimport { Vendors } from '../vendor/types'\nimport { View } from '../ui/types'\nimport { getView } from '../ui/nft/browse/selectors'\nimport { getIsFullscreen, getVendor } from '../routing/selectors'\nimport { getAddress as getWalletAddress } from '../wallet/selectors'\nimport { getAddress as getAccountAddress } from '../account/selectors'\nimport { fetchNFTsRequest } from '../nft/actions'\nimport { setView } from '../ui/actions'\nimport { getFilters } from '../vendor/utils'\nimport { getSortOrder } from '../nft/utils'\nimport { MAX_PAGE, PAGE_SIZE, getMaxQuerySize } from '../vendor/api'\nimport { locations } from './locations'\nimport {\n  getSearchParams,\n  getSearchCategory,\n  getDefaultOptionsByView\n} from './search'\nimport {\n  getPage,\n  getSection,\n  getSortBy,\n  getOnlyOnSale,\n  getIsMap,\n  getWearableRarities,\n  getWearableGenders,\n  getContracts,\n  getSearch\n} from './selectors'\nimport {\n  BROWSE,\n  BrowseAction,\n  FETCH_NFTS_FROM_ROUTE,\n  FetchNFTsFromRouteAction,\n  setIsLoadMore\n} from './actions'\nimport { SearchOptions } from './types'\n\nexport function* routingSaga() {\n  yield takeEvery(FETCH_NFTS_FROM_ROUTE, handleFetchNFTsFromRoute)\n  yield takeEvery(BROWSE, handleBrowse)\n}\n\nfunction* handleFetchNFTsFromRoute(action: FetchNFTsFromRouteAction) {\n  const newSearchOptions: SearchOptions = yield getNewSearchOptions(\n    action.payload.searchOptions\n  )\n  yield fetchNFTsFromRoute(newSearchOptions)\n}\n\nfunction* handleBrowse(action: BrowseAction) {\n  const newSearchOptions: SearchOptions = yield getNewSearchOptions(\n    action.payload.searchOptions\n  )\n  yield fetchNFTsFromRoute(newSearchOptions)\n\n  const { pathname }: ReturnType<typeof getLocation> = yield select(getLocation)\n  const params = getSearchParams(newSearchOptions)\n  yield put(push(params ? `${pathname}?${params.toString()}` : pathname))\n}\n\n// ------------------------------------------------\n// Utility functions, not handlers\n\nfunction* fetchNFTsFromRoute(searchOptions: SearchOptions) {\n  const view = searchOptions.view!\n  const vendor = searchOptions.vendor!\n  const page = searchOptions.page!\n  const section = searchOptions.section!\n  const sortBy = searchOptions.sortBy!\n  const { search, onlyOnSale, isMap, address } = searchOptions\n\n  const isLoadMore = view === View.LOAD_MORE\n\n  const offset = isLoadMore ? page - 1 : 0\n  const skip = Math.min(offset, MAX_PAGE) * PAGE_SIZE\n  const first = Math.min(page * PAGE_SIZE - skip, getMaxQuerySize(vendor))\n\n  const [orderBy, orderDirection] = getSortOrder(sortBy)\n  const category = getSearchCategory(section)\n\n  yield put(setIsLoadMore(isLoadMore))\n\n  if (isMap) {\n    yield put(setView(view))\n  } else {\n    yield put(\n      fetchNFTsRequest({\n        vendor,\n        view,\n        params: {\n          first,\n          skip,\n          orderBy,\n          orderDirection,\n          onlyOnSale,\n          address,\n          category,\n          search\n        },\n        filters: getFilters(vendor, searchOptions)\n      })\n    )\n  }\n}\n\nfunction* getNewSearchOptions(current: SearchOptions) {\n  let previous: SearchOptions = {\n    address: yield getAddress(),\n    vendor: yield select(getVendor),\n    section: yield select(getSection),\n    page: yield select(getPage),\n    view: yield select(getView),\n    sortBy: yield select(getSortBy),\n    search: yield select(getSearch),\n    onlyOnSale: yield select(getOnlyOnSale),\n    isMap: yield select(getIsMap),\n    isFullscreen: yield select(getIsFullscreen)\n  }\n  current = yield deriveCurrentOptions(previous, current)\n\n  const view = deriveView(previous, current)\n  const vendor = deriveVendor(previous, current)\n\n  if (shouldResetOptions(previous, current)) {\n    previous = { page: 1 }\n  }\n\n  const defaults = getDefaultOptionsByView(view)\n\n  return {\n    ...defaults,\n    ...previous,\n    ...current,\n    view,\n    vendor\n  }\n}\n\nfunction* getAddress() {\n  const { pathname }: ReturnType<typeof getLocation> = yield select(getLocation)\n  let address: string | undefined\n\n  if (pathname === locations.currentAccount()) {\n    address = yield select(getWalletAddress)\n  } else {\n    address = yield select(getAccountAddress)\n  }\n\n  return address\n}\n\n// TODO: Consider moving this should live to each vendor\nfunction* deriveCurrentOptions(\n  previous: SearchOptions,\n  current: SearchOptions\n) {\n  let newOptions = { ...current }\n\n  const nextCategory = getSearchCategory(current.section!)\n\n  switch (nextCategory) {\n    case NFTCategory.WEARABLE: {\n      const prevCategory = getSearchCategory(previous.section!)\n\n      // Category specific logic to keep filters if the category doesn't change\n      if (prevCategory && prevCategory === nextCategory) {\n        newOptions = {\n          wearableRarities: yield select(getWearableRarities),\n          wearableGenders: yield select(getWearableGenders),\n          contracts: yield select(getContracts),\n          search: yield select(getSearch),\n          ...newOptions\n        }\n      }\n    }\n  }\n\n  return newOptions\n}\n\nfunction deriveView(previous: SearchOptions, current: SearchOptions) {\n  return previous.page! < current.page!\n    ? View.LOAD_MORE\n    : current.view || previous.view\n}\n\nfunction deriveVendor(previous: SearchOptions, current: SearchOptions) {\n  return current.vendor || previous.vendor || Vendors.DECENTRALAND\n}\n\nfunction shouldResetOptions(previous: SearchOptions, current: SearchOptions) {\n  return (\n    (current.vendor && current.vendor !== previous.vendor) ||\n    (current.section && current.section !== previous.section)\n  )\n}\n","import { takeEvery, call, put } from 'redux-saga/effects'\nimport { Atlas, AtlasTile } from 'decentraland-ui'\nimport { ATLAS_URL } from '../../modules/vendor/decentraland'\nimport {\n  FETCH_TILES_REQUEST,\n  FetchTilesRequestAction,\n  fetchTilesSuccess,\n  fetchTilesFailure\n} from './actions'\nimport {\n  ConnectWalletSuccessAction,\n  CONNECT_WALLET_SUCCESS\n} from 'decentraland-dapps/dist/modules/wallet/actions'\nimport { fetchNFTsRequest } from '../nft/actions'\nimport { Vendors } from '../vendor'\nimport { View } from '../ui/types'\n\nexport function* tileSaga() {\n  yield takeEvery(FETCH_TILES_REQUEST, handleFetchTilesRequest)\n  yield takeEvery(CONNECT_WALLET_SUCCESS, handleConnectWalletSuccess)\n}\n\nfunction* handleFetchTilesRequest(_action: FetchTilesRequestAction) {\n  try {\n    const tiles: Record<string, AtlasTile> = yield call(() =>\n      Atlas.fetchTiles(ATLAS_URL + '/tiles')\n    )\n    yield put(fetchTilesSuccess(tiles))\n  } catch (error) {\n    yield put(fetchTilesFailure(error.message))\n  }\n}\n\nfunction* handleConnectWalletSuccess(action: ConnectWalletSuccessAction) {\n  yield put(\n    fetchNFTsRequest({\n      vendor: Vendors.DECENTRALAND,\n      view: View.ATLAS,\n      params: {\n        first: 1000,\n        skip: 0,\n        address: action.payload.wallet.address.toLowerCase()\n      },\n      filters: {\n        isLand: true\n      }\n    })\n  )\n}\n","import { createTranslationSaga } from 'decentraland-dapps/dist/modules/translation/sagas'\nimport * as translations from './locales'\n\nexport const translationSaga = createTranslationSaga({\n  translations\n})\n","import { takeEvery, put, select } from 'redux-saga/effects'\nimport {\n  CONNECT_WALLET_SUCCESS,\n  ConnectWalletSuccessAction\n} from 'decentraland-dapps/dist/modules/wallet/actions'\nimport { push, getLocation } from 'connected-react-router'\nimport { locations } from '../routing/locations'\n\nexport function* uiSaga() {\n  yield takeEvery(CONNECT_WALLET_SUCCESS, handleConnectWalletSuccess)\n}\n\nfunction* handleConnectWalletSuccess(_action: ConnectWalletSuccessAction) {\n  const location: ReturnType<typeof getLocation> = yield select(getLocation)\n  if (location.pathname === locations.signIn()) {\n    yield put(push(locations.currentAccount()))\n  }\n}\n","import { takeEvery, all, put } from 'redux-saga/effects'\nimport { createWalletSaga } from 'decentraland-dapps/dist/modules/wallet/sagas'\nimport {\n  ConnectWalletSuccessAction,\n  CONNECT_WALLET_SUCCESS,\n  ChangeAccountAction,\n  ChangeNetworkAction,\n  CHANGE_ACCOUNT,\n  CHANGE_NETWORK\n} from 'decentraland-dapps/dist/modules/wallet/actions'\n\nimport { NFTCategory } from '../nft/types'\nimport { fetchAuthorizationRequest } from '../authorization/actions'\nimport { AuthorizationsRequest } from '../authorization/types'\nimport { contractAddresses, contractCategories } from '../contract/utils'\n\nconst baseWalletSaga = createWalletSaga({\n  CHAIN_ID: +(process.env.REACT_APP_CHAIN_ID || 1)\n})\n\nexport function* walletSaga() {\n  yield all([baseWalletSaga(), fullWalletSaga()])\n}\n\nfunction* fullWalletSaga() {\n  yield takeEvery(CONNECT_WALLET_SUCCESS, handleWallet)\n  yield takeEvery(CHANGE_ACCOUNT, handleWallet)\n  yield takeEvery(CHANGE_NETWORK, handleWallet)\n}\n\nfunction* handleWallet(\n  action: ConnectWalletSuccessAction | ChangeAccountAction | ChangeNetworkAction\n) {\n  const { address } = action.payload.wallet\n\n  const { MANAToken, Marketplace, MarketplaceAdapter, Bids } = contractAddresses\n\n  // TODO: VendorFactory.build().contractService.getAllowances()\n  // TODO: VendorFactory.build().contractService.getApprovals()\n\n  const authorization: AuthorizationsRequest = {\n    allowances: {\n      [Marketplace]: [MANAToken],\n      [MarketplaceAdapter]: [MANAToken],\n      [Bids]: [MANAToken]\n    },\n    approvals: {\n      [Marketplace]: Object.keys(contractCategories).filter(\n        key => contractCategories[key] !== NFTCategory.ART\n      )\n    }\n  }\n\n  yield put(fetchAuthorizationRequest(address, authorization))\n}\n","import { all } from 'redux-saga/effects'\nimport { createAnalyticsSaga } from 'decentraland-dapps/dist/modules/analytics/sagas'\nimport { transactionSaga } from 'decentraland-dapps/dist/modules/transaction/sagas'\nimport { createProfileSaga } from 'decentraland-dapps/dist/modules/profile/sagas'\n\nimport { authorizationSaga } from './authorization/sagas'\nimport { bidSaga } from './bid/sagas'\nimport { nftSaga } from './nft/sagas'\nimport { orderSaga } from './order/sagas'\nimport { proximitySaga } from './proximity/sagas'\nimport { routingSaga } from './routing/sagas'\nimport { tileSaga } from './tile/sagas'\nimport { translationSaga } from './translation/sagas'\nimport { uiSaga } from './ui/sagas'\nimport { walletSaga } from './wallet/sagas'\n\nconst analyticsSaga = createAnalyticsSaga()\nconst profileSaga = createProfileSaga({\n  peerUrl: process.env.REACT_APP_PEER_URL!\n})\n\nexport function* rootSaga() {\n  yield all([\n    analyticsSaga(),\n    transactionSaga(),\n    authorizationSaga(),\n    bidSaga(),\n    nftSaga(),\n    orderSaga(),\n    profileSaga(),\n    proximitySaga(),\n    routingSaga(),\n    tileSaga(),\n    translationSaga(),\n    uiSaga(),\n    walletSaga()\n  ])\n}\n","import { applyMiddleware, compose, createStore } from 'redux'\nimport createSagasMiddleware from 'redux-saga'\nimport { routerMiddleware } from 'connected-react-router'\nimport { createLogger } from 'redux-logger'\nimport { createStorageMiddleware } from 'decentraland-dapps/dist/modules/storage/middleware'\nimport { storageReducerWrapper } from 'decentraland-dapps/dist/modules/storage/reducer'\nimport { createTransactionMiddleware } from 'decentraland-dapps/dist/modules/transaction/middleware'\nimport { createAnalyticsMiddleware } from 'decentraland-dapps/dist/modules/analytics/middleware'\nimport { CLEAR_TRANSACTIONS } from 'decentraland-dapps/dist/modules/transaction/actions'\n\nimport { createRootReducer, RootState } from './reducer'\nimport { rootSaga } from './sagas'\nimport { fetchTilesRequest } from './tile/actions'\nimport { ARCHIVE_BID, UNARCHIVE_BID } from './bid/actions'\n\nconst isDev = process.env.NODE_ENV === 'development'\nconst anyWindow = window as any\n\nconst composeEnhancers =\n  isDev && anyWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? anyWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        stateSanitizer: (state: RootState) => {\n          const { tile, proximity, ...sanitized } = { ...state }\n          return sanitized\n        }\n      })\n    : compose\n\nexport const history = require('history').createBrowserHistory()\nconst rootReducer = storageReducerWrapper(createRootReducer(history))\n\nconst sagasMiddleware = createSagasMiddleware()\nconst loggerMiddleware = createLogger({\n  collapsed: () => true,\n  predicate: (_: any, action) => isDev || action.type.includes('Failure')\n})\nconst transactionMiddleware = createTransactionMiddleware()\nconst { storageMiddleware, loadStorageMiddleware } = createStorageMiddleware({\n  storageKey: 'marketplace-v2', // this is the key used to save the state in localStorage (required)\n  paths: [['ui', 'archivedBidIds']], // array of paths from state to be persisted (optional)\n  actions: [CLEAR_TRANSACTIONS, ARCHIVE_BID, UNARCHIVE_BID], // array of actions types that will trigger a SAVE (optional)\n  migrations: {} // migration object that will migrate your localstorage (optional)\n})\nconst analyticsMiddleware = createAnalyticsMiddleware(\n  process.env.REACT_APP_SEGMENT_API_KEY || ''\n)\n\nconst middleware = applyMiddleware(\n  sagasMiddleware,\n  routerMiddleware(history),\n  loggerMiddleware,\n  transactionMiddleware,\n  storageMiddleware,\n  analyticsMiddleware\n)\nconst enhancer = composeEnhancers(middleware)\nconst store = createStore(rootReducer, enhancer)\n\nsagasMiddleware.run(rootSaga)\nloadStorageMiddleware(store)\n\nif (isDev) {\n  const _window = window as any\n  _window.getState = store.getState\n}\n\n// fetch tiles\nstore.dispatch(fetchTilesRequest())\n\nexport { store }\n","import { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\nimport { History } from 'history'\nimport { walletReducer as wallet } from 'decentraland-dapps/dist/modules/wallet/reducer'\nimport { translationReducer as translation } from 'decentraland-dapps/dist/modules/translation/reducer'\nimport { storageReducer as storage } from 'decentraland-dapps/dist/modules/storage/reducer'\nimport { transactionReducer as transaction } from 'decentraland-dapps/dist/modules/transaction/reducer'\nimport { profileReducer as profile } from 'decentraland-dapps/dist/modules/profile/reducer'\n\nimport { accountReducer as account } from './account/reducer'\nimport { authorizationReducer as authorization } from './authorization/reducer'\nimport { bidReducer as bid } from './bid/reducer'\nimport { nftReducer as nft } from './nft/reducer'\nimport { orderReducer as order } from './order/reducer'\nimport { proximityReducer as proximity } from './proximity/reducer'\nimport { routingReducer as routing } from './routing/reducer'\nimport { tileReducer as tile } from './tile/reducer'\nimport { uiReducer as ui } from './ui/reducer'\n\nexport const createRootReducer = (history: History) =>\n  combineReducers({\n    account,\n    authorization,\n    bid,\n    nft,\n    order,\n    profile,\n    proximity,\n    routing,\n    tile,\n    ui,\n    router: connectRouter(history),\n    storage,\n    transaction,\n    translation,\n    wallet\n  })\n\nexport type RootState = ReturnType<ReturnType<typeof createRootReducer>>\n","export enum NavigationTab {\n  BROWSE = 'browse',\n  PARTNERS = 'partners',\n  PARTNER = 'partner',\n  MY_ASSETS = 'my_assets',\n  MY_BIDS = 'my_bids',\n  ACTIVITY = 'activity'\n}\n\nexport type Props = {\n  activeTab?: NavigationTab\n  isFullscreen?: boolean\n}\n\nexport type MapStateProps = {}\nexport type MapDispatchProps = {}\n","import React from 'react'\nimport { UserMenu as BaseUserMenu } from 'decentraland-dapps/dist/containers'\n\nexport default class UserMenu extends React.PureComponent {\n  render() {\n    return <BaseUserMenu {...this.props} />\n  }\n}\n","import UserMenu from './UserMenu.container'\n\nexport default UserMenu\n","import { connect } from 'react-redux'\nimport { getLocation, push } from 'connected-react-router'\nimport { isPending } from 'decentraland-dapps/dist/modules/transaction/utils'\nimport {\n  isConnected,\n  isConnecting\n} from 'decentraland-dapps/dist/modules/wallet/selectors'\nimport { getTransactions } from '../../modules/transaction/selectors'\nimport { locations } from '../../modules/routing/locations'\nimport { RootState } from '../../modules/reducer'\nimport { MapStateProps, MapDispatch, MapDispatchProps } from './UserMenu.types'\nimport UserMenu from './UserMenu'\n\nconst mapState = (state: RootState): MapStateProps => {\n  return {\n    isSignedIn: isConnected(state),\n    isSigningIn: isConnecting(state),\n    isActivity: getLocation(state).pathname === locations.activity(),\n    hasActivity: getTransactions(state).some(tx => isPending(tx.status))\n  }\n}\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onClickActivity: () => dispatch(push(locations.activity())),\n  onClickSettings: () => dispatch(push(locations.settings()))\n})\n\nexport default connect(mapState, mapDispatch)(UserMenu)\n","import React, { useCallback } from 'react'\nimport { Menu, Icon } from 'decentraland-ui'\nimport { Navbar as BaseNavbar } from 'decentraland-dapps/dist/containers'\n\nimport { locations } from '../../modules/routing/locations'\nimport UserMenu from '../UserMenu'\nimport { Props } from './Navbar.types'\nimport './Navbar.css'\n\nconst Navbar = (props: Props) => {\n  const { pathname, hasPendingTransactions, onNavigate, isConnected } = props\n\n  if (isConnected) {\n    props = { ...props, rightMenu: <UserMenu /> }\n  }\n\n  const handleOnSignIn = useCallback(() => {\n    onNavigate(locations.signIn())\n  }, [onNavigate])\n\n  const handleOnClickAccount = useCallback(() => {\n    onNavigate(locations.settings())\n  }, [onNavigate])\n\n  const handleClickActivity = useCallback(() => {\n    onNavigate(locations.activity())\n  }, [onNavigate])\n\n  return (\n    <BaseNavbar\n      {...props}\n      activePage=\"marketplace\"\n      isFullscreen={props.isFullscreen}\n      isSignIn={pathname === locations.signIn()}\n      onSignIn={handleOnSignIn}\n      onClickAccount={handleOnClickAccount}\n      middleMenu={\n        <Menu.Item\n          className={pathname === locations.activity() ? 'active' : ''}\n        >\n          <Icon\n            className={hasPendingTransactions ? 'pending' : ''}\n            name=\"bell\"\n            onClick={handleClickActivity}\n          />\n        </Menu.Item>\n      }\n    />\n  )\n}\n\nexport default React.memo(Navbar)\n","import { connect } from 'react-redux'\nimport { push, getLocation } from 'connected-react-router'\nimport { isPending } from 'decentraland-dapps/dist/modules/transaction/utils'\n\nimport { RootState } from '../../modules/reducer'\nimport { getTransactions } from '../../modules/transaction/selectors'\nimport { isConnected } from '../../modules/wallet/selectors'\nimport { MapStateProps, MapDispatch, MapDispatchProps } from './Navbar.types'\nimport Navbar from './Navbar'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  isConnected: isConnected(state),\n  pathname: getLocation(state).pathname,\n  hasPendingTransactions: getTransactions(state).some(tx =>\n    isPending(tx.status)\n  )\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(Navbar)\n","import React from 'react'\nimport { FooterProps } from 'decentraland-ui'\nimport { Footer as BaseFooter } from 'decentraland-dapps/dist/containers'\nimport * as tranlsations from '../../modules/translation/locales'\n\nconst locales = Object.keys(tranlsations)\n\nconst Footer = (props: FooterProps) => (\n  <BaseFooter locales={locales} {...props} />\n)\n\nexport default React.memo(Footer)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Tabs, Responsive } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { locations } from '../../modules/routing/locations'\nimport { Props, NavigationTab } from './Navigation.types'\n\nconst Navigation = (props: Props) => {\n  const { activeTab, isFullscreen } = props\n  return (\n    <Tabs isFullscreen={isFullscreen}>\n      <Tabs.Left>\n        <Link to={locations.browse()}>\n          <Tabs.Tab active={activeTab === NavigationTab.BROWSE}>\n            {t('navigation.decentraland')}\n          </Tabs.Tab>\n        </Link>\n        <Link to={locations.partners()}>\n          <Tabs.Tab\n            active={\n              activeTab === NavigationTab.PARTNERS ||\n              activeTab === NavigationTab.PARTNER\n            }\n          >\n            {t('navigation.partners')}\n          </Tabs.Tab>\n        </Link>\n        <Link to={locations.currentAccount()}>\n          <Tabs.Tab active={activeTab === NavigationTab.MY_ASSETS}>\n            {t('navigation.my_assets')}\n          </Tabs.Tab>\n        </Link>\n        <Link to={locations.bids()}>\n          <Tabs.Tab active={activeTab === NavigationTab.MY_BIDS}>\n            {t('navigation.my_bids')}\n          </Tabs.Tab>\n        </Link>\n        <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n          <Link to={locations.activity()}>\n            <Tabs.Tab active={activeTab === NavigationTab.ACTIVITY}>\n              {t('navigation.activity')}\n            </Tabs.Tab>\n          </Link>\n        </Responsive>\n      </Tabs.Left>\n    </Tabs>\n  )\n}\n\nexport default React.memo(Navigation)\n","import { createSelector } from 'reselect'\nimport { TileState } from './reducer'\nimport { RootState } from '../reducer'\nimport { Tile } from '../../components/Atlas/Atlas.types'\n\nexport const getState = (state: RootState) => state.tile\nexport const getTiles = (state: RootState) => getState(state).data\nexport const getLoading = (state: RootState) => getState(state).loading\nexport const getError = (state: RootState) => getState(state).error\n\nexport const getTilesByEstateId = createSelector<\n  RootState,\n  TileState['data'],\n  Record<string, Tile[]>\n>(getTiles, tiles => {\n  const tilesByEstateId: Record<string, Tile[]> = {}\n  for (const tile of Object.values(tiles) as Tile[]) {\n    if (tile.estate_id) {\n      if (!tilesByEstateId[tile.estate_id]) {\n        tilesByEstateId[tile.estate_id] = []\n      }\n      tilesByEstateId[tile.estate_id].push(tile)\n    }\n  }\n  return tilesByEstateId\n})\n","import Popup from './Popup'\nexport default Popup\n","import * as React from 'react'\nimport { Address } from 'web3x-es/address'\nimport { Badge, Row, Section, Header, Mana } from 'decentraland-ui'\nimport { Profile } from 'decentraland-dapps/dist/containers'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Props } from './Popup.types'\nimport './Popup.css'\n\nexport default class Popup extends React.PureComponent<Props> {\n  render() {\n    const { x, y, visible, tile, position } = this.props\n    const id = `${tile.x},${tile.y}`\n    const isEstate = !!tile.estate_id\n    return (\n      <div\n        className={`AtlasPopup ${position} ${\n          tile.owner ? 'has-owner' : 'no-owner'\n        }`}\n        style={{ top: y, left: x, opacity: visible ? 1 : 0 }}\n      >\n        <Section className=\"land-name\">\n          <Row className=\"name-row\">\n            <span className=\"name\">\n              {tile.name ||\n                (!isEstate ? t('global.parcel') : t('global.estate'))}\n            </span>\n            <Badge color=\"#37333D\">\n              <i className=\"pin\" />\n              {id}\n            </Badge>\n          </Row>\n        </Section>\n\n        <Section className=\"owner\">\n          <Header sub>{t('nft_page.owner')}</Header>\n          <Profile\n            address={tile.owner || Address.ZERO.toString()}\n            debounce={500}\n          />\n        </Section>\n\n        {tile.price ? (\n          <Section className=\"price\">\n            <Header sub>{t('nft_page.price')}</Header>\n            <Mana>{tile.price.toLocaleString()}</Mana>\n          </Section>\n        ) : null}\n      </div>\n    )\n  }\n}\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Atlas as AtlasComponent, Color, Layer } from 'decentraland-ui'\nimport { locations } from '../../modules/routing/locations'\nimport { contractAddresses } from '../../modules/contract/utils'\nimport { nftAPI } from '../../modules/vendor/decentraland/nft/api'\nimport { Props, Tile } from './Atlas.types'\nimport { Vendors } from '../../modules/vendor'\nimport { NFT, NFTCategory } from '../../modules/nft/types'\nimport Popup from './Popup'\nimport './Atlas.css'\n\nconst getCoords = (x: number | string, y: number | string) => `${x},${y}`\n\nconst Atlas: React.FC<Props> = (props: Props) => {\n  const {\n    tiles,\n    onNavigate,\n    isEstate,\n    withNavigation,\n    nfts,\n    withPopup,\n    showOnSale,\n    tilesByEstateId\n  } = props\n\n  const [showPopup, setShowPopup] = useState(false)\n  const [hoveredTile, setHoveredTile] = useState<Tile | null>(null)\n  const [mouseX, setMouseX] = useState(-1)\n  const [mouseY, setMouseY] = useState(-1)\n  const [x, setX] = useState(0)\n  const [y, setY] = useState(0)\n  const timeout = useRef<NodeJS.Timer | null>(null)\n\n  const selection = useMemo(\n    () =>\n      (props.selection || []).reduce(\n        (set, pair) => set.add(getCoords(pair.x, pair.y)),\n        new Set<string>()\n      ),\n    [props.selection]\n  )\n\n  const userTiles = useMemo(\n    () =>\n      nfts.reduce((lands, nft) => {\n        if (nft.vendor === Vendors.DECENTRALAND) {\n          switch (nft.category) {\n            case NFTCategory.PARCEL: {\n              const parcel = (nft as NFT<Vendors.DECENTRALAND>).data.parcel!\n              lands.set(getCoords(parcel.x, parcel.y), {\n                color: Color.SUMMER_RED\n              })\n              break\n            }\n            case NFTCategory.ESTATE: {\n              const estateId = nft.tokenId\n              if (estateId in tilesByEstateId) {\n                for (const tile of tilesByEstateId[estateId]) {\n                  lands.set(getCoords(tile.x, tile.y), {\n                    color: Color.SUMMER_RED,\n                    top: !!tile.top,\n                    left: !!tile.left,\n                    topLeft: !!tile.topLeft\n                  })\n                }\n              }\n            }\n          }\n        }\n        return lands\n      }, new Map<string, ReturnType<Layer>>()),\n    [nfts, tilesByEstateId]\n  )\n\n  const isSelected = useCallback(\n    (x: number, y: number) => {\n      if (selection.has(getCoords(x, y))) return true\n      // This is a workaround to paint the large estates, because GraphQL can return only up to 1000 results\n      // and some Estates have more parcels than thats\n      if (!tiles) return false\n      const id = selection.values().next().value as string\n      const center = tiles[id] as Tile\n      const tile = tiles[getCoords(x, y)] as Tile\n      if (\n        center &&\n        tile &&\n        center.estate_id &&\n        tile.estate_id &&\n        center.estate_id === tile.estate_id &&\n        isEstate\n      ) {\n        return true\n      }\n      return false\n    },\n    [selection, tiles, isEstate]\n  )\n\n  const forSaleLayer: Layer = useCallback(\n    (x, y) => {\n      const key = getCoords(x, y)\n      const tile = tiles[key]\n      if (tile && 'price' in tile) {\n        const { left, top, topLeft } = tile\n        return { color: '#00d3ff', left, top, topLeft }\n      }\n      return null\n    },\n    [tiles]\n  )\n\n  const selectedStrokeLayer: Layer = useCallback(\n    (x, y) => {\n      return isSelected(x, y) ? { color: '#ff0044', scale: 1.4 } : null\n    },\n    [isSelected]\n  )\n\n  const selectedFillLayer: Layer = useCallback(\n    (x, y) => {\n      return isSelected(x, y) ? { color: '#ff9990', scale: 1.2 } : null\n    },\n    [isSelected]\n  )\n\n  const userLayer: Layer = useCallback(\n    (x, y) => userTiles.get(getCoords(x, y)) || null,\n    [userTiles]\n  )\n\n  const handleClick = useCallback(\n    async (x: number, y: number) => {\n      if (!withNavigation) {\n        return\n      }\n      const tile = tiles[getCoords(x, y)] as Tile\n      if (!tile) {\n        return\n      }\n      if (tile.estate_id) {\n        onNavigate(\n          locations.nft(contractAddresses.EstateRegistry, tile.estate_id)\n        )\n      } else {\n        try {\n          const tokenId = await nftAPI.fetchTokenId(tile.x, tile.y)\n          onNavigate(locations.nft(contractAddresses.LANDRegistry, tokenId))\n        } catch (error) {\n          console.warn(\n            `Couldn't fetch parcel ${tile.x},${tile.y}: ${error.message}`\n          )\n        }\n      }\n    },\n    [withNavigation, onNavigate, tiles]\n  )\n\n  const handleHover = useCallback(\n    (x: number, y: number) => {\n      if (!withPopup) return\n      if (selection.has(getCoords(x, y))) {\n        setShowPopup(false)\n        return\n      }\n      const id = getCoords(x, y)\n      const tile = tiles[id]\n      if (tile && !showPopup) {\n        setShowPopup(true)\n        setHoveredTile(tile)\n        setMouseX(-1)\n        setMouseY(-1)\n      } else if (tile && tile !== hoveredTile) {\n        setHoveredTile(tile)\n        setMouseX(-1)\n        setMouseY(-1)\n      } else if (!tile && showPopup) {\n        setShowPopup(false)\n      }\n    },\n    [hoveredTile, showPopup, tiles, withPopup, selection]\n  )\n\n  const handleHidePopup = useCallback(() => {\n    setShowPopup(false)\n    setMouseX(-1)\n    setMouseY(-1)\n  }, [])\n\n  // fade effect\n  useEffect(() => {\n    if (!showPopup) {\n      timeout.current = setTimeout(() => setHoveredTile(null), 250)\n    } else if (timeout.current) {\n      clearTimeout(timeout.current)\n      timeout.current = null\n    }\n  }, [showPopup])\n\n  // mouse move\n  useEffect(() => {\n    function handleMouseMove(event: MouseEvent) {\n      if (showPopup && mouseX === -1 && mouseY === -1) {\n        setMouseX(event.offsetX)\n        setMouseY(event.offsetY)\n        setX(event.offsetX)\n        setY(event.offsetY)\n      }\n    }\n    if (withPopup) {\n      document.addEventListener('mousemove', handleMouseMove)\n    }\n    return () => {\n      if (withPopup) {\n        document.removeEventListener('mousemove', handleMouseMove)\n      }\n    }\n  }, [withPopup, showPopup, mouseX, mouseY])\n\n  // layers\n  const layers = [\n    userLayer,\n    ...(props.layers || []),\n    selectedStrokeLayer,\n    selectedFillLayer\n  ]\n\n  if (showOnSale) {\n    layers.unshift(forSaleLayer)\n  }\n\n  return (\n    <div className=\"atlas-wrapper\" onMouseLeave={handleHidePopup}>\n      <AtlasComponent\n        {...props}\n        tiles={tiles}\n        onClick={handleClick}\n        onHover={handleHover}\n        layers={layers}\n      />\n      {hoveredTile ? (\n        <Popup\n          x={x}\n          y={y}\n          visible={showPopup}\n          tile={hoveredTile}\n          position={x > window.innerWidth - 280 ? 'left' : 'right'}\n        />\n      ) : null}\n    </div>\n  )\n}\n\nAtlas.defaultProps = {\n  showOnSale: true\n}\n\nexport default Atlas\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { getTiles, getTilesByEstateId } from '../../modules/tile/selectors'\nimport { RootState } from '../../modules/reducer'\nimport { getWalletNFTs } from '../../modules/nft/selectors'\nimport { MapStateProps, MapDispatch, MapDispatchProps } from './Atlas.types'\nimport Atlas from './Atlas'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  tiles: getTiles(state),\n  nfts: getWalletNFTs(state),\n  tilesByEstateId: getTilesByEstateId(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(Atlas)\n","import React from 'react'\n\nimport { Props } from './Menu.types'\nimport './Menu.css'\n\nconst Menu = (props: Props) => {\n  const { className = '', children } = props\n\n  return <ul className={`Menu ${className}`}>{children}</ul>\n}\n\nexport default React.memo(Menu)\n","import React, { useCallback } from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Image } from 'decentraland-ui'\n\nimport { Props } from './MenuItem.types'\nimport './MenuItem.css'\n\nconst MenuItem = <T extends unknown>(props: Props<T>) => {\n  const {\n    className = '',\n    value,\n    currentValue,\n    subtitle,\n    image,\n    isSub,\n    withCaret,\n    onClick\n  } = props\n\n  const classNames: string[] = ['MenuItem', className]\n\n  if (currentValue === value) {\n    classNames.push('active')\n  }\n  if (isSub) {\n    classNames.push('sub')\n  }\n\n  const handleOnClick = useCallback(() => {\n    onClick(value)\n  }, [value, onClick])\n\n  return (\n    <li className={classNames.join(' ')} onClick={handleOnClick}>\n      {image && <Image alt={image} src={image} width=\"25\" circular />}\n\n      <div className=\"content\">\n        {t(`menu.${value}`)}\n        {subtitle ? <div className=\"subtitle\">{subtitle}</div> : null}\n      </div>\n      {withCaret ? <i className=\"dropdown icon\" /> : null}\n    </li>\n  )\n}\n\nexport default React.memo(MenuItem) as typeof MenuItem\n","import React from 'react'\n\nimport { Section } from '../../../../modules/vendor/known_origin/routing/types'\nimport { Menu } from '../../../Menu'\nimport { MenuItem } from '../../../Menu/MenuItem'\nimport { Props } from './NFTSections.types'\n\nconst NFTSections = (props: Props) => {\n  const { section, address, onSectionClick } = props\n\n  const isAccountPage = address !== undefined\n  const currentValue =\n    section === Section.ALL && isAccountPage ? Section.EDITIONS : section\n\n  return (\n    <Menu className=\"NFTSections\">\n      {isAccountPage ? (\n        <>\n          <MenuItem\n            value={Section.EDITIONS}\n            currentValue={currentValue}\n            onClick={onSectionClick}\n          />\n          <MenuItem\n            value={Section.TOKENS}\n            currentValue={currentValue}\n            onClick={onSectionClick}\n          />\n        </>\n      ) : (\n        <MenuItem\n          value={Section.ALL}\n          currentValue={currentValue}\n          onClick={onSectionClick}\n        />\n      )}\n    </Menu>\n  )\n}\n\nexport default React.memo(NFTSections)\n","import React from 'react'\n\nimport { MenuItem } from '../../Menu/MenuItem'\nimport { Props } from './DropdownMenu.types'\n\nconst DropdownMenu = <T extends unknown>(props: Props<T>) => {\n  const { values, currentValue, onMenuItemClick } = props\n\n  return (\n    <>\n      <MenuItem\n        value={values[0]}\n        currentValue={currentValue}\n        onClick={onMenuItemClick}\n        isSub={true}\n        withCaret={true}\n      />\n      <ul className=\"submenu\">\n        {values.includes(currentValue!)\n          ? values\n              .slice(1)\n              .map((value, index) => (\n                <MenuItem<T>\n                  key={index}\n                  value={value}\n                  currentValue={currentValue}\n                  onClick={onMenuItemClick}\n                  isSub={true}\n                />\n              ))\n          : null}\n      </ul>\n    </>\n  )\n}\n\nexport default React.memo(DropdownMenu) as typeof DropdownMenu\n","import React from 'react'\n\nimport { Section } from '../../../../modules/vendor/decentraland/routing/types'\nimport { Menu } from '../../../Menu'\nimport { DropdownMenu } from '../../../Menu/DropdownMenu'\nimport { MenuItem } from '../../../Menu/MenuItem'\nimport { Props } from './NFTSections.types'\n\nconst NFTSections = (props: Props) => {\n  const { section, onSectionClick } = props\n\n  return (\n    <Menu className=\"NFTSections\">\n      {[Section.ALL, Section.LAND].map(menuSection => (\n        <MenuItem\n          key={menuSection}\n          value={menuSection}\n          currentValue={section}\n          onClick={onSectionClick}\n        />\n      ))}\n\n      {[Section.LAND, Section.PARCELS, Section.ESTATES].includes(section!)\n        ? [Section.PARCELS, Section.ESTATES].map(menuSection => (\n            <MenuItem\n              key={menuSection}\n              value={menuSection}\n              currentValue={section}\n              onClick={onSectionClick}\n              isSub\n            />\n          ))\n        : null}\n\n      <MenuItem\n        value={Section.WEARABLES}\n        currentValue={section}\n        onClick={onSectionClick}\n      />\n      {[\n        Section.WEARABLES,\n        Section.WEARABLES_HEAD,\n        Section.WEARABLES_FACIAL_HAIR,\n        Section.WEARABLES_HAIR,\n        Section.WEARABLES_UPPER_BODY,\n        Section.WEARABLES_LOWER_BODY,\n        Section.WEARABLES_FEET,\n        Section.WEARABLES_ACCESORIES,\n        Section.WEARABLES_EARRING,\n        Section.WEARABLES_EYEWEAR,\n        Section.WEARABLES_HAT,\n        Section.WEARABLES_HELMET,\n        Section.WEARABLES_MASK,\n        Section.WEARABLES_TIARA,\n        Section.WEARABLES_TOP_HEAD\n      ].includes(section!) ? (\n        <>\n          <DropdownMenu\n            values={[\n              Section.WEARABLES_HEAD,\n              Section.WEARABLES_FACIAL_HAIR,\n              Section.WEARABLES_HAIR\n            ]}\n            currentValue={section}\n            onMenuItemClick={onSectionClick}\n          />\n\n          {[\n            Section.WEARABLES_UPPER_BODY,\n            Section.WEARABLES_LOWER_BODY,\n            Section.WEARABLES_FEET\n          ].map(menuSection => (\n            <MenuItem\n              key={menuSection}\n              value={menuSection}\n              currentValue={section}\n              onClick={onSectionClick}\n              isSub\n            />\n          ))}\n\n          <DropdownMenu\n            values={[\n              Section.WEARABLES_ACCESORIES,\n              Section.WEARABLES_EARRING,\n              Section.WEARABLES_EYEWEAR,\n              Section.WEARABLES_HAT,\n              Section.WEARABLES_HELMET,\n              Section.WEARABLES_MASK,\n              Section.WEARABLES_TIARA,\n              Section.WEARABLES_TOP_HEAD\n            ]}\n            currentValue={section}\n            onMenuItemClick={onSectionClick}\n          />\n        </>\n      ) : null}\n\n      <MenuItem\n        value={Section.ENS}\n        currentValue={section}\n        onClick={onSectionClick}\n      />\n    </Menu>\n  )\n}\n\nexport default React.memo(NFTSections)\n","import React from 'react'\n\nimport { Vendors } from '../../../modules/vendor/types'\nimport { Section } from '../../../modules/vendor/routing/types'\nimport { Section as KnownOriginSection } from '../../../modules/vendor/known_origin/routing/types'\nimport { Section as DecentralandSection } from '../../../modules/vendor/decentraland/routing/types'\nimport { NFTSections as KnownOriginNFTSections } from '../known_origin/NFTSections'\nimport { NFTSections as DecentralandNFTSections } from '../decentraland/NFTSections'\nimport { Menu } from '../../Menu'\nimport { MenuItem } from '../../Menu/MenuItem'\n\nimport { Props } from './NFTSections.types'\n\nconst NFTSections = (props: Props) => {\n  const { vendor, address, section, onSectionClick } = props\n\n  // TODO: This should be on a generic path like PartnerSidebar\n  switch (vendor) {\n    case Vendors.SUPER_RARE:\n    case Vendors.MAKERS_PLACE:\n      const all = Section[vendor].ALL\n      return (\n        <Menu className=\"NFTSections\">\n          <MenuItem\n            value={all}\n            currentValue={section}\n            onClick={onSectionClick}\n          />\n        </Menu>\n      )\n    case Vendors.KNOWN_ORIGIN:\n      return (\n        <KnownOriginNFTSections\n          section={section as KnownOriginSection}\n          address={address}\n          onSectionClick={onSectionClick}\n        />\n      )\n    case Vendors.DECENTRALAND:\n    default:\n      return (\n        <DecentralandNFTSections\n          section={section as DecentralandSection}\n          onSectionClick={onSectionClick}\n        />\n      )\n  }\n}\n\nexport default React.memo(NFTSections)\n","import React, { useCallback, useState, useMemo, useEffect } from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { getMaxQuerySize } from '../../../modules/vendor/api'\nimport { VendorFactory } from '../../../modules/vendor/VendorFactory'\nimport { Menu } from '../../Menu'\nimport { MenuItem } from '../../Menu/MenuItem'\nimport { NFTSections } from '../NFTSections'\nimport { Props } from './VendorMenu.types'\nimport './VendorMenu.css'\n\nconst VendorMenu = (props: Props) => {\n  const { count, currentVendor, address, vendor, section, onClick } = props\n\n  const [isCurrentVendor, setIsCurrentVendor] = useState(\n    currentVendor === vendor\n  )\n  const [isOpen, setIsOpen] = useState(isCurrentVendor)\n  const [currentCount, setCurrentCount] = useState(count)\n\n  const isDisabled = !currentCount && !isOpen\n\n  const handleToggleOpen = useCallback(() => {\n    if (!isDisabled) {\n      setIsOpen(!isOpen)\n    }\n  }, [isDisabled, isOpen, setIsOpen])\n\n  useEffect(() => {\n    const isCurrentVendor = currentVendor === vendor\n    setIsCurrentVendor(isCurrentVendor)\n    setIsOpen(isCurrentVendor)\n  }, [currentVendor, vendor])\n\n  // TODO: Move this to redux and the UI reducer. We should also split it into multiple reducers\n  // TODO: Add catch\n  useMemo(async () => {\n    if (isCurrentVendor) {\n      setCurrentCount(count)\n    } else {\n      const { nftService } = VendorFactory.build(vendor)\n      const newCount = await nftService.count({ address })\n      setCurrentCount(newCount)\n    }\n  }, [isCurrentVendor, vendor, count, address, setCurrentCount])\n\n  const subtitle =\n    currentCount === undefined\n      ? '...'\n      : currentCount === 0\n      ? t('vendor_menu.no_assets')\n      : currentCount < getMaxQuerySize(vendor)\n      ? t('vendor_menu.assets_count', {\n          count: currentCount.toLocaleString()\n        })\n      : t('vendor_menu.more_than_assets_count', {\n          count: currentCount.toLocaleString()\n        })\n\n  const className = ['VendorMenu']\n  if (isCurrentVendor) {\n    className.push('active')\n  }\n  if (isDisabled) {\n    className.push('disabled')\n  }\n\n  return (\n    <div className={className.join(' ')}>\n      <Menu>\n        <MenuItem\n          className=\"vendor-menu-item\"\n          value={vendor}\n          subtitle={subtitle}\n          image={`/${vendor}.png`}\n          onClick={handleToggleOpen}\n        />\n        {isOpen ? (\n          <NFTSections\n            vendor={vendor}\n            address={address}\n            section={isCurrentVendor ? section : undefined}\n            onSectionClick={onClick}\n          />\n        ) : null}\n      </Menu>\n    </div>\n  )\n}\n\nexport default React.memo(VendorMenu)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../modules/reducer'\nimport { getVendor } from '../../../modules/routing/selectors'\nimport { getCount } from '../../../modules/ui/nft/browse/selectors'\nimport { MapStateProps } from './VendorMenu.types'\nimport VendorMenu from './VendorMenu'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  count: getCount(state),\n  currentVendor: getVendor(state)\n})\n\nconst mapDispatch = () => ({})\n\nexport default connect(mapState, mapDispatch)(VendorMenu)\n","import React, { useCallback } from 'react'\n\nimport { Vendors } from '../../modules/vendor/types'\nimport { Section } from '../../modules/routing/types'\nimport { getPartners } from '../../modules/vendor/utils'\nimport { VendorMenu } from '../Vendor/VendorMenu'\nimport { Props } from './AccountSidebar.types'\n\nconst AccountSidebar = (props: Props) => {\n  const { address, section, onBrowse } = props\n\n  const handleOnBrowse = useCallback(\n    (vendor: Vendors, section: Section) => {\n      onBrowse({ vendor, section, address })\n    },\n    [address, onBrowse]\n  )\n\n  const decentraland = Vendors.DECENTRALAND\n\n  return (\n    <div className=\"NFTSidebar\">\n      <VendorMenu\n        key={decentraland}\n        address={address}\n        vendor={decentraland}\n        section={section}\n        onClick={section => handleOnBrowse(decentraland, section)}\n      />\n      {getPartners().map(partner => (\n        <VendorMenu\n          key={partner}\n          address={address}\n          vendor={partner}\n          section={section}\n          onClick={section => handleOnBrowse(partner, section)}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default React.memo(AccountSidebar)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../modules/reducer'\nimport { browse } from '../../modules/routing/actions'\nimport { getSection } from '../../modules/routing/selectors'\nimport {\n  MapDispatch,\n  MapDispatchProps,\n  MapStateProps\n} from './AccountSidebar.types'\nimport AccountSidebar from './AccountSidebar'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  section: getSection(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onBrowse: options => dispatch(browse(options))\n})\n\nexport default connect(mapState, mapDispatch)(AccountSidebar)\n","import { RootState } from '../reducer'\nimport { createSelector } from 'reselect'\nimport { getCurrentNFT } from '../nft/selectors'\nimport { NFT } from '../nft/types'\nimport { Order } from './types'\nimport { OrderState } from './reducer'\nimport { getActiveOrder } from './utils'\n\nexport const getState = (state: RootState) => state.order\nexport const getData = (state: RootState) => getState(state).data\nexport const getLoading = (state: RootState) => getState(state).loading\nexport const getError = (state: RootState) => getState(state).error\nexport const getCurrentOrder = createSelector<\n  RootState,\n  NFT | null,\n  OrderState['data'],\n  Order | null\n>(\n  state => getCurrentNFT(state),\n  state => getData(state),\n  (nft, orders) => getActiveOrder(nft, orders)\n)\n","import { getCurrentLocale } from 'decentraland-dapps/dist/modules/translation/utils'\nimport formatDistanceToNowI18N from 'date-fns/formatDistanceToNow'\nimport en from 'date-fns/locale/en-US'\nimport es from 'date-fns/locale/es'\nimport zh from 'date-fns/locale/zh-CN'\n\nconst locales: Record<string, Locale> = {\n  en,\n  es,\n  zh\n}\n\nexport function formatDistanceToNow(\n  date: number | Date,\n  options: {\n    includeSeconds?: boolean\n    addSuffix?: boolean\n    locale?: Locale\n  } = {}\n) {\n  const locale = locales[getCurrentLocale().locale]\n\n  if (locale) {\n    options.locale = locale\n  }\n\n  return formatDistanceToNowI18N(date, options)\n}\n","import { ContractAbi} from 'web3x-es/contract';\nexport default new ContractAbi([\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_interfaceId\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"name\": \"supportsInterface\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_name\",\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"_symbol\",\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"_registry\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"initialize\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"updateManager\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getApproved\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"landIdEstate\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_data\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"onERC721Received\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getFingerprint\",\n    \"outputs\": [\n      {\n        \"name\": \"result\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"landId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"operator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setLandUpdateOperator\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"landId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"data\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"updateLandData\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"tokenOfOwnerByIndex\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"estateLandIds\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_landIds\",\n        \"type\": \"uint256[]\"\n      },\n      {\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setManyLandUpdateOperator\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"landIds\",\n        \"type\": \"uint256[]\"\n      },\n      {\n        \"name\": \"destinatary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferManyLands\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"landIds\",\n        \"type\": \"uint256[]\"\n      },\n      {\n        \"name\": \"data\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"updateManyLandData\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"safeTransferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_name\",\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"_symbol\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"initialize\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"exists\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"tokenByIndex\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_registry\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setLANDRegistry\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"metadata\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"updateMetadata\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"ping\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ownerOf\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"operator\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"isUpdateAuthorized\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_estateIds\",\n        \"type\": \"uint256[]\"\n      },\n      {\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setManyUpdateOperator\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"estateIds\",\n        \"type\": \"uint256[]\"\n      }\n    ],\n    \"name\": \"safeTransferManyFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"registry\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"initialize\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"fingerprint\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"verifyFingerprint\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"updateOperator\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"estateLandIndex\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_approved\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"setApprovalForAll\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"landId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"destinatary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferLand\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getMetadata\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"operator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setUpdateOperator\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_data\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"safeTransferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"landId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getLandEstateId\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"contractName\",\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"migrationId\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"isMigrated\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_sender\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"initialize\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"tokenURI\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"metadata\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"mint\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"estateIds\",\n        \"type\": \"uint256[]\"\n      },\n      {\n        \"name\": \"data\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"safeTransferManyFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"isApprovedForAll\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_approved\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"setUpdateManager\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"estateId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getEstateSize\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_approved\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_approved\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"ApprovalForAll\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_data\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"CreateEstate\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_landId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"AddLand\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_landId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_destinatary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"RemoveLand\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_holder\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_data\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"Update\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_estateId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"UpdateOperator\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_caller\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_approved\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"UpdateManager\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"_registry\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"SetLANDRegistry\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"contractName\",\n        \"type\": \"string\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"migrationId\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"Migrated\",\n    \"type\": \"event\"\n  }\n]);","import BN from \"bn.js\";\nimport { Address } from \"web3x-es/address\";\nimport { EventLog, TransactionReceipt } from \"web3x-es/formatters\";\nimport { Contract, ContractOptions, TxCall, TxSend, EventSubscriptionFactory } from \"web3x-es/contract\";\nimport { Eth } from \"web3x-es/eth\";\nimport abi from \"./EstateRegistryAbi\";\nexport type OwnershipTransferredEvent = {\n    previousOwner: Address;\n    newOwner: Address;\n};\nexport type TransferEvent = {\n    _from: Address;\n    _to: Address;\n    _tokenId: string;\n};\nexport type ApprovalEvent = {\n    _owner: Address;\n    _approved: Address;\n    _tokenId: string;\n};\nexport type ApprovalForAllEvent = {\n    _owner: Address;\n    _operator: Address;\n    _approved: boolean;\n};\nexport type CreateEstateEvent = {\n    _owner: Address;\n    _estateId: string;\n    _data: string;\n};\nexport type AddLandEvent = {\n    _estateId: string;\n    _landId: string;\n};\nexport type RemoveLandEvent = {\n    _estateId: string;\n    _landId: string;\n    _destinatary: Address;\n};\nexport type UpdateEvent = {\n    _assetId: string;\n    _holder: Address;\n    _operator: Address;\n    _data: string;\n};\nexport type UpdateOperatorEvent = {\n    _estateId: string;\n    _operator: Address;\n};\nexport type UpdateManagerEvent = {\n    _owner: Address;\n    _operator: Address;\n    _caller: Address;\n    _approved: boolean;\n};\nexport type SetLANDRegistryEvent = {\n    _registry: Address;\n};\nexport type MigratedEvent = {\n    contractName: string;\n    migrationId: string;\n};\nexport interface OwnershipTransferredEventLog extends EventLog<OwnershipTransferredEvent, \"OwnershipTransferred\"> {\n}\nexport interface TransferEventLog extends EventLog<TransferEvent, \"Transfer\"> {\n}\nexport interface ApprovalEventLog extends EventLog<ApprovalEvent, \"Approval\"> {\n}\nexport interface ApprovalForAllEventLog extends EventLog<ApprovalForAllEvent, \"ApprovalForAll\"> {\n}\nexport interface CreateEstateEventLog extends EventLog<CreateEstateEvent, \"CreateEstate\"> {\n}\nexport interface AddLandEventLog extends EventLog<AddLandEvent, \"AddLand\"> {\n}\nexport interface RemoveLandEventLog extends EventLog<RemoveLandEvent, \"RemoveLand\"> {\n}\nexport interface UpdateEventLog extends EventLog<UpdateEvent, \"Update\"> {\n}\nexport interface UpdateOperatorEventLog extends EventLog<UpdateOperatorEvent, \"UpdateOperator\"> {\n}\nexport interface UpdateManagerEventLog extends EventLog<UpdateManagerEvent, \"UpdateManager\"> {\n}\nexport interface SetLANDRegistryEventLog extends EventLog<SetLANDRegistryEvent, \"SetLANDRegistry\"> {\n}\nexport interface MigratedEventLog extends EventLog<MigratedEvent, \"Migrated\"> {\n}\ninterface EstateRegistryEvents {\n    OwnershipTransferred: EventSubscriptionFactory<OwnershipTransferredEventLog>;\n    Transfer: EventSubscriptionFactory<TransferEventLog>;\n    Approval: EventSubscriptionFactory<ApprovalEventLog>;\n    ApprovalForAll: EventSubscriptionFactory<ApprovalForAllEventLog>;\n    CreateEstate: EventSubscriptionFactory<CreateEstateEventLog>;\n    AddLand: EventSubscriptionFactory<AddLandEventLog>;\n    RemoveLand: EventSubscriptionFactory<RemoveLandEventLog>;\n    Update: EventSubscriptionFactory<UpdateEventLog>;\n    UpdateOperator: EventSubscriptionFactory<UpdateOperatorEventLog>;\n    UpdateManager: EventSubscriptionFactory<UpdateManagerEventLog>;\n    SetLANDRegistry: EventSubscriptionFactory<SetLANDRegistryEventLog>;\n    Migrated: EventSubscriptionFactory<MigratedEventLog>;\n}\ninterface EstateRegistryEventLogs {\n    OwnershipTransferred: OwnershipTransferredEventLog;\n    Transfer: TransferEventLog;\n    Approval: ApprovalEventLog;\n    ApprovalForAll: ApprovalForAllEventLog;\n    CreateEstate: CreateEstateEventLog;\n    AddLand: AddLandEventLog;\n    RemoveLand: RemoveLandEventLog;\n    Update: UpdateEventLog;\n    UpdateOperator: UpdateOperatorEventLog;\n    UpdateManager: UpdateManagerEventLog;\n    SetLANDRegistry: SetLANDRegistryEventLog;\n    Migrated: MigratedEventLog;\n}\ninterface EstateRegistryTxEventLogs {\n    OwnershipTransferred: OwnershipTransferredEventLog[];\n    Transfer: TransferEventLog[];\n    Approval: ApprovalEventLog[];\n    ApprovalForAll: ApprovalForAllEventLog[];\n    CreateEstate: CreateEstateEventLog[];\n    AddLand: AddLandEventLog[];\n    RemoveLand: RemoveLandEventLog[];\n    Update: UpdateEventLog[];\n    UpdateOperator: UpdateOperatorEventLog[];\n    UpdateManager: UpdateManagerEventLog[];\n    SetLANDRegistry: SetLANDRegistryEventLog[];\n    Migrated: MigratedEventLog[];\n}\nexport interface EstateRegistryTransactionReceipt extends TransactionReceipt<EstateRegistryTxEventLogs> {\n}\ninterface EstateRegistryMethods {\n    supportsInterface(_interfaceId: string): TxCall<boolean>;\n    name(): TxCall<string>;\n    initialize(_name: string, _symbol: string, _registry: Address): TxSend<EstateRegistryTransactionReceipt>;\n    updateManager(a0: Address, a1: Address): TxCall<boolean>;\n    getApproved(_tokenId: number | string | BN): TxCall<Address>;\n    approve(_to: Address, _tokenId: number | string | BN): TxSend<EstateRegistryTransactionReceipt>;\n    landIdEstate(a0: number | string | BN): TxCall<string>;\n    onERC721Received(_operator: Address, _from: Address, _tokenId: number | string | BN, _data: string): TxSend<EstateRegistryTransactionReceipt>;\n    getFingerprint(estateId: number | string | BN): TxCall<string>;\n    totalSupply(): TxCall<string>;\n    setLandUpdateOperator(estateId: number | string | BN, landId: number | string | BN, operator: Address): TxSend<EstateRegistryTransactionReceipt>;\n    transferFrom(_from: Address, _to: Address, _tokenId: number | string | BN): TxSend<EstateRegistryTransactionReceipt>;\n    updateLandData(estateId: number | string | BN, landId: number | string | BN, data: string): TxSend<EstateRegistryTransactionReceipt>;\n    tokenOfOwnerByIndex(_owner: Address, _index: number | string | BN): TxCall<string>;\n    estateLandIds(a0: number | string | BN, a1: number | string | BN): TxCall<string>;\n    setManyLandUpdateOperator(_estateId: number | string | BN, _landIds: (number | string | BN)[], _operator: Address): TxSend<EstateRegistryTransactionReceipt>;\n    transferManyLands(estateId: number | string | BN, landIds: (number | string | BN)[], destinatary: Address): TxSend<EstateRegistryTransactionReceipt>;\n    updateManyLandData(estateId: number | string | BN, landIds: (number | string | BN)[], data: string): TxSend<EstateRegistryTransactionReceipt>;\n    safeTransferFrom(_from: Address, _to: Address, _tokenId: number | string | BN): TxSend<EstateRegistryTransactionReceipt>;\n    initialize(_name: string, _symbol: string): TxSend<EstateRegistryTransactionReceipt>;\n    exists(_tokenId: number | string | BN): TxCall<boolean>;\n    tokenByIndex(_index: number | string | BN): TxCall<string>;\n    setLANDRegistry(_registry: Address): TxSend<EstateRegistryTransactionReceipt>;\n    updateMetadata(estateId: number | string | BN, metadata: string): TxSend<EstateRegistryTransactionReceipt>;\n    ping(): TxSend<EstateRegistryTransactionReceipt>;\n    ownerOf(_tokenId: number | string | BN): TxCall<Address>;\n    isUpdateAuthorized(operator: Address, estateId: number | string | BN): TxCall<boolean>;\n    balanceOf(_owner: Address): TxCall<string>;\n    setManyUpdateOperator(_estateIds: (number | string | BN)[], _operator: Address): TxSend<EstateRegistryTransactionReceipt>;\n    safeTransferManyFrom(from: Address, to: Address, estateIds: (number | string | BN)[]): TxSend<EstateRegistryTransactionReceipt>;\n    registry(): TxCall<Address>;\n    initialize(): TxSend<EstateRegistryTransactionReceipt>;\n    owner(): TxCall<Address>;\n    verifyFingerprint(estateId: number | string | BN, fingerprint: string): TxCall<boolean>;\n    symbol(): TxCall<string>;\n    updateOperator(a0: number | string | BN): TxCall<Address>;\n    estateLandIndex(a0: number | string | BN, a1: number | string | BN): TxCall<string>;\n    setApprovalForAll(_to: Address, _approved: boolean): TxSend<EstateRegistryTransactionReceipt>;\n    transferLand(estateId: number | string | BN, landId: number | string | BN, destinatary: Address): TxSend<EstateRegistryTransactionReceipt>;\n    getMetadata(estateId: number | string | BN): TxCall<string>;\n    setUpdateOperator(estateId: number | string | BN, operator: Address): TxSend<EstateRegistryTransactionReceipt>;\n    safeTransferFrom(_from: Address, _to: Address, _tokenId: number | string | BN, _data: string): TxSend<EstateRegistryTransactionReceipt>;\n    getLandEstateId(landId: number | string | BN): TxCall<string>;\n    isMigrated(contractName: string, migrationId: string): TxCall<boolean>;\n    initialize(_sender: Address): TxSend<EstateRegistryTransactionReceipt>;\n    tokenURI(_tokenId: number | string | BN): TxCall<string>;\n    mint(to: Address, metadata: string): TxSend<EstateRegistryTransactionReceipt>;\n    safeTransferManyFrom(from: Address, to: Address, estateIds: (number | string | BN)[], data: string): TxSend<EstateRegistryTransactionReceipt>;\n    isApprovedForAll(_owner: Address, _operator: Address): TxCall<boolean>;\n    setUpdateManager(_owner: Address, _operator: Address, _approved: boolean): TxSend<EstateRegistryTransactionReceipt>;\n    transferOwnership(newOwner: Address): TxSend<EstateRegistryTransactionReceipt>;\n    getEstateSize(estateId: number | string | BN): TxCall<string>;\n}\nexport interface EstateRegistryDefinition {\n    methods: EstateRegistryMethods;\n    events: EstateRegistryEvents;\n    eventLogs: EstateRegistryEventLogs;\n}\nexport class EstateRegistry extends Contract<EstateRegistryDefinition> {\n    constructor(eth: Eth, address?: Address, options?: ContractOptions) {\n        super(eth, abi, address, options);\n    }\n    deploy(): TxSend<EstateRegistryTransactionReceipt> {\n        return super.deployBytecode(\"0x608060405234801561001057600080fd5b5061472b806100206000396000f3006080604052600436106102715763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166301ffc9a7811461027657806306fdde03146102ac578063077f224a1461033657806307ecec3e146103da578063081812fc14610401578063095ea7b3146104355780630a354fce14610459578063150b7a0214610483578063159a64751461050f57806318160ddd146105275780631d11016a1461053c57806323b872dd1461056357806328b34ef61461058d5780632f745c59146105ed5780633970bfd3146106115780633dcbeb001461062c5780634080704914610691578063426a0af3146106c157806342842e0e146107595780634cd88b76146107835780634f558e791461081a5780634f6ccce714610832578063535a920c1461084a57806353c8388e1461086b5780635c36b1861461088f5780636352211e146108a457806365937ab9146108bc57806370a08231146108e057806372554ff51461090157806373b913fa146109615780637b103999146109cc5780638129fc1c146109e15780638da5cb5b146109f65780638f9f4b6314610a0b57806395d89b4114610a695780639d40b85014610a7e5780639f813b1b14610a96578063a22cb46514610ab1578063a506e5dc14610ad7578063a574cea414610afe578063b0b02c6014610b16578063b88d4fde14610b3a578063bb96913214610ba9578063c0bac1a814610bc1578063c4d66de814610c58578063c87b56dd14610c79578063d0def52114610c91578063d93eeb5c14610cbe578063e985e9c514610d67578063ef1db76214610d8e578063f2fde38b14610dba578063f4a4344814610ddb575b600080fd5b34801561028257600080fd5b50610298600160e060020a031960043516610df3565b604080519115158252519081900360200190f35b3480156102b857600080fd5b506102c1610e04565b6040805160208082528351818301528351919283929083019185019080838360005b838110156102fb5781810151838201526020016102e3565b50505050905090810190601f1680156103285780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561034257600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526103d894369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375094975050509235600160a060020a03169350610e9b92505050565b005b3480156103e657600080fd5b50610298600160a060020a03600435811690602435166112a2565b34801561040d57600080fd5b506104196004356112c2565b60408051600160a060020a039092168252519081900360200190f35b34801561044157600080fd5b506103d8600160a060020a03600435166024356112dd565b34801561046557600080fd5b50610471600435611386565b60408051918252519081900360200190f35b34801561048f57600080fd5b50604080516020601f6064356004818101359283018490048402850184019095528184526104f294600160a060020a0381358116956024803590921695604435953695608494019181908401838280828437509497506113989650505050505050565b60408051600160e060020a03199092168252519081900360200190f35b34801561051b57600080fd5b50610471600435611467565b34801561053357600080fd5b506104716115e1565b34801561054857600080fd5b506103d8600435602435600160a060020a03604435166115e7565b34801561056f57600080fd5b506103d8600160a060020a036004358116906024351660443561175f565b34801561059957600080fd5b50604080516020600460443581810135601f81018490048402850184019095528484526103d894823594602480359536959460649492019190819084018382808284375094975061178b9650505050505050565b3480156105f957600080fd5b50610471600160a060020a0360043516602435611796565b34801561061d57600080fd5b506104716004356024356117e3565b34801561063857600080fd5b506040805160206004602480358281013584810280870186019097528086526103d89684359636966044959194909101929182918501908490808284375094975050509235600160a060020a0316935061181392505050565b34801561069d57600080fd5b506103d8600480359060248035908101910135600160a060020a03604435166119ff565b3480156106cd57600080fd5b506040805160206004602480358281013584810280870186019097528086526103d89684359636966044959194909101929182918501908490808284375050604080516020601f89358b018035918201839004830284018301909452808352979a999881019791965091820194509250829150840183828082843750949750611aa19650505050505050565b34801561076557600080fd5b506103d8600160a060020a0360043581169060243516604435611adf565b34801561078f57600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526103d894369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a999881019791965091820194509250829150840183828082843750949750611b5f9650505050505050565b34801561082657600080fd5b50610298600435611ed6565b34801561083e57600080fd5b50610471600435611ef3565b34801561085657600080fd5b506103d8600160a060020a0360043516611f28565b34801561087757600080fd5b506103d86004803590602480359081019101356120a3565b34801561089b57600080fd5b506103d86121a8565b3480156108b057600080fd5b50610419600435612228565b3480156108c857600080fd5b50610298600160a060020a036004351660243561224c565b3480156108ec57600080fd5b50610471600160a060020a036004351661225f565b34801561090d57600080fd5b50604080516020600480358082013583810280860185019096528085526103d89536959394602494938501929182918501908490808284375094975050509235600160a060020a0316935061229292505050565b34801561096d57600080fd5b5060408051602060046044358181013583810280860185019096528085526103d8958335600160a060020a0390811696602480359092169636969560649592949301928291850190849080828437509497506122c79650505050505050565b3480156109d857600080fd5b506104196122e3565b3480156109ed57600080fd5b506103d86122f2565b348015610a0257600080fd5b5061041961263f565b348015610a1757600080fd5b5060408051602060046024803582810135601f810185900485028601850190965285855261029895833595369560449491939091019190819084018382808284375094975061264e9650505050505050565b348015610a7557600080fd5b506102c161266a565b348015610a8a57600080fd5b506104196004356126cb565b348015610aa257600080fd5b506104716004356024356126e6565b348015610abd57600080fd5b506103d8600160a060020a03600435166024351515612703565b348015610ae357600080fd5b506103d8600435602435600160a060020a0360443516612787565b348015610b0a57600080fd5b506102c16004356127f0565b348015610b2257600080fd5b506103d8600435600160a060020a0360243516612891565b348015610b4657600080fd5b50604080516020601f6064356004818101359283018490048402850184019095528184526103d894600160a060020a0381358116956024803590921695604435953695608494019181908401838280828437509497506129769650505050505050565b348015610bb557600080fd5b506104716004356129f6565b348015610bcd57600080fd5b506040805160206004803580820135601f810184900484028501840190955284845261029894369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a999881019791965091820194509250829150840183828082843750949750612a089650505050505050565b348015610c6457600080fd5b506103d8600160a060020a0360043516612acf565b348015610c8557600080fd5b506102c1600435612e3b565b348015610c9d57600080fd5b5061047160048035600160a060020a03169060248035908101910135612eb9565b348015610cca57600080fd5b5060408051602060046044358181013583810280860185019096528085526103d8958335600160a060020a03908116966024803590921696369695606495929493019282918501908490808284375050604080516020601f89358b018035918201839004830284018301909452808352979a999881019791965091820194509250829150840183828082843750949750612f869650505050505050565b348015610d7357600080fd5b50610298600160a060020a0360043581169060243516612fbd565b348015610d9a57600080fd5b506103d8600160a060020a03600435811690602435166044351515612feb565b348015610dc657600080fd5b506103d8600160a060020a0360043516613173565b348015610de757600080fd5b506104716004356131fb565b6000610dfe8261320d565b92915050565b60058054604080516020601f6002600019610100600188161502019095169490940493840181900481028201810190925282815260609390929091830182828015610e905780601f10610e6557610100808354040283529160200191610e90565b820191906000526020600020905b815481529060010190602001808311610e7357829003601f168201915b505050505090505b90565b6040805190810160405280600e81526020017f45737461746552656769737472790000000000000000000000000000000000008152506040805190810160405280600581526020017f302e302e32000000000000000000000000000000000000000000000000000000815250610f34826040805190810160405280600b81526020016000805160206146c08339815191528152506132ae565b610f3e82826132ae565b600160a060020a0383161515610fc4576040805160e560020a62461bcd02815260206004820152602660248201527f5468652072656769737472792073686f756c6420626520612076616c6964206160448201527f6464726573730000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b610fce8585611b5f565b610fd733612acf565b600d8054600160a060020a031916600160a060020a0385161790556040805181815283519181019190915282516000805160206146a08339815191529184918491908190602080830191606084019187019080838360005b8381101561104757818101518382015260200161102f565b50505050905090810190601f1680156110745780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156110a757818101518382015260200161108f565b50505050905090810190601f1680156110d45780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160016000836040518082805190602001908083835b602083106111175780518252601f1990920191602091820191016110f8565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b602083106111735780518252601f199092019160209182019101611154565b51815160209384036101000a60001901801990921691161790529201948552506040519384900381018420805460ff19169515159590951790945550508351600192600092869290918291908401908083835b602083106111e55780518252601f1990920191602091820191016111c6565b51815160209384036101000a60001901801990921691161790529201948552506040805194859003820185208582018252600b8087526000805160206146c083398151915293870193845291519095945092508291908083835b6020831061125e5780518252601f19909201916020918201910161123f565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220805460ff19169315159390931790925550505050505050565b601360209081526000928352604080842090915290825290205460ff1681565b600090815260026020526040902054600160a060020a031690565b60006112e882612228565b9050600160a060020a03838116908216141561130357600080fd5b33600160a060020a038216148061131f575061131f8133612fbd565b151561132a57600080fd5b6000828152600260205260408082208054600160a060020a031916600160a060020a0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b600f6020526000908152604090205481565b600d546000908190600160a060020a03163314611425576040805160e560020a62461bcd02815260206004820152602960248201527f4f6e6c79207468652072656769737472792063616e206d616b6520746869732060448201527f6f7065726174696f6e0000000000000000000000000000000000000000000000606482015290519081900360840190fd5b61142e83613337565b905061143a8185613342565b7f150b7a020000000000000000000000000000000000000000000000000000000091505b50949350505050565b60008060008360405160200180807f65737461746549640000000000000000000000000000000000000000000000008152506008018281526020019150506040516020818303038152906040526040518082805190602001908083835b602083106114e35780518252601f1990920191602091820191016114c4565b51815160209384036101000a6000190180199092169116179052604080519290940182900390912060008a8152600e909252928120549297509195509093505050505b818110156115da576000848152600e6020526040902080548290811061154857fe5b9060005260206000200154604051602001808281526020019150506040516020818303038152906040526040518082805190602001908083835b602083106115a15780518252601f199092019160209182019101611582565b5181516020939093036101000a600019018019909116921691909117905260405192018290039091209590951894505050600101611526565b5050919050565b60095490565b8260006115f382612228565b90506115ff33836135b6565b8061162d5750600160a060020a038116600090815260136020908152604080832033845290915290205460ff165b1515611671576040805160e560020a62461bcd0281526020600482015260116024820152600080516020614660833981519152604482015290519081900360640190fd5b6000848152600f602052604090205485146116d2576040805160e560020a62461bcd0281526020600482015260226024820152600080516020614680833981519152604482015260f060020a61746502606482015290519081900360840190fd5b600d54604080517fb0b02c6000000000000000000000000000000000000000000000000000000000815260048101879052600160a060020a0386811660248301529151919092169163b0b02c6091604480830192600092919082900301818387803b15801561174057600080fd5b505af1158015611754573d6000803e3d6000fd5b505050505050505050565b60008181526012602052604090208054600160a060020a031916905561178683838361360d565b505050565b6117868383836136fa565b60006117a18361225f565b82106117ac57600080fd5b600160a060020a03831660009081526007602052604090208054839081106117d057fe5b9060005260206000200154905092915050565b600e602052816000526040600020818154811015156117fe57fe5b90600052602060002001600091509150505481565b600083600061182182612228565b905061182d33836135b6565b8061185b5750600160a060020a038116600090815260136020908152604080832033845290915290205460ff165b151561189f576040805160e560020a62461bcd0281526020600482015260116024820152600080516020614660833981519152604482015290519081900360640190fd5b600092505b84518310156119375785600f600087868151811015156118c057fe5b9060200190602002015181526020019081526020016000205414151561192c576040805160e560020a62461bcd0281526020600482015260226024820152600080516020614680833981519152604482015260f060020a61746502606482015290519081900360840190fd5b6001909201916118a4565b600d54604080517f72554ff5000000000000000000000000000000000000000000000000000000008152600160a060020a038781166024830152600482019283528851604483015288519316926372554ff592899289928291606401906020808701910280838360005b838110156119b95781810151838201526020016119a1565b505050509050019350505050600060405180830381600087803b1580156119df57600080fd5b505af11580156119f3573d6000803e3d6000fd5b50505050505050505050565b60008085611a0d33826135b6565b1515611a60576040805160e560020a62461bcd02815260206004820152602360248201526000805160206146e0833981519152604482015260e960020a623332b902606482015290519081900360840190fd5b849250600091505b82821015611a9857611a8d87878785818110611a8057fe5b9050602002013586613947565b600190910190611a68565b50505050505050565b815160005b81811015611ad857611ad0858583815181101515611ac057fe5b90602001906020020151856136fa565b600101611aa6565b5050505050565b80611aea33826135b6565b1515611b3d576040805160e560020a62461bcd02815260206004820152602360248201526000805160206146e0833981519152604482015260e960020a623332b902606482015290519081900360840190fd5b611b598484846020604051908101604052806000815250612976565b50505050565b6040805190810160405280600b81526020017f455243373231546f6b656e0000000000000000000000000000000000000000008152506040805190810160405280600581526020017f312e392e30000000000000000000000000000000000000000000000000000000815250611bf8826040805190810160405280600b81526020016000805160206146c08339815191528152506132ae565b611c0282826132ae565b8351611c159060059060208701906145a7565b508251611c299060069060208601906145a7565b506000805160206146a08339815191528282604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015611c7c578181015183820152602001611c64565b50505050905090810190601f168015611ca95780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015611cdc578181015183820152602001611cc4565b50505050905090810190601f168015611d095780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160016000836040518082805190602001908083835b60208310611d4c5780518252601f199092019160209182019101611d2d565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b60208310611da85780518252601f199092019160209182019101611d89565b51815160209384036101000a60001901801990921691161790529201948552506040519384900381018420805460ff19169515159590951790945550508351600192600092869290918291908401908083835b60208310611e1a5780518252601f199092019160209182019101611dfb565b51815160209384036101000a60001901801990921691161790529201948552506040805194859003820185208582018252600b8087526000805160206146c083398151915293870193845291519095945092508291908083835b60208310611e935780518252601f199092019160209182019101611e74565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220805460ff191693151593909317909255505050505050565b600090815260016020526040902054600160a060020a0316151590565b6000611efd6115e1565b8210611f0857600080fd5b6009805483908110611f1657fe5b90600052602060002001549050919050565b600c54600160a060020a03163314611f3f57600080fd5b611f5181600160a060020a0316613be5565b1515611fcd576040805160e560020a62461bcd02815260206004820152602e60248201527f546865204c414e4420726567697374727920616464726573732073686f756c6460448201527f206265206120636f6e7472616374000000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a0381161515612053576040805160e560020a62461bcd02815260206004820152602960248201527f546865204c414e4420726567697374727920616464726573732073686f756c6460448201527f2062652076616c69640000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600d8054600160a060020a031916600160a060020a0383811691909117918290556040519116907f2e88792af6f2248ed486ffffc86edf9bc197596990f7b406d5f867a1dd930ba590600090a250565b826120ae3382613bed565b1515612104576040805160e560020a62461bcd02815260206004820152601160248201527f556e617574686f72697a65642075736572000000000000000000000000000000604482015290519081900360640190fd5b61213e8484848080601f01602080910402602001604051908101604052809392919081815260200183838082843750613c61945050505050565b3361214885612228565b600160a060020a0316857f47c705b9219229ad762fca605f08fb024a3415d0ae78af5d319820c72e51041486866040518080602001828103825284848281815260200192508082843760405192018290039550909350505050a450505050565b600d60009054906101000a9004600160a060020a0316600160a060020a0316635c36b1866040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b15801561221457600080fd5b505af1158015611b59573d6000803e3d6000fd5b600081815260016020526040812054600160a060020a0316801515610dfe57600080fd5b60006122588383613bed565b9392505050565b6000600160a060020a038216151561227657600080fd5b50600160a060020a031660009081526003602052604090205490565b60005b8251811015611786576122bf83828151811015156122af57fe5b9060200190602002015183612891565b600101612295565b6117868383836020604051908101604052806000815250612f86565b600d54600160a060020a031681565b6040805190810160405280600a81526020017f4d696772617461626c65000000000000000000000000000000000000000000008152506040805190810160405280600581526020017f312e322e3100000000000000000000000000000000000000000000000000000081525061238b826040805190810160405280600b81526020016000805160206146c08339815191528152506132ae565b61239582826132ae565b6000805160206146a08339815191528282604051808060200180602001838103835285818151815260200191508051906020019080838360005b838110156123e75781810151838201526020016123cf565b50505050905090810190601f1680156124145780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b8381101561244757818101518382015260200161242f565b50505050905090810190601f1680156124745780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160016000836040518082805190602001908083835b602083106124b75780518252601f199092019160209182019101612498565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b602083106125135780518252601f1990920191602091820191016124f4565b51815160209384036101000a60001901801990921691161790529201948552506040519384900381018420805460ff19169515159590951790945550508351600192600092869290918291908401908083835b602083106125855780518252601f199092019160209182019101612566565b51815160209384036101000a60001901801990921691161790529201948552506040805194859003820185208582018252600b8087526000805160206146c083398151915293870193845291519095945092508291908083835b602083106125fe5780518252601f1990920191602091820191016125df565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220805460ff19169315159390931790925550505050565b600c54600160a060020a031681565b600061265982613c80565b61266284611467565b149392505050565b60068054604080516020601f6002600019610100600188161502019095169490940493840181900481028201810190925282815260609390929091830182828015610e905780601f10610e6557610100808354040283529160200191610e90565b601260205260009081526040902054600160a060020a031681565b601060209081526000928352604080842090915290825290205481565b600160a060020a03821633141561271957600080fd5b336000818152600460209081526040808320600160a060020a03871680855290835292819020805460ff1916861515908117909155815190815290519293927f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31929181900390910190a35050565b8261279233826135b6565b15156127e5576040805160e560020a62461bcd02815260206004820152602360248201526000805160206146e0833981519152604482015260e960020a623332b902606482015290519081900360840190fd5b611b59848484613947565b60008181526011602090815260409182902080548351601f60026000196101006001861615020190931692909204918201849004840281018401909452808452606093928301828280156128855780601f1061285a57610100808354040283529160200191612885565b820191906000526020600020905b81548152906001019060200180831161286857829003601f168201915b50505050509050919050565b81600061289d82612228565b90506128a933836135b6565b806128d75750600160a060020a038116600090815260136020908152604080832033845290915290205460ff165b151561291b576040805160e560020a62461bcd0281526020600482015260116024820152600080516020614660833981519152604482015290519081900360640190fd5b6000848152601260205260408082208054600160a060020a031916600160a060020a0387169081179091559051909186917f9d9dd80a56a16f715df6eb40b771e24ff8cbea6eed9de28473ce0f28fe5602a99190a350505050565b8161298133826135b6565b15156129d4576040805160e560020a62461bcd02815260206004820152602360248201526000805160206146e0833981519152604482015260e960020a623332b902606482015290519081900360840190fd5b6129df85858561175f565b6129eb85858585613d18565b1515611ad857600080fd5b6000908152600f602052604090205490565b600080836040518082805190602001908083835b60208310612a3b5780518252601f199092019160209182019101612a1c565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b60208310612a975780518252601f199092019160209182019101612a78565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092205460ff1695945050505050565b6040805190810160405280600781526020017f4f776e61626c65000000000000000000000000000000000000000000000000008152506040805190810160405280600581526020017f312e392e30000000000000000000000000000000000000000000000000000000815250612b68826040805190810160405280600b81526020016000805160206146c08339815191528152506132ae565b612b7282826132ae565b600c8054600160a060020a031916600160a060020a0385161790556040805181815283519181019190915282516000805160206146a08339815191529184918491908190602080830191606084019187019080838360005b83811015612be2578181015183820152602001612bca565b50505050905090810190601f168015612c0f5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015612c42578181015183820152602001612c2a565b50505050905090810190601f168015612c6f5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160016000836040518082805190602001908083835b60208310612cb25780518252601f199092019160209182019101612c93565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b60208310612d0e5780518252601f199092019160209182019101612cef565b51815160209384036101000a60001901801990921691161790529201948552506040519384900381018420805460ff19169515159590951790945550508351600192600092869290918291908401908083835b60208310612d805780518252601f199092019160209182019101612d61565b51815160209384036101000a60001901801990921691161790529201948552506040805194859003820185208582018252600b8087526000805160206146c083398151915293870193845291519095945092508291908083835b60208310612df95780518252601f199092019160209182019101612dda565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220805460ff1916931515939093179092555050505050565b6060612e4682611ed6565b1515612e5157600080fd5b6000828152600b602090815260409182902080548351601f6002600019610100600186161502019093169290920491820184900484028101840190945280845290918301828280156128855780601f1061285a57610100808354040283529160200191612885565b600d54600090600160a060020a03163314612f44576040805160e560020a62461bcd02815260206004820152602960248201527f4f6e6c79207468652072656769737472792063616e206d616b6520746869732060448201527f6f7065726174696f6e0000000000000000000000000000000000000000000000606482015290519081900360840190fd5b612f7e8484848080601f01602080910402602001604051908101604052809392919081815260200183838082843750613e80945050505050565b949350505050565b60005b8251811015611ad857612fb585858584815181101515612fa557fe5b9060200190602002015185612976565b600101612f89565b600160a060020a03918216600090815260046020908152604080832093909416825291909152205460ff1690565b600160a060020a038216331415613072576040805160e560020a62461bcd02815260206004820152602b60248201527f546865206f70657261746f722073686f756c6420626520646966666572656e7460448201527f2066726f6d206f776e6572000000000000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a0383163314806130ac5750600160a060020a038316600090815260046020908152604080832033845290915290205460ff165b1515613102576040805160e560020a62461bcd02815260206004820152601160248201527f556e617574686f72697a65642075736572000000000000000000000000000000604482015290519081900360640190fd5b600160a060020a03838116600081815260136020908152604080832094871680845294825291829020805460ff191686151590811790915582519081529151339493927fd79fbfe1644c022b9150727d871532bfcc3e27ffee86fc596a062770ac97b04292908290030190a4505050565b600c54600160a060020a0316331461318a57600080fd5b600160a060020a038116151561319f57600080fd5b600c54604051600160a060020a038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3600c8054600160a060020a031916600160a060020a0392909216919091179055565b6000908152600e602052604090205490565b600061321882613fd1565b806132605750604080517f6765744d657461646174612875696e743235362900000000000000000000000081529051908190036014019020600160e060020a03198381169116145b80610dfe5750604080517f76657269667946696e6765727072696e742875696e743235362c62797465732981529051908190036020019020600160e060020a03198381169116149050919050565b6132b88282612a08565b15613333576040805160e560020a62461bcd02815260206004820152603260248201527f52657175657374656420746172676574206d6967726174696f6e20494420686160448201527f7320616c7265616479206265656e2072756e0000000000000000000000000000606482015290519081900360840190fd5b5050565b6000610dfe82613c80565b61334b82611ed6565b15156133a1576040805160e560020a62461bcd02815260206004820152601a60248201527f546865204573746174652069642073686f756c64206578697374000000000000604482015290519081900360640190fd5b6000818152600f60205260409020541561342b576040805160e560020a62461bcd02815260206004820152602660248201527f546865204c414e4420697320616c7265616479206f776e656420627920616e2060448201527f4573746174650000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600d54604080517f6352211e0000000000000000000000000000000000000000000000000000000081526004810184905290513092600160a060020a031691636352211e9160248083019260209291908290030181600087803b15801561349157600080fd5b505af11580156134a5573d6000803e3d6000fd5b505050506040513d60208110156134bb57600080fd5b5051600160a060020a031614613541576040805160e560020a62461bcd02815260206004820152602960248201527f5468652045737461746552656769737472792063616e6e6f74206d616e61676560448201527f20746865204c414e440000000000000000000000000000000000000000000000606482015290519081900360840190fd5b6000828152600e60209081526040808320805460018101825581855283852001859055848452600f835281842086905585845254601083528184208585529092528083209190915551829184917fff0e52667d53255667dc777a00af81038a4646367b0d73d8ee8540ca5b0c9a2e9190a35050565b6000806135c283612228565b905080600160a060020a031684600160a060020a031614806135fd575083600160a060020a03166135f2846112c2565b600160a060020a0316145b80612f7e5750612f7e8185612fbd565b8061361833826135b6565b151561366b576040805160e560020a62461bcd02815260206004820152602360248201526000805160206146e0833981519152604482015260e960020a623332b902606482015290519081900360840190fd5b600160a060020a038416151561368057600080fd5b600160a060020a038316151561369557600080fd5b61369f8483614046565b6136a984836140a8565b6136b383836141e1565b8183600160a060020a031685600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a450505050565b600080848461370a33838361422a565b151561374e576040805160e560020a62461bcd0281526020600482015260116024820152600080516020614660833981519152604482015290519081900360640190fd5b6000868152600f602052604090205487146137af576040805160e560020a62461bcd0281526020600482015260226024820152600080516020614680833981519152604482015260f060020a61746502606482015290519081900360840190fd5b600d54604080517f7efd9112000000000000000000000000000000000000000000000000000000008152600481018990528151600160a060020a0390931692637efd9112926024808401939192918290030181600087803b15801561381357600080fd5b505af1158015613827573d6000803e3d6000fd5b505050506040513d604081101561383d57600080fd5b508051602091820151600d546040517fd4dd159400000000000000000000000000000000000000000000000000000000815260048101848152602482018490526060604483019081528b5160648401528b51959a50939850600160a060020a039092169463d4dd1594948a948a948d949093919260849091019185019080838360005b838110156138d85781810151838201526020016138c0565b50505050905090810190601f1680156139055780820380516001836020036101000a031916815260200191505b50945050505050600060405180830381600087803b15801561392657600080fd5b505af115801561393a573d6000803e3d6000fd5b5050505050505050505050565b600080808080600160a060020a03861615156139d3576040805160e560020a62461bcd02815260206004820152602d60248201527f596f752063616e206e6f74207472616e73666572204c414e4420746f20616e2060448201527f656d707479206164647265737300000000000000000000000000000000000000606482015290519081900360840190fd5b6000888152600e60209081526040808320601083528184208b85529283905292205491965094501515613a4c576040805160e560020a62461bcd0281526020600482015260226024820152600080516020614680833981519152604482015260f060020a61746502606482015290519081900360840190fd5b8454613a5f90600163ffffffff6142e216565b600088815260208690526040902054909350613a8290600163ffffffff6142e216565b91508483815481101515613a9257fe5b6000918252602090912001549050613ab182600163ffffffff6142f416565b60008281526020869052604090205584548190869084908110613ad057fe5b6000918252602090912001558454859084908110613aea57fe5b600091825260208220015582613b008682614625565b50600087815260208581526040808320839055600f909152808220829055600d5481517f42842e0e000000000000000000000000000000000000000000000000000000008152306004820152600160a060020a038a81166024830152604482018c9052925192909116926342842e0e9260648084019382900301818387803b158015613b8b57600080fd5b505af1158015613b9f573d6000803e3d6000fd5b5050505085600160a060020a031687897f7932eb5ab0d4d4d172776074ee15d13d708465ff5476902ed15a4965434fcab160405160405180910390a45050505050505050565b6000903b1190565b600080613bf983612228565b9050613c0584846135b6565b80613c295750600083815260126020526040902054600160a060020a038581169116145b80612f7e5750600160a060020a0380821660009081526013602090815260408083209388168352929052205460ff1691505092915050565b60008281526011602090815260409091208251611786928401906145a7565b600080805b8351811015613d1157613c9f81600863ffffffff61430116565b8482815181101515613cad57fe5b60209101015160029190910a7f0100000000000000000000000000000000000000000000000000000000000000918290049091027fff0000000000000000000000000000000000000000000000000000000000000016049190911790600101613c85565b5092915050565b600080613d2d85600160a060020a0316613be5565b1515613d3c576001915061145e565b6040517f150b7a020000000000000000000000000000000000000000000000000000000081523360048201818152600160a060020a03898116602485015260448401889052608060648501908152875160848601528751918a169463150b7a0294938c938b938b93909160a490910190602085019080838360005b83811015613dcf578181015183820152602001613db7565b50505050905090810190601f168015613dfc5780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381600087803b158015613e1e57600080fd5b505af1158015613e32573d6000803e3d6000fd5b505050506040513d6020811015613e4857600080fd5b5051600160e060020a0319167f150b7a0200000000000000000000000000000000000000000000000000000000149695505050505050565b600080600160a060020a0384161515613f08576040805160e560020a62461bcd028152602060048201526024808201527f596f752063616e206e6f74206d696e7420746f20616e20656d7074792061646460448201527f7265737300000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b613f1061432a565b9050613f1c848261434a565b613f268184613c61565b8084600160a060020a03167fd66691e9db811aef0bc0900328bd314b23f1f2285d5cb6d4baa4d959b3645a3c856040518080602001828103825283818151815260200191508051906020019080838360005b83811015613f90578181015183820152602001613f78565b50505050905090810190601f168015613fbd5780820380516001836020036101000a031916815260200191505b509250505060405180910390a39392505050565b6000613fdc82614399565b806140105750600160e060020a031982167f780e9d6300000000000000000000000000000000000000000000000000000000145b80610dfe575050600160e060020a0319167f5b5e139f000000000000000000000000000000000000000000000000000000001490565b81600160a060020a031661405982612228565b600160a060020a03161461406c57600080fd5b600081815260026020526040902054600160a060020a0316156133335760009081526002602052604090208054600160a060020a031916905550565b60008060006140b7858561440e565b600084815260086020908152604080832054600160a060020a03891684526007909252909120549093506140f290600163ffffffff6142e216565b600160a060020a03861660009081526007602052604090208054919350908390811061411a57fe5b90600052602060002001549050806007600087600160a060020a0316600160a060020a031681526020019081526020016000208481548110151561415a57fe5b6000918252602080832090910192909255600160a060020a038716815260079091526040812080548490811061418c57fe5b6000918252602080832090910192909255600160a060020a03871681526007909152604090208054906141c3906000198301614625565b50600093845260086020526040808520859055908452909220555050565b60006141ed8383614497565b50600160a060020a039091166000908152600760209081526040808320805460018101825590845282842081018590559383526008909152902055565b60006142368484613bed565b80612f7e5750600d54604080517f9d40b850000000000000000000000000000000000000000000000000000000008152600481018590529051600160a060020a03808816931691639d40b8509160248083019260209291908290030181600087803b1580156142a457600080fd5b505af11580156142b8573d6000803e3d6000fd5b505050506040513d60208110156142ce57600080fd5b5051600160a060020a031614949350505050565b6000828211156142ee57fe5b50900390565b81810182811015610dfe57fe5b600082151561431257506000610dfe565b5081810281838281151561432257fe5b0414610dfe57fe5b600061434560016143396115e1565b9063ffffffff6142f416565b905090565b614354828261451a565b600980546000838152600a60205260408120829055600182018355919091527f6e1540171b6c0c960b71a7020d9f60077f6af931a8bbf590da0223dacf75c7af015550565b60006143a482614575565b806143d85750600160e060020a031982167f80ac58cd00000000000000000000000000000000000000000000000000000000145b80610dfe575050600160e060020a0319167f4f558e79000000000000000000000000000000000000000000000000000000001490565b81600160a060020a031661442182612228565b600160a060020a03161461443457600080fd5b600160a060020a03821660009081526003602052604090205461445e90600163ffffffff6142e216565b600160a060020a039092166000908152600360209081526040808320949094559181526001909152208054600160a060020a0319169055565b600081815260016020526040902054600160a060020a0316156144b957600080fd5b60008181526001602081815260408084208054600160a060020a031916600160a060020a03881690811790915584526003909152909120546144fa916142f4565b600160a060020a0390921660009081526003602052604090209190915550565b600160a060020a038216151561452f57600080fd5b61453982826141e1565b6040518190600160a060020a038416906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b600160e060020a031981167f01ffc9a70000000000000000000000000000000000000000000000000000000014919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106145e857805160ff1916838001178555614615565b82800160010185558215614615579182015b828111156146155782518255916020019190600101906145fa565b50614621929150614645565b5090565b815481835581811115611786576000838152602090206117869181019083015b610e9891905b80821115614621576000815560010161464b5600756e617574686f72697a65642075736572000000000000000000000000000000546865204c414e44206973206e6f742070617274206f66207468652045737461dd117a11c22118c9dee4b5a67ce578bc44529dce21ee0ccc439588fbb9fb4ea3696e697469616c697a65640000000000000000000000000000000000000000004f6e6c79206f776e6572206f72206f70657261746f722063616e207472616e73a165627a7a7230582045f34176ffa9292b346d1694a7734989d9d47a833be247a8467a2eb115a9104a0029\") as any;\n    }\n}\nexport var EstateRegistryAbi = abi;\n","import { getConnectedProvider } from 'decentraland-dapps/dist/lib/eth'\nimport { Address } from 'web3x-es/address'\nimport { contractAddresses } from '../../contract/utils'\nimport { EstateRegistry } from '../../../contracts/EstateRegistry'\nimport { Estate } from './types'\nimport { Eth } from 'web3x-es/eth'\n\nexport const getSelection = (estate: Estate) => {\n  return estate.parcels.map(pair => ({\n    x: +pair.x,\n    y: +pair.y\n  }))\n}\n\nexport const getCenter = (selection: { x: number; y: number }[]) => {\n  const xs = [...new Set(selection.map(coords => coords.x).sort())]\n  const ys = [...new Set(selection.map(coords => coords.y).sort())]\n  const x = xs[(xs.length / 2) | 0]\n  const y = ys[(ys.length / 2) | 0]\n  return [x, y]\n}\n\nexport async function getFingerprint(estateId: string) {\n  const provider = await getConnectedProvider()\n  if (provider) {\n    const eth = new Eth(provider)\n    const estateRegistry = new EstateRegistry(\n      eth,\n      Address.fromString(contractAddresses.EstateRegistry)\n    )\n    return estateRegistry.methods.getFingerprint(estateId).call()\n  }\n}\n","import React, { useMemo } from 'react'\nimport { Loader } from 'decentraland-ui'\nimport { LazyImage } from 'react-lazy-images'\n\nimport { getSelection, getCenter } from '../../modules/nft/estate/utils'\nimport {\n  RARITY_COLOR,\n  RARITY_COLOR_LIGHT\n} from '../../modules/nft/wearable/types'\nimport { NFT, NFTCategory } from '../../modules/nft/types'\nimport { Vendors } from '../../modules/vendor/types'\nimport { getNFTName } from '../../modules/nft/utils'\nimport { Atlas } from '../Atlas'\nimport { Props } from './NFTImage.types'\nimport './NFTImage.css'\n\n// 1x1 transparent pixel\nconst PIXEL =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII='\n\nconst NFTImage = (props: Props) => {\n  const {\n    nft,\n    isDraggable,\n    withNavigation,\n    hasPopup,\n    zoom,\n    isSmall,\n    showMonospace\n  } = props\n  const { parcel, estate, wearable, ens } = (nft as NFT<\n    Vendors.DECENTRALAND\n  >).data\n\n  const estateSelection = useMemo(() => (estate ? getSelection(estate) : []), [\n    estate\n  ])\n\n  switch (nft.category) {\n    case NFTCategory.PARCEL: {\n      const x = +parcel!.x\n      const y = +parcel!.y\n      const selection = [{ x, y }]\n      return (\n        <Atlas\n          x={x}\n          y={y}\n          isDraggable={isDraggable}\n          withPopup={hasPopup}\n          withNavigation={withNavigation}\n          selection={selection}\n          zoom={zoom}\n        />\n      )\n    }\n\n    case NFTCategory.ESTATE: {\n      const [x, y] = getCenter(estateSelection)\n      return (\n        <Atlas\n          x={x}\n          y={y}\n          isDraggable={isDraggable}\n          withPopup={hasPopup}\n          withNavigation={withNavigation}\n          selection={estateSelection}\n          zoom={zoom}\n          isEstate\n        />\n      )\n    }\n\n    case NFTCategory.WEARABLE: {\n      const backgroundImage = `radial-gradient(${\n        RARITY_COLOR_LIGHT[wearable!.rarity]\n      }, ${RARITY_COLOR[wearable!.rarity]})`\n      return (\n        <div\n          className=\"rarity-background\"\n          style={{\n            backgroundImage\n          }}\n        >\n          <img alt={getNFTName(nft)} className=\"image\" src={nft.image} />\n        </div>\n      )\n    }\n\n    case NFTCategory.ENS: {\n      let name = ens!.subdomain\n      let classes = ['ens-subdomain']\n      if (isSmall) {\n        name = name.slice(0, 2)\n        classes.push('small')\n      }\n      return (\n        <div className={classes.join(' ')}>\n          <div className=\"name\">{name}</div>\n          {showMonospace ? <div className=\"monospace\">{name}</div> : null}\n        </div>\n      )\n    }\n\n    default: {\n      return (\n        <LazyImage\n          src={nft.image}\n          alt={getNFTName(nft)}\n          debounceDurationMs={1000}\n          placeholder={({ ref }) => (\n            <div ref={ref}>\n              <Loader size=\"small\" active />\n            </div>\n          )}\n          actual={({ imageProps }) => (\n            <img className=\"image\" alt={getNFTName(nft)} {...imageProps} />\n          )}\n        />\n      )\n    }\n  }\n}\n\n// the purpose of this wrapper is to make the div always be square, by using a 1x1 transparent pixel\nconst NFTImageWrapper = (props: Props) => {\n  const { nft, className, ...rest } = props\n\n  let classes = 'NFTImage'\n  if (className) {\n    classes += ' ' + className\n  }\n\n  return (\n    <div className={classes}>\n      <img src={PIXEL} alt=\"pixel\" className=\"pixel\" />\n      <div className=\"image-wrapper\">\n        <NFTImage nft={nft} {...rest} />\n      </div>\n    </div>\n  )\n}\n\nNFTImage.defaultProps = {\n  isDraggable: false,\n  withNavigation: false,\n  zoom: 0.5,\n  isSmall: false,\n  showMonospace: false\n}\n\nexport default React.memo(NFTImageWrapper)\n","import { RootState } from '../reducer'\n\nexport const getState = (state: RootState) => state.proximity\nexport const getProximities = (state: RootState) => getState(state).data\nexport const getLoading = (state: RootState) => getState(state).loading\nexport const getError = (state: RootState) => getState(state).error\n","export function getId(x: number | string, y: number | string) {\n  return x + ',' + y\n}\n\nexport function buildExplorerUrl(x: string | number, y: string | number) {\n  return `https://play.bears.finance/?position=${x},${y}`\n}\n","import { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Parcel } from '../nft/parcel/types'\nimport { Estate } from '../nft/estate/types'\nimport { getId } from '../nft/parcel/utils'\nimport { Proximity } from './types'\n\nexport const getDistanceText = (distance: number) =>\n  distance === 0\n    ? t('proximity.adjacent')\n    : t('proximity.distance', { distance })\n\nexport const getParcelProximity = (\n  parcel: Parcel,\n  proximities: Record<string, Proximity>\n) => {\n  const id = getId(parcel.x, parcel.y)\n  return proximities[id]\n}\n\nexport const getEstateProximity = (\n  estate: Estate,\n  proximities: Record<string, Proximity>\n) => {\n  let estateProximity: Proximity | undefined\n  for (const { x, y } of estate.parcels) {\n    const id = getId(x, y)\n    const parcelProximity = proximities[id]\n    if (parcelProximity) {\n      if (estateProximity === undefined) {\n        estateProximity = {}\n      }\n      if (\n        parcelProximity.district !== undefined &&\n        (estateProximity.district === undefined ||\n          parcelProximity.district < estateProximity.district)\n      ) {\n        estateProximity.district = parcelProximity.district\n      }\n      if (\n        parcelProximity.plaza !== undefined &&\n        (estateProximity.plaza === undefined ||\n          parcelProximity.plaza < estateProximity.plaza)\n      ) {\n        estateProximity.plaza = parcelProximity.plaza\n      }\n      if (\n        parcelProximity.road !== undefined &&\n        (estateProximity.road === undefined ||\n          parcelProximity.road < estateProximity.road)\n      ) {\n        estateProximity.road = parcelProximity.road\n      }\n    }\n  }\n  return estateProximity\n}\n","import { useMemo } from 'react'\nimport { NFT, NFTCategory } from '../nft/types'\nimport { Vendors } from '../vendor/types'\nimport { getParcelProximity, getEstateProximity } from './utils'\nimport { Proximity } from './types'\n\nexport const useProximity = (\n  nft: NFT<Vendors.DECENTRALAND>,\n  proximities: Record<string, Proximity>\n) =>\n  useMemo(() => {\n    switch (nft.category) {\n      case NFTCategory.PARCEL:\n        return getParcelProximity(nft.data.parcel!, proximities)\n      case NFTCategory.ESTATE:\n        return getEstateProximity(nft.data.estate!, proximities)\n      default:\n        return\n    }\n  }, [nft, proximities])\n","import React from 'react'\n\nimport { useProximity } from '../../../modules/proximity/hooks'\nimport { getDistanceText } from '../../../modules/proximity/utils'\nimport { Props } from './ProximityTags.types'\nimport './ProximityTags.css'\n\nconst ProximityTags = (props: Props) => {\n  const { nft, proximities } = props\n  const proximity = useProximity(nft, proximities)\n  return (\n    <>\n      {proximity?.plaza !== undefined ? (\n        <div\n          className=\"ProximityTag plaza\"\n          title={getDistanceText(proximity.plaza)}\n        />\n      ) : null}\n      {proximity?.road !== undefined ? (\n        <div\n          className=\"ProximityTag road\"\n          title={getDistanceText(proximity.road)}\n        />\n      ) : null}\n      {proximity?.district !== undefined ? (\n        <div\n          className=\"ProximityTag district\"\n          title={getDistanceText(proximity.district)}\n        />\n      ) : null}\n    </>\n  )\n}\n\nexport default ProximityTags\n","import { connect } from 'react-redux'\nimport { RootState } from '../../../modules/reducer'\nimport { getProximities } from '../../../modules/proximity/selectors'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './ProximityTags.types'\nimport ProximityTags from './ProximityTags'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  proximities: getProximities(state)\n})\n\nconst mapDispatch = (_dispatch: MapDispatch): MapDispatchProps => ({})\n\nexport default connect(mapState, mapDispatch)(ProximityTags)\n","import React from 'react'\nimport { ProximityTags } from '../ProximityTags'\nimport { Props } from './ParcelTags.types'\nimport './ParcelTags.css'\n\nconst ParcelTags = (props: Props) => {\n  const { nft } = props\n  const { x, y } = nft.data.parcel!\n  return (\n    <div className=\"ParcelTags tags\">\n      <div className=\"coords\">\n        <div className=\"pin\" />\n        {x},{y}\n      </div>\n      <ProximityTags nft={nft} />\n    </div>\n  )\n}\n\nexport default ParcelTags\n","import React from 'react'\nimport { ProximityTags } from '../ProximityTags'\nimport { Props } from './EstateTags.types'\nimport './EstateTags.css'\n\nconst EstateTags = (props: Props) => {\n  const { nft } = props\n  const estate = nft.data.estate!\n  return (\n    <div className=\"EstateTags tags\">\n      <div className=\"size\">{estate.size.toLocaleString()} LAND</div>\n      <ProximityTags nft={nft} />\n    </div>\n  )\n}\n\nexport default EstateTags\n","import { Wearable, BodyShape } from './types'\n\nexport function isGender(wearable: Wearable, gender: BodyShape) {\n  if (!wearable) return false\n  if (wearable.bodyShapes.length !== 1) return false\n  return wearable.bodyShapes[0] === gender\n}\n\nexport function isUnisex(wearable: Wearable) {\n  if (!wearable) return false\n  return wearable.bodyShapes.length === 2\n}\n","import React from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { BodyShape, RARITY_COLOR } from '../../../modules/nft/wearable/types'\nimport { isUnisex, isGender } from '../../../modules/nft/wearable/utils'\nimport { Props } from './WearableTags.types'\nimport './WearableTags.css'\n\nconst WearableTags = (props: Props) => {\n  const { nft } = props\n  const wearable = nft.data.wearable!\n  return (\n    <div className=\"WearableTags tags\">\n      <div\n        title={t(`wearable.rarity_tooltip.${wearable.rarity}`)}\n        className=\"rarity\"\n        style={{ backgroundColor: RARITY_COLOR[wearable.rarity] }}\n      >\n        {t(`wearable.rarity.${wearable.rarity}`)}\n      </div>\n      <div\n        className={'icon ' + wearable.category}\n        title={t(`wearable.category.${wearable.category}`)}\n      />\n      {isUnisex(wearable) ? (\n        <div className=\"icon Unisex\" title={t('wearable.body_shape.unisex')} />\n      ) : (\n        <div\n          className={'icon ' + wearable.bodyShapes[0]}\n          title={\n            isGender(wearable, BodyShape.MALE)\n              ? t('wearable.body_shape.male')\n              : t('wearable.body_shape.female')\n          }\n        />\n      )}\n    </div>\n  )\n}\n\nexport default WearableTags\n","import React from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Props } from './ENSTags.types'\nimport './ENSTags.css'\n\nconst ENSTags = (_: Props) => {\n  return (\n    <div className=\"ENSTags tags\">\n      <div className=\"badge\">{t('global.ens')}</div>\n    </div>\n  )\n}\n\nexport default ENSTags\n","import React from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Link } from 'react-router-dom'\nimport { Card, Mana } from 'decentraland-ui'\n\nimport { formatMANA } from '../../lib/mana'\nimport { formatDistanceToNow } from '../../lib/date'\nimport { locations } from '../../modules/routing/locations'\nimport { getNFTName } from '../../modules/nft/utils'\nimport { NFT } from '../../modules/nft/types'\nimport { Vendors } from '../../modules/vendor/types'\nimport { NFTImage } from '../NFTImage'\nimport { ParcelTags } from './ParcelTags'\nimport { EstateTags } from './EstateTags'\nimport { WearableTags } from './WearableTags'\nimport { ENSTags } from './ENSTags'\nimport { Props } from './NFTCard.types'\nimport './NFTCard.css'\n\nconst NFTCard = (props: Props) => {\n  const { nft, order } = props\n\n  const title = getNFTName(nft)\n  const { parcel, estate, wearable, ens } = (nft as NFT<\n    Vendors.DECENTRALAND\n  >).data\n\n  return (\n    <Card\n      className=\"NFTCard\"\n      link\n      as={Link}\n      to={locations.nft(nft.contractAddress, nft.tokenId)}\n    >\n      <NFTImage nft={nft} showMonospace />\n      <Card.Content>\n        <Card.Header>\n          <div className=\"title\">{title}</div>{' '}\n          {order ? <Mana inline>{formatMANA(order.price)}</Mana> : null}\n        </Card.Header>\n        {order && order.expiresAt ? (\n          <Card.Meta>\n            {t('nft_card.expires_at', {\n              date: formatDistanceToNow(+order.expiresAt, {\n                addSuffix: true\n              })\n            })}\n          </Card.Meta>\n        ) : null}\n        {parcel ? <ParcelTags nft={nft} /> : null}\n        {estate ? <EstateTags nft={nft} /> : null}\n        {wearable ? <WearableTags nft={nft} /> : null}\n        {ens ? <ENSTags nft={nft} /> : null}\n      </Card.Content>\n    </Card>\n  )\n}\n\nexport default React.memo(NFTCard)\n","import { connect } from 'react-redux'\nimport { RootState } from '../../modules/reducer'\nimport { getData } from '../../modules/order/selectors'\nimport { MapStateProps, OwnProps, MapDispatchProps } from './NFTCard.types'\nimport NFTCard from './NFTCard'\n\nconst mapState = (state: RootState, ownProps: OwnProps): MapStateProps => {\n  let { order, nft } = ownProps\n\n  if (!order && nft.activeOrderId) {\n    const orders = getData(state)\n    order = orders[nft.activeOrderId]\n  }\n\n  return {\n    order\n  }\n}\n\nconst mapDispatch = (): MapDispatchProps => ({})\n\nexport default connect(mapState, mapDispatch)(NFTCard)\n","import React, { useCallback } from 'react'\nimport { Card, Button, Loader } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { getMaxQuerySize, MAX_PAGE, PAGE_SIZE } from '../../modules/vendor/api'\nimport { NFTCard } from '../NFTCard'\nimport { Props } from './NFTList.types'\n\nconst NFTList = (props: Props) => {\n  const { vendor, nfts, page, count, isLoading, onBrowse } = props\n\n  const handleLoadMore = useCallback(() => {\n    onBrowse({ page: page + 1 })\n  }, [onBrowse, page])\n\n  const maxQuerySize = getMaxQuerySize(vendor)\n\n  const hasExtraPages =\n    (nfts.length !== count || count === maxQuerySize) && page <= MAX_PAGE\n\n  const isLoadingNewPage = isLoading && nfts.length >= PAGE_SIZE\n\n  return (\n    <>\n      <Card.Group>\n        {nfts.length > 0\n          ? nfts.map((nft, index) => (\n              <NFTCard key={nft.id + '-' + index} nft={nft} />\n            ))\n          : null}\n\n        {isLoading ? (\n          <>\n            <div className=\"overlay\" />\n            <Loader size=\"massive\" active />\n          </>\n        ) : null}\n      </Card.Group>\n\n      {nfts.length === 0 && !isLoading ? (\n        <div className=\"empty\">{t('nft_list.empty')}</div>\n      ) : null}\n\n      {nfts.length > 0 && hasExtraPages && (!isLoading || isLoadingNewPage) ? (\n        <div className=\"load-more\">\n          <Button loading={isLoading} inverted primary onClick={handleLoadMore}>\n            {t('global.load_more')}\n          </Button>\n        </div>\n      ) : null}\n    </>\n  )\n}\n\nexport default React.memo(NFTList)\n","import { connect } from 'react-redux'\nimport { isLoadingType } from 'decentraland-dapps/dist/modules/loading/selectors'\n\nimport { RootState } from '../../modules/reducer'\nimport { FETCH_NFTS_REQUEST } from '../../modules/nft/actions'\nimport { browse } from '../../modules/routing/actions'\nimport { getNFTs, getCount } from '../../modules/ui/nft/browse/selectors'\nimport { getVendor, getPage } from '../../modules/routing/selectors'\nimport { getLoading } from '../../modules/nft/selectors'\nimport { MapStateProps, MapDispatch, MapDispatchProps } from './NFTList.types'\nimport NFTList from './NFTList'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  vendor: getVendor(state),\n  nfts: getNFTs(state),\n  page: getPage(state),\n  count: getCount(state),\n  isLoading: isLoadingType(getLoading(state), FETCH_NFTS_REQUEST)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onBrowse: options => dispatch(browse(options))\n})\n\nexport default connect(mapState, mapDispatch)(NFTList)\n","import React, { useCallback } from 'react'\nimport { Responsive } from 'decentraland-ui'\n\nimport { getPartners } from '../../modules/vendor/utils'\nimport { Vendors } from '../../modules/vendor/types'\nimport { Menu } from '../Menu'\nimport { MenuItem } from '../Menu/MenuItem'\nimport { Props } from './VendorStrip.types'\nimport './VendorStrip.css'\n\nconst VendorStrip = (props: Props) => {\n  const { vendor, address, onBrowse } = props\n\n  const handleClick = useCallback(\n    (vendor: Vendors) => {\n      onBrowse({ vendor, address })\n    },\n    [onBrowse, address]\n  )\n\n  const decentraland = Vendors.DECENTRALAND\n\n  return (\n    <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n      <Menu className=\"VendorStrip\">\n        <MenuItem\n          key={decentraland}\n          value={decentraland}\n          currentValue={vendor}\n          image={`/${decentraland}.png`}\n          onClick={() => handleClick(decentraland)}\n        />\n        {getPartners().map(partner => (\n          <MenuItem\n            key={partner}\n            value={partner}\n            currentValue={vendor}\n            image={`/${partner}.png`}\n            onClick={() => handleClick(partner)}\n          />\n        ))}\n      </Menu>\n    </Responsive>\n  )\n}\n\nexport default React.memo(VendorStrip)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../modules/reducer'\nimport { browse } from '../../modules/routing/actions'\nimport { getVendor } from '../../modules/routing/selectors'\nimport {\n  MapDispatch,\n  MapDispatchProps,\n  MapStateProps\n} from './VendorStrip.types'\nimport VendorStrip from './VendorStrip'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  vendor: getVendor(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onBrowse: options => dispatch(browse(options))\n})\n\nexport default connect(mapState, mapDispatch)(VendorStrip)\n","import React from 'react'\n\nimport { Props } from './Row.types'\nimport './Row.css'\n\nconst Row = (props: Props) => {\n  const { className, children, onClick } = props\n\n  return (\n    <div className={`Row ${className}`} onClick={onClick}>\n      {children}\n    </div>\n  )\n}\n\nRow.defaultProps = {\n  className: ''\n}\n\nexport default React.memo(Row)\n","import React from 'react'\n\nimport { Props } from './Column.types'\nimport './Column.css'\n\nconst Column = (props: Props) => {\n  const { className, align, grow, shrink, children, onClick } = props\n\n  const classNames = ['Column', align]\n  if (className) {\n    classNames.push(className)\n  }\n  if (grow) {\n    classNames.push('grow')\n  }\n  if (shrink) {\n    classNames.push('shrink')\n  }\n\n  return (\n    <div className={classNames.join(' ')} onClick={onClick}>\n      {children}\n    </div>\n  )\n}\n\nColumn.defaultProps = {\n  align: 'left',\n  className: '',\n  grow: false,\n  shrink: false\n}\n\nexport default React.memo(Column)\n","import React from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Header } from 'decentraland-ui'\n\nimport { NFTSections } from '../NFTSections'\nimport { Props } from './NFTSidebar.types'\nimport './NFTSidebar.css'\n\nconst NFTSidebar = (props: Props) => {\n  const { section, onMenuItemClick } = props\n\n  return (\n    <div className=\"NFTSidebar\">\n      <Header sub>{t('nft_sidebar.categories')}</Header>\n      <NFTSections section={section} onSectionClick={onMenuItemClick} />\n    </div>\n  )\n}\n\nexport default React.memo(NFTSidebar)\n","import React, { useCallback } from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { locations } from '../../../modules/routing/locations'\nimport { VendorMenu } from '../../Vendor/VendorMenu'\nimport { Props } from './PartnerSidebar.types'\nimport './PartnerSidebar.css'\n\nconst PartnerSidebar = (props: Props) => {\n  const { vendor, section, onMenuItemClick, onNavigate } = props\n\n  const handleGoBack = useCallback(() => {\n    onNavigate(locations.partners())\n  }, [onNavigate])\n\n  return (\n    <div className=\"PartnerSidebar\">\n      <div className=\"go-back\" onClick={handleGoBack}>\n        <i className=\"back icon\" />\n        {t('nft_sidebar.back')}\n      </div>\n\n      <VendorMenu vendor={vendor} section={section} onClick={onMenuItemClick} />\n    </div>\n  )\n}\n\nexport default React.memo(PartnerSidebar)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\n\nimport { MapDispatch, MapDispatchProps } from './PartnerSidebar.types'\nimport PartnerSidebar from './PartnerSidebar'\n\nconst mapState = () => ({})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(PartnerSidebar)\n","import React, { useCallback } from 'react'\n\nimport { Section } from '../../../modules/vendor/routing/types'\nimport { Section as DecentralandSection } from '../../../modules/vendor/decentraland/routing/types'\nimport { Vendors } from '../../../modules/vendor/types'\nimport { NFTSidebar as DecentralandNFTSidebar } from '../decentraland/NFTSidebar'\nimport { PartnerSidebar } from '../PartnerSidebar'\nimport { Props } from './NFTSidebar.types'\n\nconst NFTSidebar = (props: Props) => {\n  const { vendor, section, onBrowse } = props\n\n  const handleOnBrowse = useCallback(\n    (section: Section) => {\n      onBrowse({ section })\n    },\n    [onBrowse]\n  )\n\n  switch (vendor) {\n    case Vendors.SUPER_RARE:\n    case Vendors.MAKERS_PLACE:\n    case Vendors.KNOWN_ORIGIN:\n      return (\n        <PartnerSidebar\n          section={section}\n          vendor={vendor}\n          onMenuItemClick={handleOnBrowse}\n        />\n      )\n    case Vendors.DECENTRALAND:\n    default:\n      return (\n        <DecentralandNFTSidebar\n          section={section as DecentralandSection}\n          onMenuItemClick={handleOnBrowse}\n        />\n      )\n  }\n}\n\nexport default React.memo(NFTSidebar)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../modules/reducer'\nimport { browse } from '../../../modules/routing/actions'\nimport { getVendor, getSection } from '../../../modules/routing/selectors'\nimport {\n  MapStateProps,\n  MapDispatch,\n  MapDispatchProps\n} from './NFTSidebar.types'\nimport NFTSidebar from './NFTSidebar'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  vendor: getVendor(state),\n  section: getSection(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onBrowse: options => dispatch(browse(options))\n})\n\nexport default connect(mapState, mapDispatch)(NFTSidebar)\n","import * as React from 'react'\nimport { Icon } from 'decentraland-ui'\n\nimport { Props } from './Chip.types'\n\nimport './Chip.css'\n\nconst Chip = (props: Props) => {\n  const { type, text, icon, className, isActive, isDisabled, onClick } = props\n  if (!text && !icon) {\n    throw new Error('You need to provide at least one prop: text or icon')\n  }\n\n  const classNames = ['Chip', type]\n\n  if (className) {\n    classNames.push(className)\n  }\n  if (isActive) {\n    classNames.push('active')\n  }\n  if (isDisabled) {\n    classNames.push('disabled')\n  }\n  if (onClick && !isDisabled) {\n    classNames.push('clickeable')\n  }\n\n  return (\n    <div\n      className={classNames.join(' ')}\n      onClick={isActive || isDisabled ? undefined : onClick}\n    >\n      {text ? (\n        <span className=\"text\">{text}</span>\n      ) : icon ? (\n        <Icon name={icon} />\n      ) : null}\n    </div>\n  )\n}\n\nChip.defaultProps = {\n  text: '',\n  icon: '',\n  type: 'square',\n  isDisabled: false,\n  isActive: false\n}\n\nexport default React.memo(Chip)\n","import { useState, useCallback, useEffect, useRef } from 'react'\n\nlet timeout: NodeJS.Timeout | null = null\n\nexport const useInput = (\n  value: string,\n  onChange: (newValue: string) => void,\n  ms = 500\n) => {\n  const [text, setText] = useState(value)\n  const handleChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => setText(event.target.value),\n    [setText]\n  )\n\n  // flag to skip debounce\n  let skip = useRef(false)\n\n  // when value is changed from outside (controlled prop)\n  // should update internal value and skip debounce\n  useEffect(() => {\n    if (value !== text) {\n      skip.current = true\n      setText(value)\n    }\n    // eslint-disable-next-line\n  }, [value])\n\n  // When internal value changes it\n  // should start a debounced call to onChange\n  useEffect(() => {\n    if (timeout) {\n      clearTimeout(timeout)\n    }\n    if (skip.current) {\n      skip.current = false\n      return\n    }\n    timeout = setTimeout(() => {\n      timeout = null\n      onChange(text)\n    }, ms)\n  }, [text, ms, onChange])\n\n  return [text, handleChange] as const\n}\n","import React, { useEffect, useRef } from 'react'\nimport { Header } from 'decentraland-ui'\n\nimport { useInput } from '../../../../lib/input'\nimport { Props } from './TextFilter.types'\nimport './TextFilter.css'\n\nconst TextFilter = (props: Props) => {\n  const { name, value, placeholder, onChange } = props\n\n  const [text, setText] = useInput(value, onChange)\n  const inputRef = useRef<HTMLInputElement | null>(null)\n\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.focus()\n    }\n  }, [])\n\n  return (\n    <div className=\"TextFilter Filter\">\n      {name ? (\n        <Header sub className=\"name\">\n          {name}\n        </Header>\n      ) : null}\n      <div className=\"text-input\">\n        <input\n          ref={inputRef}\n          value={text}\n          onChange={setText}\n          placeholder={placeholder}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default TextFilter\n","import React from 'react'\nimport { Header } from 'decentraland-ui'\n\nimport { Props } from './ArrayFilter.types'\nimport './ArrayFilter.css'\n\nconst getClasses = (value: string, values: string[]) => {\n  const classes = ['option']\n  if (values.includes(value)) {\n    classes.push('selected')\n  }\n  return classes.join(' ')\n}\n\nconst getNewValues = (value: string, values: string[]) => {\n  return values.some(x => x === value)\n    ? values.filter(x => x !== value)\n    : [...values, value]\n}\n\nconst ArrayFilter = (props: Props) => {\n  const { name, values, options, onChange } = props\n  return (\n    <div className=\"ArrayFilter Filter\">\n      <Header sub className=\"name\">\n        {name}\n      </Header>\n      <div className=\"options\">\n        {options.map(option => (\n          <div\n            key={option.text}\n            className={getClasses(option.value, values)}\n            onClick={() => onChange(getNewValues(option.value, values))}\n          >\n            {option.text}\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default ArrayFilter\n","import React from 'react'\nimport { Header, Dropdown } from 'decentraland-ui'\n\nimport { Props } from './SelectFilter.types'\nimport './SelectFilter.css'\n\nconst SelectFilter = (props: Props) => {\n  const { name, options, value, onChange } = props\n  return (\n    <div className=\"SelectFilter Filter\">\n      <Header sub className=\"name\">\n        {name}\n      </Header>\n      <Dropdown\n        value={value}\n        options={options}\n        onChange={(_event, props) => onChange(props.value as string)}\n      />\n    </div>\n  )\n}\n\nexport default SelectFilter\n","import React, { useMemo } from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Row } from 'decentraland-ui'\n\nimport {\n  contractAddresses,\n  contractCategories,\n  contractSymbols\n} from '../../../../modules/contract/utils'\nimport {\n  WearableRarity,\n  WearableGender\n} from '../../../../modules/nft/wearable/types'\nimport { NFTCategory } from '../../../../modules/nft/types'\nimport { ContractName } from '../../../../modules/vendor/types'\nimport { ArrayFilter } from '../ArrayFilter'\nimport { SelectFilter } from '../SelectFilter'\nimport { Props } from './FiltersMenu.types'\n\nexport const ALL_COLLECTIONS_FILTER_OPTION = 'all'\n\nconst FiltersMenu = (props: Props) => {\n  const {\n    selectedCollection,\n    selectedRarities,\n    selectedGenders,\n    onCollectionsChange,\n    onRaritiesChange,\n    onGendersChange\n  } = props\n\n  const collectionOptions = useMemo(() => {\n    const options = Object.keys(contractAddresses).filter(\n      (contractName: string) =>\n        contractCategories[contractAddresses[contractName as ContractName]] ===\n        NFTCategory.WEARABLE\n    ) as ContractName[]\n    return [\n      {\n        value: ALL_COLLECTIONS_FILTER_OPTION,\n        text: t('nft_filters.all_collections')\n      },\n      ...options.map(collection => ({\n        value: collection,\n        text: contractSymbols[contractAddresses[collection]]\n      }))\n    ]\n  }, [])\n\n  const rarityOptions = useMemo(() => {\n    const options = Object.values(WearableRarity)\n      .filter(x => x !== WearableRarity.COMMON && x !== WearableRarity.UNIQUE)\n      .reverse()\n    return options.map(rarity => ({\n      value: rarity,\n      text: t(`wearable.rarity.${rarity}`)\n    }))\n  }, [])\n\n  const genderOptions = useMemo(() => {\n    const options = Object.values(WearableGender)\n    return options.map(gender => ({\n      value: gender,\n      text: t(`wearable.body_shape.${gender}`)\n    }))\n  }, [])\n\n  return (\n    <>\n      <Row>\n        <SelectFilter\n          name={t('nft_filters.collection')}\n          value={selectedCollection || ALL_COLLECTIONS_FILTER_OPTION}\n          options={collectionOptions}\n          onChange={onCollectionsChange}\n        />\n      </Row>\n      <Row>\n        <ArrayFilter\n          name={t('nft_filters.rarity')}\n          values={selectedRarities}\n          options={rarityOptions}\n          onChange={onRaritiesChange}\n        />\n        <ArrayFilter\n          name={t('nft_filters.gender')}\n          values={selectedGenders}\n          options={genderOptions}\n          onChange={onGendersChange}\n        />\n      </Row>\n    </>\n  )\n}\n\nFiltersMenu.defaultValues = {\n  selectedRarities: [],\n  selectedGenders: []\n}\n\nexport default React.memo(FiltersMenu)\n","import React, { useCallback, useEffect, useState } from 'react'\nimport {\n  Radio,\n  CheckboxProps,\n  Button,\n  Header,\n  Dropdown,\n  DropdownProps,\n  Responsive,\n  Modal\n} from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { SortBy } from '../../../../modules/routing/types'\nimport {\n  WearableRarity,\n  WearableGender\n} from '../../../../modules/nft/wearable/types'\nimport { NFTCategory } from '../../../../modules/nft/types'\nimport { ContractName } from '../../../../modules/vendor/types'\nimport { Section } from '../../../../modules/vendor/decentraland/routing/types'\nimport { MAX_QUERY_SIZE } from '../../../../modules/vendor/decentraland/api'\nimport { getSearchCategory } from '../../../../modules/routing/search'\nimport { NFTSidebar } from '../../NFTSidebar'\nimport { Chip } from '../../../Chip'\nimport { TextFilter } from '../../NFTFilters/TextFilter'\nimport { FiltersMenu } from '../../NFTFilters/FiltersMenu'\nimport { Props } from './NFTFilters.types'\n\nconst NFTFilters = (props: Props) => {\n  const {\n    section,\n    search,\n    count,\n    onlyOnSale,\n    isMap,\n    wearableRarities,\n    wearableGenders,\n    contracts,\n    onBrowse\n  } = props\n\n  const [showFiltersMenu, setShowFiltersMenu] = useState(false)\n  const [showFiltersModal, setShowFiltersModal] = useState(false)\n\n  const category = section ? getSearchCategory(section) : undefined\n  const dropdownOptions = [\n    { value: SortBy.NEWEST, text: t('filters.newest') },\n    { value: SortBy.NAME, text: t('filters.name') }\n  ]\n\n  if (onlyOnSale) {\n    dropdownOptions.unshift({\n      value: SortBy.RECENTLY_LISTED,\n      text: t('filters.recently_listed')\n    })\n    dropdownOptions.unshift({\n      value: SortBy.CHEAPEST,\n      text: t('filters.cheapest')\n    })\n  }\n\n  const sortBy = dropdownOptions.find(option => option.value === props.sortBy)\n    ? props.sortBy\n    : dropdownOptions[0].value\n\n  const appliedFilters = []\n  if (wearableRarities.length > 0) {\n    appliedFilters.push(t('nft_filters.rarity'))\n  }\n  if (wearableGenders.length > 0) {\n    appliedFilters.push(t('nft_filters.gender'))\n  }\n  if (contracts.length > 0) {\n    appliedFilters.push(t('nft_filters.collection'))\n  }\n\n  const handleOnlyOnSaleChange = useCallback(\n    (_, props: CheckboxProps) => {\n      onBrowse({ sortBy: SortBy.NEWEST, onlyOnSale: !!props.checked })\n    },\n    [onBrowse]\n  )\n\n  const handleIsMapChange = useCallback(\n    (isMap: boolean) => {\n      onBrowse({ isMap, isFullscreen: false, search: '' })\n    },\n    [onBrowse]\n  )\n\n  const handleDropdownChange = useCallback(\n    (_, props: DropdownProps) => {\n      onBrowse({ sortBy: props.value as SortBy })\n    },\n    [onBrowse]\n  )\n\n  const handleRaritiesChange = useCallback(\n    (options: string[]) => {\n      onBrowse({ wearableRarities: options as WearableRarity[] })\n    },\n    [onBrowse]\n  )\n\n  const handleGendersChange = useCallback(\n    (options: string[]) => {\n      onBrowse({ wearableGenders: options as WearableGender[] })\n    },\n    [onBrowse]\n  )\n\n  const handleCollectionsChange = useCallback(\n    (contract: string) => {\n      onBrowse({ contracts: [contract as ContractName] })\n    },\n    [onBrowse]\n  )\n\n  const handleSearch = useCallback(\n    (newSearch: string) => {\n      if (search !== newSearch) {\n        onBrowse({ search: newSearch, isMap: false, isFullscreen: false })\n      }\n    },\n    [search, onBrowse]\n  )\n\n  const handleToggleFilterMenu = useCallback(\n    () => setShowFiltersMenu(!showFiltersMenu),\n    [showFiltersMenu, setShowFiltersMenu]\n  )\n\n  useEffect(() => setShowFiltersMenu(false), [category, setShowFiltersMenu])\n\n  const searchPlaceholder = isMap\n    ? t('nft_filters.search_land')\n    : count === undefined\n    ? t('global.loading') + '...'\n    : t('nft_filters.search', {\n        suffix:\n          count < MAX_QUERY_SIZE\n            ? t('nft_filters.results', {\n                count: count.toLocaleString()\n              })\n            : t('nft_filters.more_than_results', {\n                count: count.toLocaleString()\n              })\n      })\n\n  return (\n    <div className=\"NFTFilters\">\n      <div className=\"topbar\">\n        {isMap ? (\n          <>\n            <TextFilter\n              value={search}\n              placeholder={searchPlaceholder}\n              onChange={handleSearch}\n            />\n            <Responsive\n              minWidth={Responsive.onlyTablet.minWidth}\n              className=\"topbar-filter\"\n            >\n              <Radio\n                toggle\n                checked={onlyOnSale}\n                onChange={handleOnlyOnSaleChange}\n                label={t('nft_filters.on_sale')}\n              />\n            </Responsive>\n          </>\n        ) : (\n          <>\n            <TextFilter\n              value={search}\n              placeholder={searchPlaceholder}\n              onChange={handleSearch}\n            />\n            <Responsive\n              minWidth={Responsive.onlyTablet.minWidth}\n              className=\"topbar-filter\"\n            >\n              <Dropdown\n                direction=\"left\"\n                value={sortBy}\n                options={dropdownOptions}\n                onChange={handleDropdownChange}\n              />\n            </Responsive>\n            <Responsive\n              minWidth={Responsive.onlyTablet.minWidth}\n              className=\"topbar-filter\"\n            >\n              <Radio\n                toggle\n                checked={onlyOnSale}\n                onChange={handleOnlyOnSaleChange}\n                label={t('nft_filters.on_sale')}\n              />\n            </Responsive>\n          </>\n        )}\n\n        {category === NFTCategory.WEARABLE ? (\n          <Responsive\n            minWidth={Responsive.onlyTablet.minWidth}\n            className=\"open-filters-wrapper topbar-filter\"\n            onClick={handleToggleFilterMenu}\n          >\n            <div\n              className={`open-filters ${\n                showFiltersMenu || appliedFilters.length > 0 ? 'active' : ''\n              }`}\n            />\n          </Responsive>\n        ) : null}\n\n        <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n          <div\n            className=\"open-filters-wrapper\"\n            onClick={() => setShowFiltersModal(!showFiltersModal)}\n          >\n            <div className=\"label\">{t('nft_filters.filter')}</div>\n            <div\n              className={`open-filters ${\n                showFiltersMenu || appliedFilters.length > 0 ? 'active' : ''\n              }`}\n            />\n          </div>\n        </Responsive>\n\n        {section === Section.LAND ||\n        section === Section.PARCELS ||\n        section === Section.ESTATES ? (\n          <div className=\"topbar-filter\">\n            <div className=\"toggle-map\">\n              <Chip\n                className=\"grid\"\n                icon=\"table\"\n                isActive={!isMap}\n                onClick={() => handleIsMapChange(false)}\n              />\n              <Chip\n                className=\"atlas\"\n                icon=\"map marker alternate\"\n                isActive={isMap}\n                onClick={() => handleIsMapChange(true)}\n              />\n            </div>\n          </div>\n        ) : null}\n      </div>\n\n      {showFiltersMenu ? (\n        <Responsive\n          minWidth={Responsive.onlyTablet.minWidth}\n          className=\"filters\"\n        >\n          <FiltersMenu\n            selectedCollection={contracts[0]}\n            selectedRarities={wearableRarities}\n            selectedGenders={wearableGenders}\n            onCollectionsChange={handleCollectionsChange}\n            onGendersChange={handleGendersChange}\n            onRaritiesChange={handleRaritiesChange}\n          />\n        </Responsive>\n      ) : null}\n\n      <Modal\n        className=\"FiltersModal\"\n        open={showFiltersModal}\n        onClose={() => setShowFiltersModal(false)}\n      >\n        <Modal.Header>{t('nft_filters.filter')}</Modal.Header>\n        <Modal.Content>\n          {category === NFTCategory.WEARABLE ? (\n            <FiltersMenu\n              selectedCollection={contracts[0]}\n              selectedRarities={wearableRarities}\n              selectedGenders={wearableGenders}\n              onCollectionsChange={handleCollectionsChange}\n              onGendersChange={handleGendersChange}\n              onRaritiesChange={handleRaritiesChange}\n            />\n          ) : null}\n          <div className=\"filter-row\">\n            <Header sub>{t('nft_filters.order_by')}</Header>\n            <Dropdown\n              direction=\"left\"\n              value={sortBy}\n              options={dropdownOptions}\n              onChange={handleDropdownChange}\n            />\n          </div>\n          <div className=\"filter-row\">\n            <Header sub>{t('nft_filters.on_sale')}</Header>\n            <Radio\n              toggle\n              checked={onlyOnSale}\n              onChange={handleOnlyOnSaleChange}\n            />\n          </div>\n          <NFTSidebar />\n          <Button\n            className=\"apply-filters\"\n            primary\n            onClick={() => setShowFiltersModal(false)}\n          >\n            {t('global.apply')}\n          </Button>\n        </Modal.Content>\n      </Modal>\n    </div>\n  )\n}\n\nexport default React.memo(NFTFilters)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../../modules/reducer'\nimport { getCount } from '../../../../modules/ui/nft/browse/selectors'\nimport {\n  getSection,\n  getSortBy,\n  getOnlyOnSale,\n  getIsMap,\n  getWearableRarities,\n  getWearableGenders,\n  getSearch,\n  getContracts\n} from '../../../../modules/routing/selectors'\nimport { MapStateProps } from './NFTFilters.types'\nimport NFTFilters from './NFTFilters'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  count: getCount(state),\n  section: getSection(state),\n  sortBy: getSortBy(state),\n  search: getSearch(state),\n  onlyOnSale: getOnlyOnSale(state),\n  isMap: getIsMap(state),\n  wearableRarities: getWearableRarities(state),\n  wearableGenders: getWearableGenders(state),\n  contracts: getContracts(state)\n})\n\nconst mapDispatch = () => ({})\n\nexport default connect(mapState, mapDispatch)(NFTFilters)\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Card, Icon } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { View } from '../../../modules/ui/types'\nimport { Props } from './PriceChangeNotice.types'\nimport './PriceChangeNotice.css'\n\nconst PRICE_CHANGE_NOTICE_KEY = 'price-change-notice'\n\nconst PriceChangeNotice = (props: Props) => {\n  const { view } = props\n\n  const isValidView = useCallback(\n    () => view !== undefined && view !== View.ACCOUNT,\n    [view]\n  )\n\n  const isDismissed = localStorage.getItem(PRICE_CHANGE_NOTICE_KEY) !== null\n  const [isVisible, setIsVisible] = useState(isValidView())\n\n  useEffect(() => {\n    setIsVisible(isValidView())\n  }, [setIsVisible, isValidView])\n\n  const handleClose = useCallback(() => {\n    setIsVisible(false)\n    localStorage.setItem(PRICE_CHANGE_NOTICE_KEY, '1')\n  }, [setIsVisible])\n\n  return !isDismissed && isVisible ? (\n    <Card fluid className=\"PriceChangeNotice\">\n      <Card.Content>\n        <Card.Meta>\n          <div className=\"message\">{t('price_change_notice.message')}</div>\n          <Icon name=\"close\" onClick={handleClose} />\n        </Card.Meta>\n      </Card.Content>\n    </Card>\n  ) : null\n}\n\nexport default React.memo(PriceChangeNotice)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../modules/reducer'\nimport { getView } from '../../../modules/ui/nft/browse/selectors'\nimport { MapStateProps } from './PriceChangeNotice.types'\nimport PriceChangeNotice from './PriceChangeNotice'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  view: getView(state)\n})\n\nconst mapDispatch = () => ({})\n\nexport default connect(mapState, mapDispatch)(PriceChangeNotice)\n","import React, { useCallback, useState } from 'react'\nimport {\n  Button,\n  Header,\n  Dropdown,\n  DropdownProps,\n  CheckboxProps,\n  Radio,\n  Responsive,\n  Modal\n} from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { SortBy } from '../../../../modules/routing/types'\nimport { MAX_QUERY_SIZE } from '../../../../modules/vendor/super_rare/api'\nimport { TextFilter } from '../../NFTFilters/TextFilter'\nimport { PriceChangeNotice } from '../../PriceChangeNotice'\nimport { Props } from './NFTFilters.types'\n\nconst NFTFilters = (props: Props) => {\n  const { search, count, onlyOnSale, onBrowse } = props\n\n  const [showFiltersModal, setShowFiltersModal] = useState(false)\n\n  const dropdownOptions = [\n    { value: SortBy.RECENTLY_LISTED, text: t('filters.recently_listed') },\n    { value: SortBy.CHEAPEST, text: t('filters.cheapest') }\n  ]\n\n  const sortBy = dropdownOptions.find(option => option.value === props.sortBy)\n    ? props.sortBy\n    : dropdownOptions[0].value\n\n  const handleOnlyOnSaleChange = useCallback(\n    (_, props: CheckboxProps) => {\n      onBrowse({ onlyOnSale: !!props.checked })\n    },\n    [onBrowse]\n  )\n\n  const handleDropdownChange = useCallback(\n    (_, props: DropdownProps) => {\n      onBrowse({ sortBy: props.value as SortBy })\n    },\n    [onBrowse]\n  )\n\n  const handleSearch = useCallback(\n    (newSearch: string) => {\n      if (search !== newSearch) {\n        onBrowse({ search: newSearch })\n      }\n    },\n    [search, onBrowse]\n  )\n\n  const searchPlaceholder =\n    count === undefined\n      ? t('global.loading') + '...'\n      : t('nft_filters.search', {\n          suffix:\n            count < MAX_QUERY_SIZE\n              ? t('nft_filters.results', {\n                  count: count.toLocaleString()\n                })\n              : t('nft_filters.more_than_results', {\n                  count: count.toLocaleString()\n                })\n        })\n\n  return (\n    <div className=\"NFTFilters\">\n      <div className=\"topbar\">\n        <TextFilter\n          value={search}\n          placeholder={searchPlaceholder}\n          onChange={handleSearch}\n        />\n        {onlyOnSale ? (\n          <Responsive\n            as={Dropdown}\n            className=\"topbar-filter\"\n            minWidth={Responsive.onlyTablet.minWidth}\n            direction=\"left\"\n            value={sortBy}\n            options={dropdownOptions}\n            onChange={handleDropdownChange}\n          />\n        ) : null}\n        <Responsive\n          minWidth={Responsive.onlyTablet.minWidth}\n          className=\"topbar-filter\"\n        >\n          <Radio\n            toggle\n            checked={onlyOnSale}\n            onChange={handleOnlyOnSaleChange}\n            label={t('nft_filters.on_sale')}\n          />\n        </Responsive>\n\n        <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n          <div\n            className=\"open-filters-wrapper\"\n            onClick={() => setShowFiltersModal(!showFiltersModal)}\n          >\n            <div className=\"label\">{t('nft_filters.filter')}</div>\n            <div className=\"open-filters\" />\n          </div>\n        </Responsive>\n      </div>\n\n      <PriceChangeNotice />\n\n      <Modal\n        className=\"FiltersModal\"\n        open={showFiltersModal}\n        onClose={() => setShowFiltersModal(false)}\n      >\n        <Modal.Header>{t('nft_filters.filter')}</Modal.Header>\n        <Modal.Content>\n          <div className=\"filter-row\">\n            {onlyOnSale ? (\n              <>\n                <Header sub>{t('nft_filters.order_by')}</Header>\n                <Dropdown\n                  direction=\"left\"\n                  value={sortBy}\n                  options={dropdownOptions}\n                  onChange={handleDropdownChange}\n                />\n              </>\n            ) : null}\n          </div>\n          <div className=\"filter-row\">\n            <Header sub>{t('nft_filters.on_sale')}</Header>\n            <Radio\n              toggle\n              checked={onlyOnSale}\n              onChange={handleOnlyOnSaleChange}\n            />\n          </div>\n          <Button\n            className=\"apply-filters\"\n            primary\n            onClick={() => setShowFiltersModal(false)}\n          >\n            {t('global.apply')}\n          </Button>\n        </Modal.Content>\n      </Modal>\n    </div>\n  )\n}\n\nexport default React.memo(NFTFilters)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../../modules/reducer'\nimport { getCount } from '../../../../modules/ui/nft/browse/selectors'\nimport {\n  getSection,\n  getSortBy,\n  getOnlyOnSale,\n  getSearch\n} from '../../../../modules/routing/selectors'\nimport { MapStateProps } from './NFTFilters.types'\nimport NFTFilters from './NFTFilters'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  count: getCount(state),\n  section: getSection(state),\n  sortBy: getSortBy(state),\n  search: getSearch(state),\n  onlyOnSale: getOnlyOnSale(state)\n})\n\nconst mapDispatch = () => ({})\n\nexport default connect(mapState, mapDispatch)(NFTFilters)\n","import React, { useCallback, useState } from 'react'\nimport {\n  Button,\n  Header,\n  Dropdown,\n  DropdownProps,\n  Responsive,\n  Modal\n} from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { SortBy } from '../../../../modules/routing/types'\nimport { MAX_QUERY_SIZE } from '../../../../modules/vendor/super_rare/api'\nimport { TextFilter } from '../../NFTFilters/TextFilter'\nimport { PriceChangeNotice } from '../../PriceChangeNotice'\nimport { Props } from './NFTFilters.types'\n\nconst NFTFilters = (props: Props) => {\n  const { search, count, onBrowse } = props\n\n  const [showFiltersModal, setShowFiltersModal] = useState(false)\n\n  const dropdownOptions = [\n    { value: SortBy.RECENTLY_LISTED, text: t('filters.recently_listed') },\n    { value: SortBy.CHEAPEST, text: t('filters.cheapest') }\n  ]\n\n  const sortBy = dropdownOptions.find(option => option.value === props.sortBy)\n    ? props.sortBy\n    : dropdownOptions[0].value\n\n  const handleDropdownChange = useCallback(\n    (_, props: DropdownProps) => {\n      onBrowse({ sortBy: props.value as SortBy })\n    },\n    [onBrowse]\n  )\n\n  const handleSearch = useCallback(\n    (newSearch: string) => {\n      if (search !== newSearch) {\n        onBrowse({ search: newSearch })\n      }\n    },\n    [search, onBrowse]\n  )\n\n  const searchPlaceholder =\n    count === undefined\n      ? t('global.loading') + '...'\n      : t('nft_filters.search', {\n          suffix:\n            count < MAX_QUERY_SIZE\n              ? t('nft_filters.results', {\n                  count: count.toLocaleString()\n                })\n              : t('nft_filters.more_than_results', {\n                  count: count.toLocaleString()\n                })\n        })\n\n  return (\n    <div className=\"NFTFilters\">\n      <div className=\"topbar\">\n        <TextFilter\n          value={search}\n          placeholder={searchPlaceholder}\n          onChange={handleSearch}\n        />\n        <Responsive\n          as={Dropdown}\n          className=\"topbar-filter\"\n          minWidth={Responsive.onlyTablet.minWidth}\n          direction=\"left\"\n          value={sortBy}\n          options={dropdownOptions}\n          onChange={handleDropdownChange}\n        />\n\n        <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n          <div\n            className=\"open-filters-wrapper\"\n            onClick={() => setShowFiltersModal(!showFiltersModal)}\n          >\n            <div className=\"label\">{t('nft_filters.filter')}</div>\n            <div className=\"open-filters\" />\n          </div>\n        </Responsive>\n      </div>\n\n      <PriceChangeNotice />\n\n      <Modal\n        className=\"FiltersModal\"\n        open={showFiltersModal}\n        onClose={() => setShowFiltersModal(false)}\n      >\n        <Modal.Header>{t('nft_filters.filter')}</Modal.Header>\n        <Modal.Content>\n          <div className=\"filter-row\">\n            <Header sub>{t('nft_filters.order_by')}</Header>\n            <Dropdown\n              direction=\"left\"\n              value={sortBy}\n              options={dropdownOptions}\n              onChange={handleDropdownChange}\n            />\n          </div>\n          <Button\n            className=\"apply-filters\"\n            primary\n            onClick={() => setShowFiltersModal(false)}\n          >\n            {t('global.apply')}\n          </Button>\n        </Modal.Content>\n      </Modal>\n    </div>\n  )\n}\n\nexport default React.memo(NFTFilters)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../../modules/reducer'\nimport { getCount } from '../../../../modules/ui/nft/browse/selectors'\nimport {\n  getSection,\n  getSortBy,\n  getOnlyOnSale,\n  getSearch\n} from '../../../../modules/routing/selectors'\nimport { MapStateProps } from './NFTFilters.types'\nimport NFTFilters from './NFTFilters'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  count: getCount(state),\n  section: getSection(state),\n  sortBy: getSortBy(state),\n  search: getSearch(state),\n  onlyOnSale: getOnlyOnSale(state)\n})\n\nconst mapDispatch = () => ({})\n\nexport default connect(mapState, mapDispatch)(NFTFilters)\n","import React, { useCallback, useState } from 'react'\nimport {\n  Button,\n  Header,\n  Dropdown,\n  DropdownProps,\n  Responsive,\n  Modal\n} from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { Section } from '../../../../modules/vendor/known_origin/routing/types'\nimport { SortBy } from '../../../../modules/routing/types'\nimport { PriceChangeNotice } from '../../PriceChangeNotice'\nimport { Props } from './NFTFilters.types'\n\nconst NFTFilters = (props: Props) => {\n  const { section, onBrowse } = props\n\n  const [showFiltersModal, setShowFiltersModal] = useState(false)\n\n  const dropdownOptions =\n    section === Section.ALL || section === Section.EDITIONS\n      ? [\n          { value: SortBy.RECENTLY_LISTED, text: t('filters.recently_listed') },\n          { value: SortBy.CHEAPEST, text: t('filters.cheapest') }\n        ]\n      : section === Section.TOKENS\n      ? [{ value: SortBy.NEWEST, text: t('filters.newest') }]\n      : []\n\n  const sortBy = dropdownOptions.find(option => option.value === props.sortBy)\n    ? props.sortBy\n    : dropdownOptions[0].value\n\n  const handleDropdownChange = useCallback(\n    (_, props: DropdownProps) => {\n      onBrowse({ sortBy: props.value as SortBy })\n    },\n    [onBrowse]\n  )\n\n  return (\n    <div className=\"NFTFilters\">\n      <div className=\"topbar\">\n        <div className=\"full-width\" />\n\n        <Responsive\n          as={Dropdown}\n          className=\"topbar-filter\"\n          minWidth={Responsive.onlyTablet.minWidth}\n          direction=\"left\"\n          value={sortBy}\n          options={dropdownOptions}\n          onChange={handleDropdownChange}\n        />\n\n        <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n          <div\n            className=\"open-filters-wrapper\"\n            onClick={() => setShowFiltersModal(!showFiltersModal)}\n          >\n            <div className=\"label\">{t('nft_filters.filter')}</div>\n            <div className=\"open-filters\" />\n          </div>\n        </Responsive>\n      </div>\n\n      <PriceChangeNotice />\n\n      <Modal\n        className=\"FiltersModal\"\n        open={showFiltersModal}\n        onClose={() => setShowFiltersModal(false)}\n      >\n        <Modal.Header>{t('nft_filters.filter')}</Modal.Header>\n        <Modal.Content>\n          <div className=\"filter-row\">\n            <Header sub>{t('nft_filters.order_by')}</Header>\n            <Dropdown\n              direction=\"left\"\n              value={sortBy}\n              options={dropdownOptions}\n              onChange={handleDropdownChange}\n            />\n          </div>\n          <Button\n            className=\"apply-filters\"\n            primary\n            onClick={() => setShowFiltersModal(false)}\n          >\n            {t('global.apply')}\n          </Button>\n        </Modal.Content>\n      </Modal>\n    </div>\n  )\n}\n\nexport default React.memo(NFTFilters)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../../modules/reducer'\nimport {\n  getSection,\n  getSortBy,\n  getOnlyOnSale\n} from '../../../../modules/routing/selectors'\nimport { MapStateProps } from './NFTFilters.types'\nimport NFTFilters from './NFTFilters'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  section: getSection(state),\n  sortBy: getSortBy(state),\n  onlyOnSale: getOnlyOnSale(state)\n})\n\nconst mapDispatch = () => ({})\n\nexport default connect(mapState, mapDispatch)(NFTFilters)\n","import React from 'react'\n\nimport { Vendors } from '../../../modules/vendor/types'\nimport { NFTFilters as DecentralandNFTFilters } from '../decentraland/NFTFilters'\nimport { NFTFilters as SuperRareNFTFilters } from '../super_rare/NFTFilters'\nimport { NFTFilters as MakersPlaceNFTFilters } from '../makers_place/NFTFilters'\nimport { NFTFilters as KnownOriginNFTFilters } from '../known_origin/NFTFilters'\nimport { Props } from './NFTFilters.types'\nimport './NFTFilters.css'\n\n// TODO: Code on each NFTFilters can be extracted\nconst NFTFilters = (props: Props) => {\n  const { vendor, onBrowse } = props\n\n  switch (vendor) {\n    case Vendors.SUPER_RARE:\n      return <SuperRareNFTFilters onBrowse={onBrowse} />\n    case Vendors.MAKERS_PLACE:\n      return <MakersPlaceNFTFilters onBrowse={onBrowse} />\n    case Vendors.KNOWN_ORIGIN:\n      return <KnownOriginNFTFilters onBrowse={onBrowse} />\n    case Vendors.DECENTRALAND:\n    default:\n      return <DecentralandNFTFilters onBrowse={onBrowse} />\n  }\n}\n\nexport default React.memo(NFTFilters)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../modules/reducer'\nimport { browse } from '../../../modules/routing/actions'\nimport { getVendor } from '../../../modules/routing/selectors'\nimport {\n  MapStateProps,\n  MapDispatch,\n  MapDispatchProps\n} from './NFTFilters.types'\nimport NFTFilters from './NFTFilters'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  vendor: getVendor(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onBrowse: options => dispatch(browse(options))\n})\n\nexport default connect(mapState, mapDispatch)(NFTFilters)\n","import React, { useCallback, useEffect } from 'react'\nimport { Container, Page, Responsive } from 'decentraland-ui'\n\nimport { getDefaultOptionsByView } from '../../modules/routing/search'\nimport { View } from '../../modules/ui/types'\nimport { Atlas } from '../Atlas'\nimport { AccountSidebar } from '../AccountSidebar'\nimport { NFTList } from '../NFTList'\nimport { VendorStrip } from '../VendorStrip'\nimport { Row } from '../Layout/Row'\nimport { Column } from '../Layout/Column'\nimport { NFTFilters } from '../Vendor/NFTFilters'\nimport { NFTSidebar } from '../Vendor/NFTSidebar'\nimport { Props } from './NFTBrowse.types'\nimport './NFTBrowse.css'\n\nconst NFTBrowse = (props: Props) => {\n  const {\n    vendor,\n    view,\n    isMap,\n    isFullscreen,\n    address,\n    onSetView,\n    onFetchNFTsFromRoute,\n    onBrowse,\n    showOnSale\n  } = props\n\n  const { onlyOnSale } = getDefaultOptionsByView(view)\n\n  // Kick things off\n  useEffect(() => {\n    onSetView(view)\n\n    onFetchNFTsFromRoute({\n      vendor,\n      view,\n      address,\n      onlyOnSale\n    })\n    // eslint-disable-next-line\n  }, [vendor, onFetchNFTsFromRoute])\n\n  // handlers\n  const handleSetFullscreen = useCallback(\n    () => onBrowse({ isMap: true, isFullscreen: true }),\n    [onBrowse]\n  )\n\n  // classes\n  let classes = ['NFTBrowse']\n  if (isMap) {\n    classes.push('is-map')\n  }\n\n  return (\n    <Page className={classes.join(' ')} isFullscreen={isFullscreen}>\n      <Row>\n        {isFullscreen ? null : (\n          <Column align=\"left\" className=\"sidebar\">\n            <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n              {view === View.ACCOUNT ? (\n                <AccountSidebar address={address!} />\n              ) : (\n                <NFTSidebar />\n              )}\n            </Responsive>\n          </Column>\n        )}\n\n        <Column align=\"right\" grow={true}>\n          {view === View.ACCOUNT && !isFullscreen ? (\n            <VendorStrip address={address!} />\n          ) : null}\n          {isMap && isFullscreen ? (\n            <div className=\"blur-background\">\n              <Container>\n                <NFTFilters />\n              </Container>\n            </div>\n          ) : (\n            <NFTFilters />\n          )}\n          {isMap ? (\n            <div className=\"Atlas\">\n              <Atlas withNavigation withPopup showOnSale={showOnSale} />\n              <div\n                className=\"fullscreen-button\"\n                onClick={handleSetFullscreen}\n              />\n            </div>\n          ) : (\n            <NFTList />\n          )}\n        </Column>\n      </Row>\n    </Page>\n  )\n}\n\nexport default React.memo(NFTBrowse)\n","import { connect } from 'react-redux'\nimport { isLoadingType } from 'decentraland-dapps/dist/modules/loading/selectors'\n\nimport { RootState } from '../../modules/reducer'\nimport { setView } from '../../modules/ui/actions'\nimport { browse, fetchNFTsFromRoute } from '../../modules/routing/actions'\nimport { FETCH_NFTS_REQUEST } from '../../modules/nft/actions'\nimport { getLoading } from '../../modules/nft/selectors'\nimport {\n  getIsFullscreen,\n  getIsMap,\n  getOnlyOnSale\n} from '../../modules/routing/selectors'\nimport { MapDispatch, MapDispatchProps, MapStateProps } from './NFTBrowse.types'\nimport NFTBrowse from './NFTBrowse'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  isMap: getIsMap(state),\n  isFullscreen: getIsFullscreen(state),\n  showOnSale: getOnlyOnSale(state),\n  isLoading: isLoadingType(getLoading(state), FETCH_NFTS_REQUEST)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onSetView: view => dispatch(setView(view)),\n  onFetchNFTsFromRoute: options => dispatch(fetchNFTsFromRoute(options)),\n  onBrowse: options => dispatch(browse(options))\n})\n\nexport default connect(mapState, mapDispatch)(NFTBrowse)\n","import React from 'react'\n\nimport { isVendor, isPartner } from '../../modules/vendor/utils'\nimport { Vendors } from '../../modules/vendor/types'\nimport { View } from '../../modules/ui/types'\nimport { NavigationTab } from '../Navigation/Navigation.types'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Navigation } from '../Navigation'\nimport { NFTBrowse } from '../NFTBrowse'\nimport { Props } from './BrowsePage.types'\n\nconst BrowsePage = (props: Props) => {\n  const { isFullscreen } = props\n  const vendor = isVendor(props.vendor) ? props.vendor : Vendors.DECENTRALAND\n\n  const activeTab = isPartner(vendor)\n    ? NavigationTab.PARTNER\n    : NavigationTab.BROWSE\n\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Navigation activeTab={activeTab} isFullscreen={isFullscreen} />\n      <NFTBrowse vendor={vendor} view={View.MARKET} />\n      <Footer isFullscreen={isFullscreen} />\n    </>\n  )\n}\n\nexport default React.memo(BrowsePage)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../modules/reducer'\nimport { getIsFullscreen, getVendor } from '../../modules/routing/selectors'\nimport { MapStateProps } from './BrowsePage.types'\nimport BrowsePage from './BrowsePage'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  vendor: getVendor(state),\n  isFullscreen: getIsFullscreen(state)\n})\n\nconst mapDispatch = () => ({})\n\nexport default connect(mapState, mapDispatch)(BrowsePage)\n","import React from 'react'\n\nimport { Props } from './PageHeader.types'\nimport './PageHeader.css'\n\nconst PageHeader = (props: Props) => (\n  <div className=\"PageHeader\" style={props.style}>\n    {props.children}\n  </div>\n)\n\nexport default React.memo(PageHeader)\n","import React, { useEffect } from 'react'\nimport { Page, Loader } from 'decentraland-ui'\nimport { Profile } from 'decentraland-dapps/dist/containers'\n\nimport { Navbar } from '../Navbar'\nimport { PageHeader } from '../PageHeader'\nimport { Footer } from '../Footer'\nimport { NFTBrowse } from '../NFTBrowse'\nimport { Navigation } from '../Navigation'\nimport { NavigationTab } from '../Navigation/Navigation.types'\nimport { locations } from '../../modules/routing/locations'\nimport { View } from '../../modules/ui/types'\nimport { Props } from './AccountPage.types'\nimport { Column } from '../Layout/Column'\nimport './AccountPage.css'\n\nconst AccountPage = (props: Props) => {\n  const {\n    address,\n    vendor,\n    wallet,\n    isConnecting,\n    onRedirect,\n    isFullscreen\n  } = props\n\n  const isCurrentAccount =\n    address === undefined || (wallet && wallet.address === address)\n\n  // Redirect to signIn if trying to access current account without a wallet\n  useEffect(() => {\n    if (isCurrentAccount && !isConnecting && !wallet) {\n      onRedirect(locations.signIn())\n    }\n  }, [isCurrentAccount, isConnecting, wallet, onRedirect])\n\n  return (\n    <div className=\"AccountPage\">\n      <Navbar isFullscreen />\n      <Navigation\n        isFullscreen={!isCurrentAccount || isFullscreen}\n        activeTab={isCurrentAccount ? NavigationTab.MY_ASSETS : undefined}\n      />\n      {isCurrentAccount ? (\n        isConnecting || !wallet ? (\n          <Page>\n            <Loader size=\"massive\" active />\n          </Page>\n        ) : (\n          <NFTBrowse\n            vendor={vendor}\n            address={wallet.address}\n            view={View.ACCOUNT}\n          />\n        )\n      ) : address !== undefined ? (\n        <>\n          <PageHeader>\n            <Column>\n              <Profile\n                address={address}\n                size=\"massive\"\n                imageOnly\n                inline={false}\n              />\n              <div className=\"profile-name\">\n                <Profile address={address} textOnly inline={false} />\n              </div>\n            </Column>\n          </PageHeader>\n\n          <NFTBrowse vendor={vendor} address={address} view={View.ACCOUNT} />\n        </>\n      ) : null}\n      <Footer isFullscreen={isFullscreen} />\n    </div>\n  )\n}\n\nexport default React.memo(AccountPage)\n","import { connect } from 'react-redux'\nimport { replace } from 'connected-react-router'\nimport { RouteComponentProps } from 'react-router'\n\nimport { RootState } from '../../modules/reducer'\nimport { getIsFullscreen, getVendor } from '../../modules/routing/selectors'\nimport { getWallet, isConnecting } from '../../modules/wallet/selectors'\nimport {\n  Params,\n  MapStateProps,\n  MapDispatch,\n  MapDispatchProps\n} from './AccountPage.types'\nimport AccountPage from './AccountPage'\n\nconst mapState = (\n  state: RootState,\n  ownProps: RouteComponentProps<Params>\n): MapStateProps => {\n  const { address } = ownProps.match.params\n\n  return {\n    address: address?.toLowerCase(),\n    vendor: getVendor(state),\n    wallet: getWallet(state),\n    isConnecting: isConnecting(state),\n    isFullscreen: getIsFullscreen(state)\n  }\n}\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onRedirect: path => dispatch(replace(path))\n})\n\nexport default connect(mapState, mapDispatch)(AccountPage)\n","import React from 'react'\nimport { default as SignIn } from 'decentraland-dapps/dist/containers/SignInPage'\nimport { Page } from 'decentraland-ui'\n\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport './SignInPage.css'\n\nconst SignInPage = () => {\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Page className=\"SignInPage\" isFullscreen>\n        <SignIn />\n      </Page>\n      <Footer isFullscreen />\n    </>\n  )\n}\n\nexport default React.memo(SignInPage)\n","import { createSelector } from 'reselect'\nimport { isPending } from 'decentraland-dapps/dist/modules/transaction/utils'\nimport { Transaction } from 'decentraland-dapps/dist/modules/transaction/types'\nimport { RootState } from '../reducer'\nimport { getTransactionsByType } from '../transaction/selectors'\nimport { getAddress } from '../wallet/selectors'\nimport { ALLOW_TOKEN_SUCCESS, APPROVE_TOKEN_SUCCESS } from './actions'\nimport { AuthorizationState, EMPTY_ADDRESS_STATE } from './reducer'\nimport { Authorizations } from './types'\n\nexport const getState = (state: RootState) => state.authorization\nexport const getData = (state: RootState) => getState(state).data\nexport const getLoading = (state: RootState) => getState(state).loading\nexport const isLoading = (state: RootState) => getLoading(state).length > 0\nexport const getError = (state: RootState) => getState(state).error\n\nexport const getAllowTransactions = (state: RootState) =>\n  getTransactionsByType(state, getAddress(state) || '', ALLOW_TOKEN_SUCCESS)\nexport const getApproveTransactions = (state: RootState) =>\n  getTransactionsByType(state, getAddress(state) || '', APPROVE_TOKEN_SUCCESS)\n\nexport const getAuthorizations = createSelector<\n  RootState,\n  AuthorizationState['data'],\n  string | undefined,\n  Authorizations\n>(getData, getAddress, (data, address) =>\n  address && address in data ? data[address] : EMPTY_ADDRESS_STATE\n)\n\nexport const getPendingTransactions = createSelector<\n  RootState,\n  Transaction[],\n  Transaction[],\n  Transaction[]\n>(\n  getAllowTransactions,\n  getApproveTransactions,\n  (allowTransactions, approveTransactions) =>\n    [...allowTransactions, ...approveTransactions].filter(tx =>\n      isPending(tx.status)\n    )\n)\n","import { Transaction } from 'decentraland-dapps/dist/modules/transaction/types'\n\nexport function hasTransactionPending(\n  transactions: Transaction[],\n  contractAddress: string,\n  tokenContractAddress: string\n) {\n  return transactions.some(\n    (transaction: any) =>\n      transaction.payload.contractAddress === contractAddress &&\n      transaction.payload.tokenContractAddress === tokenContractAddress\n  )\n}\n","import React, { useCallback } from 'react'\nimport { Link } from 'react-router-dom'\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { TransactionLink } from 'decentraland-dapps/dist/containers'\nimport { Form, CheckboxProps, Radio, Loader, Popup } from 'decentraland-ui'\nimport { contractSymbols } from '../../../modules/contract/utils'\nimport { locations } from '../../../modules/routing/locations'\nimport { hasTransactionPending } from '../../../modules/transaction/utils'\nimport { Props } from './Authorization.types'\nimport './Authorization.css'\n\nconst Authorizations = (props: Props) => {\n  const {\n    checked,\n    tokenContractAddress,\n    contractAddress,\n    pendingTransactions,\n    onChange\n  } = props\n\n  const handleOnChange = useCallback(\n    (tokenContractAddress: string, isChecked: boolean) =>\n      onChange(isChecked, contractAddress, tokenContractAddress),\n    [contractAddress, onChange]\n  )\n\n  return (\n    <div className=\"Authorization\">\n      <Form.Field\n        key={tokenContractAddress}\n        className={\n          hasTransactionPending(\n            pendingTransactions,\n            contractAddress,\n            tokenContractAddress\n          )\n            ? 'is-pending'\n            : ''\n        }\n      >\n        <Popup\n          content={t('settings_page.pending_tx')}\n          position=\"top left\"\n          trigger={\n            <Link to={locations.activity()} className=\"loader-tooltip\">\n              <Loader active size=\"mini\" />\n            </Link>\n          }\n        />\n        <Radio\n          checked={checked}\n          label={contractSymbols[tokenContractAddress]}\n          onClick={(_, data: CheckboxProps) =>\n            handleOnChange(tokenContractAddress, !!data.checked)\n          }\n        />\n        <div className=\"radio-description secondary-text\">\n          <T\n            id=\"authorization.authorize\"\n            values={{\n              contract_link: (\n                <TransactionLink address={contractAddress} txHash=\"\">\n                  {contractSymbols[contractAddress]}\n                </TransactionLink>\n              ),\n              symbol: contractSymbols[tokenContractAddress]\n            }}\n          />\n        </div>\n      </Form.Field>\n    </div>\n  )\n}\n\nexport default React.memo(Authorizations)\n","import React, { useState, useEffect, useCallback } from 'react'\n// import { Network } from '@dcl/schemas'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Footer } from 'decentraland-dapps/dist/containers'\nimport { isMobile } from 'decentraland-dapps/dist/lib/utils'\nimport { Page, Grid, Blockie, Mana, Loader, Form } from 'decentraland-ui'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { locations } from '../../modules/routing/locations'\nimport { contractAddresses } from '../../modules/contract/utils'\nimport { hasAuthorization } from '../../modules/authorization/utils'\nimport { shortenAddress } from '../../modules/wallet/utils'\nimport { AuthorizationType } from '../AuthorizationModal/AuthorizationModal.types'\nimport { Navbar } from '../Navbar'\nimport { Navigation } from '../Navigation'\nimport { Authorization } from './Authorization'\nimport { Props } from './SettingsPage.types'\nimport './SettingsPage.css'\nimport { Network } from '@dcl/schemas'\n\nconst BUY_MANA_URL = process.env.REACT_APP_BUY_MANA_URL\n\nconst SettingsPage = (props: Props) => {\n  const {\n    wallet,\n    authorizations,\n    pendingAllowTransactions,\n    pendingApproveTransactions,\n    isLoadingAuthorization,\n    isConnecting,\n    onAllowToken,\n    onApproveToken,\n    onNavigate\n  } = props\n\n  const [hasCopiedText, setHasCopiedText] = useState(false)\n  const [timeoutId, setTimeoutId] = useState<NodeJS.Timeout | undefined>(\n    undefined\n  )\n\n  const handleOnCopy = useCallback(() => {\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n    setHasCopiedText(true)\n    const newTimeoutId = setTimeout(() => setHasCopiedText(false), 1200)\n    setTimeoutId(newTimeoutId)\n  }, [timeoutId])\n\n  useEffect(() => {\n    if (!isConnecting && !wallet) {\n      onNavigate(locations.signIn())\n    }\n  }, [isConnecting, wallet, onNavigate])\n  console.log('Authorizations!!!!!!!', authorizations);\n  const hasEmptyAuthorizations =\n    authorizations === undefined || Object.keys(authorizations).length === 0\n\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Navigation />\n      <Page className=\"SettingsPage\">\n        {isConnecting ? (\n          <Loader size=\"massive\" active />\n        ) : wallet ? (\n          <Grid>\n            <Grid.Row>\n              <Grid.Column\n                className=\"left-column secondary-text\"\n                computer={4}\n                mobile={16}\n              >\n                {t('global.address')}\n              </Grid.Column>\n              <Grid.Column computer={12} mobile={16}>\n                <div className=\"blockie-container\">\n                  <Blockie seed={wallet.address} scale={12} />\n                </div>\n                <div className=\"address-container\">\n                  <div className=\"address\">\n                    {isMobile()\n                      ? shortenAddress(wallet.address)\n                      : wallet.address}\n                  </div>\n                  <CopyToClipboard text={wallet.address} onCopy={handleOnCopy}>\n                    {hasCopiedText ? (\n                      <span className=\"copy-text\">\n                        {t('settings_page.copied')}\n                      </span>\n                    ) : (\n                      <span className=\"copy-text link\">\n                        {t('settings_page.copy_address')}\n                      </span>\n                    )}\n                  </CopyToClipboard>\n                </div>\n              </Grid.Column>\n            </Grid.Row>\n\n            <Grid.Row>\n              <Grid.Column\n                className=\"left-column secondary-text\"\n                computer={4}\n                mobile={16}\n              >\n                {t('global.balance')}\n              </Grid.Column>\n              <Grid.Column computer={12} mobile={16}>\n                <div className=\"balance\">\n                  {console.log('MANA_obj:', wallet)}\n                  <Mana inline>\n                    {parseInt(\n                      wallet.networks[Network.BSC].mana.toFixed(0),\n                      10\n                    ).toLocaleString()}\n                  </Mana>\n                  {BUY_MANA_URL ? (\n                    <a\n                      className=\"buy-more\"\n                      href={BUY_MANA_URL}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {t('settings_page.buy_more_mana')}\n                    </a>\n                  ) : null}\n                </div>\n              </Grid.Column>\n            </Grid.Row>\n\n            <Grid.Row>\n              <Grid.Column\n                className=\"left-column secondary-text\"\n                computer={4}\n                mobile={16}\n              >\n                {t('settings_page.authorizations')}\n              </Grid.Column>\n              <Grid.Column computer={12} mobile={16}>\n                {isLoadingAuthorization ? (\n                  <Loader size=\"massive\" active />\n                ) : (\n                  <div className=\"authorization-checks-container\">\n                    {hasEmptyAuthorizations ? (\n                      <div className=\"authorization-checks\">\n                        <p className=\"danger-text\">\n                          {t('settings_page.authorization_error')}\n                          <br />\n                          {t('settings_page.authorization_error_contact')}\n                        </p>\n                      </div>\n                    ) : (\n                      <Form>\n                        <div className=\"authorization-checks\">\n                          <label className=\"secondary-text\">\n                            {t('settings_page.for_buying')}\n                          </label>\n                          <Authorization\n                            checked={hasAuthorization(\n                              authorizations!,\n                              contractAddresses.Marketplace,\n                              contractAddresses.MANAToken,\n                              AuthorizationType.ALLOWANCE\n                            )}\n                            contractAddress={contractAddresses.Marketplace}\n                            tokenContractAddress={contractAddresses.MANAToken}\n                            pendingTransactions={pendingAllowTransactions}\n                            onChange={onAllowToken}\n                          />\n                          <Authorization\n                            checked={hasAuthorization(\n                              authorizations!,\n                              contractAddresses.MarketplaceAdapter,\n                              contractAddresses.MANAToken,\n                              AuthorizationType.ALLOWANCE\n                            )}\n                            contractAddress={\n                              contractAddresses.MarketplaceAdapter\n                            }\n                            tokenContractAddress={contractAddresses.MANAToken}\n                            pendingTransactions={pendingAllowTransactions}\n                            onChange={onAllowToken}\n                          />\n                        </div>\n\n                        <div className=\"authorization-checks\">\n                          <label className=\"secondary-text\">\n                            {t('settings_page.for_bidding')}\n                          </label>\n                          <Authorization\n                            checked={hasAuthorization(\n                              authorizations!,\n                              contractAddresses.Bids,\n                              contractAddresses.MANAToken,\n                              AuthorizationType.ALLOWANCE\n                            )}\n                            contractAddress={contractAddresses.Bids}\n                            tokenContractAddress={contractAddresses.MANAToken}\n                            pendingTransactions={pendingAllowTransactions}\n                            onChange={onAllowToken}\n                          />\n                        </div>\n\n                        <div className=\"authorization-checks\">\n                          <label className=\"secondary-text\">\n                            {t('settings_page.for_selling')}\n                          </label>\n\n                          {Object.keys(authorizations!.approvals).map(\n                            contractAddress => {\n                              const privilege = authorizations!.approvals[\n                                contractAddress\n                              ]\n                              return !privilege\n                                ? null\n                                : Object.keys(\n                                  privilege\n                                ).map(tokenContractAddress => (\n                                  <Authorization\n                                    key={\n                                      contractAddress + tokenContractAddress\n                                    }\n                                    checked={privilege[tokenContractAddress]}\n                                    contractAddress={contractAddress}\n                                    tokenContractAddress={\n                                      tokenContractAddress\n                                    }\n                                    pendingTransactions={\n                                      pendingApproveTransactions\n                                    }\n                                    onChange={onApproveToken}\n                                  />\n                                ))\n                            }\n                          )}\n                        </div>\n                      </Form>\n                    )}\n                  </div>\n                )}\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        ) : null}\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(SettingsPage)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { Transaction } from 'decentraland-dapps/dist/modules/transaction/types'\nimport { isPending as isTransactionPending } from 'decentraland-dapps/dist/modules/transaction/utils'\n\nimport { RootState } from '../../modules/reducer'\nimport { getWallet, isConnecting } from '../../modules/wallet/selectors'\nimport {\n  getData as getAuthorizationsData,\n  isLoading as isLoadingAuthorization,\n  getAllowTransactions,\n  getApproveTransactions\n} from '../../modules/authorization/selectors'\nimport {\n  allowTokenRequest,\n  approveTokenRequest\n} from '../../modules/authorization/actions'\nimport {\n  MapStateProps,\n  MapDispatch,\n  MapDispatchProps\n} from './SettingsPage.types'\nimport SettingsPage from './SettingsPage'\n\nconst mapState = (state: RootState): MapStateProps => {\n  const wallet = getWallet(state)\n  console.log('WALLET state:', state, 'THE wallet ## :', wallet);\n\n  let authorizations = undefined\n  let pendingAllowTransactions: Transaction[] = []\n  let pendingApproveTransactions: Transaction[] = []\n  if (wallet) {\n    const allAuthorizations = getAuthorizationsData(state)\n    authorizations = allAuthorizations[wallet.address]\n\n    pendingAllowTransactions = getAllowTransactions(\n      state\n    ).filter((transaction: Transaction) =>\n      isTransactionPending(transaction.status)\n    )\n    pendingApproveTransactions = getApproveTransactions(\n      state\n    ).filter((transaction: Transaction) =>\n      isTransactionPending(transaction.status)\n    )\n  }\n\n  return {\n    wallet,\n    authorizations,\n    pendingAllowTransactions,\n    pendingApproveTransactions,\n    isLoadingAuthorization: isLoadingAuthorization(state),\n    isConnecting: isConnecting(state)\n  }\n}\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onAllowToken: (\n    isAllowed: boolean,\n    contractName: string,\n    tokenContractName: string\n  ) => dispatch(allowTokenRequest(isAllowed, contractName, tokenContractName)),\n  onApproveToken: (\n    isApproved: boolean,\n    contractName: string,\n    tokenContractName: string\n  ) =>\n    dispatch(approveTokenRequest(isApproved, contractName, tokenContractName)),\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(SettingsPage)\n","import React, { useEffect } from 'react'\nimport { Props } from './NFTProvider.types'\nimport './NFTProvider.css'\n\nconst NFTProvider = (props: Props) => {\n  const {\n    nft,\n    order,\n    isLoading,\n    children,\n    onFetchNFT,\n    contractAddress,\n    tokenId\n  } = props\n\n  useEffect(() => {\n    if (!nft && contractAddress && tokenId) {\n      onFetchNFT(contractAddress, tokenId)\n    }\n  }, [nft, contractAddress, tokenId, onFetchNFT])\n\n  return <>{children(nft, order, isLoading)}</>\n}\n\nexport default React.memo(NFTProvider)\n","import { connect } from 'react-redux'\nimport { isLoadingType } from 'decentraland-dapps/dist/modules/loading/selectors'\nimport { RootState } from '../../modules/reducer'\nimport { fetchNFTRequest, FETCH_NFT_REQUEST } from '../../modules/nft/actions'\nimport {\n  getTokenId,\n  getContractAddress,\n  getLoading,\n  getData as getNFTs\n} from '../../modules/nft/selectors'\nimport { getData as getOrders } from '../../modules/order/selectors'\nimport { getNFT } from '../../modules/nft/utils'\nimport {\n  MapDispatch,\n  MapDispatchProps,\n  MapStateProps,\n  OwnProps\n} from './NFTProvider.types'\nimport NFTProvider from './NFTProvider'\nimport { getActiveOrder } from '../../modules/order/utils'\n\nconst mapState = (state: RootState, ownProps: OwnProps): MapStateProps => {\n  const contractAddress = ownProps.contractAddress || getContractAddress(state)\n  const tokenId = ownProps.tokenId || getTokenId(state)\n  const nfts = getNFTs(state)\n  const orders = getOrders(state)\n  const nft = getNFT(contractAddress, tokenId, nfts)\n  const order = getActiveOrder(nft, orders)\n\n  return {\n    tokenId,\n    contractAddress,\n    nft,\n    order,\n    isLoading: isLoadingType(getLoading(state), FETCH_NFT_REQUEST)\n  }\n}\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onFetchNFT: (contractAddress: string, tokenId: string) =>\n    dispatch(fetchNFTRequest(contractAddress, tokenId))\n})\n\nconst mergeProps = (\n  stateProps: MapStateProps,\n  dispatchProps: MapDispatchProps,\n  ownProps: OwnProps\n) => ({\n  ...stateProps,\n  ...dispatchProps,\n  ...ownProps\n})\n\nexport default connect(mapState, mapDispatch, mergeProps)(NFTProvider)\n","import React from 'react'\nimport { Loader } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { NFTProvider } from '../NFTProvider'\nimport { Props } from './NFTProviderPage.types'\n\nconst Loading = () => (\n  <div className=\"nft-center\">\n    <Loader active size=\"huge\" />\n  </div>\n)\n\nconst NotFound = () => (\n  <div className=\"nft-center\">\n    <p className=\"secondary-text\">{t('global.not_found')}&hellip;</p>\n  </div>\n)\n\nconst NFTProviderPage = (props: Props) => {\n  const { isConnecting, children } = props\n  return (\n    <NFTProvider>\n      {(nft, order, isNFTLoading) => {\n        const isLoading = isConnecting || isNFTLoading\n        return (\n          <>\n            {isLoading ? <Loading /> : null}\n            {!isLoading && !nft ? <NotFound /> : null}\n            {!isLoading && nft ? children(nft, order) : null}\n          </>\n        )\n      }}\n    </NFTProvider>\n  )\n}\n\nexport default React.memo(NFTProviderPage)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../modules/reducer'\nimport { isConnecting } from '../../modules/wallet/selectors'\nimport {\n  MapStateProps,\n  MapDispatch,\n  MapDispatchProps\n} from './NFTProviderPage.types'\nimport NFTProviderPage from './NFTProviderPage'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  isConnecting: isConnecting(state)\n})\n\nconst mapDispatch = (_dispatch: MapDispatch): MapDispatchProps => ({})\n\nexport default connect(mapState, mapDispatch)(NFTProviderPage)\n","import React from 'react'\n\nimport { Row } from '../../Layout/Row'\nimport { Column } from '../../Layout/Column'\nimport { Props } from './Title.types'\nimport './Title.css'\n\nconst Title = (props: Props) => (\n  <Row className=\"Title\">\n    <Column align=\"left\" grow={true}>\n      {props.left}\n    </Column>\n    <Column align=\"right\">{props.right}</Column>\n  </Row>\n)\n\nexport default React.memo(Title)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Profile } from 'decentraland-dapps/dist/containers'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { locations } from '../../../modules/routing/locations'\nimport { Props } from './Owner.types'\nimport './Owner.css'\n\nconst Owner = (props: Props) => {\n  const { nft } = props\n  const address = nft.owner\n  return (\n    <div className=\"Owner\">\n      <Link to={locations.account(address, { vendor: nft.vendor })}>\n        <label>{t('nft_page.owner')}</label>\n        <div className=\"blockie-wrapper\">\n          <Profile\n            size=\"large\"\n            address={address}\n            imageOnly\n            hasPopup\n            inline={false}\n          />\n        </div>\n      </Link>\n    </div>\n  )\n}\n\nexport default React.memo(Owner)\n","import React from 'react'\nimport { Props } from './Badge.types'\nimport './Badge.css'\n\nconst Badge = (props: Props) => {\n  const { color, className = '', children } = props\n  return (\n    <div className={`Badge ${className}`} style={{ backgroundColor: color }}>\n      {children}\n    </div>\n  )\n}\n\nexport default React.memo(Badge)\n","import React from 'react'\nimport { Header } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Props } from './Description.types'\nimport './Description.css'\n\nconst Description = (props: Props) => {\n  return props.text ? (\n    <div className=\"Description\">\n      <Header sub>{t('nft_page.description')}</Header>\n      <div className=\"description-text\">{props.text}</div>\n    </div>\n  ) : null\n}\n\nexport default React.memo(Description)\n","import React from 'react'\nimport { Stats, Mana } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { formatMANA } from '../../../lib/mana'\nimport { formatDistanceToNow } from '../../../lib/date'\nimport { isPartner } from '../../../modules/vendor/utils'\nimport { Props } from './OrderDetails.types'\n\nconst OrderDetails = (props: Props) => {\n  const { nft, order } = props\n\n  return (\n    <>\n      {order ? (\n        <Stats title={t('nft_page.price')}>\n          <Mana>{formatMANA(order.price)}</Mana>\n          {isPartner(nft.vendor) ? (\n            <div className=\"secondary-text\">\n              {t('price_change_notice.message')}\n            </div>\n          ) : null}\n        </Stats>\n      ) : null}\n      {order && order.expiresAt ? (\n        <Stats title={t('nft_page.expires')}>\n          {formatDistanceToNow(+order.expiresAt, {\n            addSuffix: true\n          })}\n        </Stats>\n      ) : null}\n    </>\n  )\n}\n\nexport default React.memo(OrderDetails)\n","import { connect } from 'react-redux'\nimport { RootState } from '../../../modules/reducer'\nimport {\n  MapStateProps,\n  MapDispatch,\n  MapDispatchProps\n} from './OrderDetails.types'\nimport { getCurrentOrder } from '../../../modules/order/selectors'\nimport OrderDetails from './OrderDetails'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  order: getCurrentOrder(state)\n})\n\nconst mapDispatch = (_: MapDispatch): MapDispatchProps => ({})\n\nexport default connect(mapState, mapDispatch)(OrderDetails)\n","import { RootState } from '../reducer'\n\nexport const getState = (state: RootState) => state.bid\nexport const getData = (state: RootState) => getState(state).data\nexport const getLoading = (state: RootState) => getState(state).loading\nexport const getError = (state: RootState) => getState(state).error\n","import { createSelector } from 'reselect'\nimport { getData as getBidData } from '../../../bid/selectors'\nimport { RootState } from '../../../reducer'\nimport { BidState } from '../../../bid/reducer'\nimport { Bid } from '../../../bid/types'\nimport { BidUIState } from './reducer'\n\nexport const getState = (state: RootState) => state.ui.nft.bid\n\nexport const getSellerBids = createSelector<\n  RootState,\n  BidUIState,\n  BidState['data'],\n  Bid[]\n>(getState, getBidData, (bid, bidsById) => bid.seller.map(id => bidsById[id]))\n\nexport const getBidderBids = createSelector<\n  RootState,\n  BidUIState,\n  BidState['data'],\n  Bid[]\n>(getState, getBidData, (ui, bidsById) => ui.bidder.map(id => bidsById[id]))\n\nexport const getArchivedBidIds = (state: RootState) => getState(state).archived\n\nexport const getNFTBids = createSelector<\n  RootState,\n  BidUIState,\n  BidState['data'],\n  Bid[]\n>(getState, getBidData, (bid, bidsById) => bid.nft.map(id => bidsById[id]))\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Modal, Button } from 'decentraland-ui'\nimport { T, t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { isOwnedBy } from '../../../modules/nft/utils'\nimport { locations } from '../../../modules/routing/locations'\nimport { VendorFactory } from '../../../modules/vendor'\nimport { Props } from './Actions.types'\n\nconst Actions = (props: Props) => {\n  const { wallet, nft, order, bids } = props\n  const { vendor, contractAddress, tokenId } = nft\n\n  const [showLeavingSiteModal, setShowLeavingSiteModal] = useState(false)\n\n  const { bidService, orderService } = VendorFactory.build(nft.vendor)\n  const isBiddable = bidService !== undefined\n\n  const isOwner = isOwnedBy(nft, wallet)\n\n  const canSell = orderService.canSell()\n  const canBid =\n    !isOwner &&\n    isBiddable &&\n    (!wallet || !bids.some(bid => bid.bidder === wallet.address))\n\n  return (\n    <>\n      {order ? (\n        isOwner && canSell ? (\n          <>\n            <Button\n              as={Link}\n              to={locations.sell(contractAddress, tokenId)}\n              primary\n            >\n              {t('nft_page.update')}\n            </Button>\n            <Button as={Link} to={locations.cancel(contractAddress, tokenId)}>\n              {t('nft_page.cancel_sale')}\n            </Button>\n          </>\n        ) : !isOwner ? (\n          <>\n            <Button\n              as={Link}\n              to={locations.buy(contractAddress, tokenId)}\n              primary\n            >\n              {t('nft_page.buy')}\n            </Button>\n            {canBid ? (\n              <Button as={Link} to={locations.bid(contractAddress, tokenId)}>\n                {t('nft_page.bid')}\n              </Button>\n            ) : null}\n          </>\n        ) : (\n          <Button onClick={() => setShowLeavingSiteModal(true)} primary>\n            {t('nft_page.see_listing')}\n          </Button>\n        )\n      ) : isOwner && canSell ? (\n        <Button as={Link} to={locations.sell(contractAddress, tokenId)} primary>\n          {t('nft_page.sell')}\n        </Button>\n      ) : isOwner && !canSell ? (\n        <Button onClick={() => setShowLeavingSiteModal(true)} primary>\n          {t('nft_page.sell')}\n        </Button>\n      ) : canBid ? (\n        <Button as={Link} to={locations.bid(contractAddress, tokenId)} primary>\n          {t('nft_page.bid')}\n        </Button>\n      ) : null}\n      {isOwner && !order ? (\n        <Button as={Link} to={locations.transfer(contractAddress, tokenId)}>\n          {t('nft_page.transfer')}\n        </Button>\n      ) : null}\n\n      <Modal\n        className=\"LeavingSiteModal\"\n        size=\"small\"\n        open={showLeavingSiteModal}\n        onClose={() => setShowLeavingSiteModal(false)}\n      >\n        <Modal.Header>{t('nft_page.leaving_decentraland')}</Modal.Header>\n        <Modal.Content>\n          <p>\n            <T\n              id=\"nft_page.leaving_decentraland_description\"\n              values={{\n                vendor: t(`vendors.${vendor}`),\n                vendor_link: (\n                  <a href={nft.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {nft.url}\n                  </a>\n                )\n              }}\n            />\n            <br />\n            <br />\n            <small>\n              <i>{t('nft_page.leaving_decentraland_disclaimer')}</i>\n            </small>\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={() => setShowLeavingSiteModal(false)}>\n            {t('global.cancel')}\n          </Button>\n          <Button\n            primary\n            as=\"a\"\n            href={nft.url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            onClick={() => setShowLeavingSiteModal(false)}\n          >\n            {t('global.proceed')}\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </>\n  )\n}\n\nexport default React.memo(Actions)\n","import { connect } from 'react-redux'\n\nimport { RootState } from '../../../modules/reducer'\nimport { getWallet } from '../../../modules/wallet/selectors'\nimport { getCurrentOrder } from '../../../modules/order/selectors'\nimport { getNFTBids } from '../../../modules/ui/nft/bid/selectors'\nimport { MapStateProps } from './Actions.types'\nimport Actions from './Actions'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  wallet: getWallet(state),\n  order: getCurrentOrder(state),\n  bids: getNFTBids(state)\n})\n\nconst mapDispatch = () => ({})\n\nexport default connect(mapState, mapDispatch)(Actions)\n","import React from 'react'\nimport { Header } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { Row } from '../../Layout/Row'\nimport './Highlights.css'\n\nconst Highlights = (props: { children: React.ReactNode }) => {\n  return (\n    <div className=\"Highlights\">\n      <Header sub>{t('highlights.title')}</Header>\n      <Row>{props.children}</Row>\n    </div>\n  )\n}\n\nexport default React.memo(Highlights)\n","import React from 'react'\n\nimport { Row } from '../../Layout/Row'\nimport { Column } from '../../Layout/Column'\nimport { Props } from './Highlight.types'\nimport './Highlight.css'\n\nconst Highlight = (props: Props) => {\n  const { icon, name, description, onClick } = props\n  const classes = ['Highlight']\n  if (onClick) {\n    classes.push('clickable')\n  }\n  return (\n    <Column className={classes.join(' ')} onClick={onClick}>\n      <Row>\n        <Column align=\"left\">{icon}</Column>\n        <Column align=\"right\">\n          <div className=\"name\">{name}</div>\n          {description ? (\n            <div className=\"description\">{description}</div>\n          ) : null}\n        </Column>\n      </Row>\n    </Column>\n  )\n}\n\nexport default React.memo(Highlight)\n","import React from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { getDistanceText } from '../../../modules/proximity/utils'\nimport { Highlights } from '../Highlights'\nimport { Props } from './ProximityHighlights.types'\nimport { Highlight } from '../Highlight'\nimport './ProximityHighlights.css'\nimport { useProximity } from '../../../modules/proximity/hooks'\n\nconst ProximityHighlights = (props: Props) => {\n  const { nft, proximities } = props\n  const proximity = useProximity(nft, proximities)\n\n  return (\n    <div className=\"ProximityHighlights\">\n      {proximity ? (\n        <Highlights>\n          {proximity?.plaza !== undefined ? (\n            <Highlight\n              icon={<div className=\"plaza\" />}\n              name={t('nft_page.plaza')}\n              description={getDistanceText(proximity?.plaza)}\n            />\n          ) : null}\n          {proximity?.road !== undefined ? (\n            <Highlight\n              icon={<div className=\"road\" />}\n              name={t('nft_page.road')}\n              description={getDistanceText(proximity?.road)}\n            />\n          ) : null}\n          {proximity?.district !== undefined ? (\n            <Highlight\n              icon={<div className=\"district\" />}\n              name={t('nft_page.district')}\n              description={getDistanceText(proximity?.district)}\n            />\n          ) : null}\n        </Highlights>\n      ) : null}\n    </div>\n  )\n}\n\nexport default React.memo(ProximityHighlights)\n","import { connect } from 'react-redux'\nimport { RootState } from '../../../modules/reducer'\nimport { getProximities } from '../../../modules/proximity/selectors'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './ProximityHighlights.types'\nimport ProximityHighlights from './ProximityHighlights'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  proximities: getProximities(state)\n})\n\nconst mapDispatch = (_dispatch: MapDispatch): MapDispatchProps => ({})\n\nexport default connect(mapState, mapDispatch)(ProximityHighlights)\n","import { Link } from 'react-router-dom'\nimport React, { useState, useEffect } from 'react'\nimport { Header, Table, Mana, Responsive } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Profile } from 'decentraland-dapps/dist/containers'\nimport dateFnsFormat from 'date-fns/format'\n\nimport { locations } from '../../../modules/routing/locations'\nimport { VendorFactory } from '../../../modules/vendor'\nimport { Bid } from '../../../modules/bid/types'\nimport { Order, OrderStatus } from '../../../modules/order/types'\nimport { formatDistanceToNow } from '../../../lib/date'\nimport { formatMANA } from '../../../lib/mana'\nimport { Props, HistoryEvent, UnionOrderBid } from './TransactionHistory.types'\nimport './TransactionHistory.css'\n\nconst INPUT_FORMAT = 'PPP'\nconst WEEK_IN_MILLISECONDS = 7 * 24 * 60 * 60 * 1000\n\nconst formatEventDate = (updatedAt: string) => {\n  const newUpdatedAt = new Date(+updatedAt * 1000)\n  return Date.now() - newUpdatedAt.getTime() > WEEK_IN_MILLISECONDS\n    ? dateFnsFormat(newUpdatedAt, INPUT_FORMAT)\n    : formatDistanceToNow(newUpdatedAt, { addSuffix: true })\n}\n\nconst formatDateTitle = (updatedAt: string) => {\n  return new Date(+updatedAt * 1000).toLocaleString()\n}\n\nconst sortByUpdatedAt = (a: { updatedAt: string }, b: { updatedAt: string }) =>\n  a.updatedAt > b.updatedAt ? -1 : 1\n\nconst toEvent = (orderOrBid: UnionOrderBid): HistoryEvent => ({\n  from: orderOrBid.owner! || orderOrBid.seller!,\n  to: orderOrBid.buyer! || orderOrBid.bidder!,\n  price: orderOrBid.price!,\n  updatedAt: orderOrBid.updatedAt!\n})\n\nconst TransactionHistory = (props: Props) => {\n  const { nft } = props\n\n  const [orders, setOrders] = useState([] as Order[])\n  const [bids, setBids] = useState([] as Bid[])\n  const [isLoading, setIsLoading] = useState(false)\n\n  // We're doing this outside of redux to avoid having to store all orders when we only care about the last open one\n  useEffect(() => {\n    if (nft) {\n      const { orderService, bidService } = VendorFactory.build(nft.vendor)\n\n      setIsLoading(true)\n      Promise.all([\n        orderService.fetchByNFT(nft),\n        bidService ? bidService.fetchByNFT(nft, OrderStatus.SOLD) : []\n      ])\n        .then(([orders, bids]) => {\n          setOrders(orders)\n          setBids(bids)\n        })\n        .finally(() => setIsLoading(false))\n        .catch(error => {\n          console.error(error)\n        })\n    }\n  }, [nft, setIsLoading, setOrders, setBids])\n\n  const events: HistoryEvent[] = [...orders, ...bids]\n    .sort(sortByUpdatedAt)\n    .map(toEvent)\n\n  return (\n    <div className=\"TransactionHistory\">\n      {isLoading ? null : events.length > 0 ? (\n        <>\n          <Header sub>{t('transaction_history.title')}</Header>\n          <Responsive minWidth={Responsive.onlyComputer.minWidth}>\n            <Table basic=\"very\">\n              <Table.Header>\n                <Table.Row>\n                  <Table.HeaderCell>\n                    {t('transaction_history.from')}\n                  </Table.HeaderCell>\n                  <Table.HeaderCell>\n                    {t('transaction_history.to')}\n                  </Table.HeaderCell>\n                  <Table.HeaderCell>\n                    {t('transaction_history.when')}\n                  </Table.HeaderCell>\n                  <Table.HeaderCell>\n                    {t('transaction_history.price')}\n                  </Table.HeaderCell>\n                </Table.Row>\n              </Table.Header>\n\n              <Table.Body>\n                {events.map((event, index) => (\n                  <Table.Row key={index}>\n                    <Table.Cell>\n                      <Link to={locations.account(event.from)}>\n                        <Profile address={event.from} />\n                      </Link>\n                    </Table.Cell>\n                    <Table.Cell>\n                      <Link to={locations.account(event.to)}>\n                        <Profile address={event.to} />\n                      </Link>\n                    </Table.Cell>\n                    <Table.Cell title={formatDateTitle(event.updatedAt)}>\n                      {formatEventDate(event.updatedAt)}\n                    </Table.Cell>\n                    <Table.Cell>\n                      <Mana inline>{formatMANA(event.price)}</Mana>\n                    </Table.Cell>\n                  </Table.Row>\n                ))}\n              </Table.Body>\n            </Table>\n          </Responsive>\n          <Responsive maxWidth={Responsive.onlyTablet.maxWidth}>\n            <div className=\"mobile-tx-history\">\n              {events.map((event, index) => (\n                <div className=\"mobile-tx-history-row\" key={index}>\n                  <div className=\"price\">\n                    <Mana inline>{formatMANA(event.price)}</Mana>\n                  </div>\n                  <div className=\"when\">{formatEventDate(event.updatedAt)}</div>\n                </div>\n              ))}\n            </div>\n          </Responsive>\n        </>\n      ) : null}\n    </div>\n  )\n}\n\nexport default React.memo(TransactionHistory)\n","import { useEffect, useState } from 'react'\nimport { TokenConverter } from '../vendor/TokenConverter'\nimport { MarketplacePrice } from '../vendor/MarketplacePrice'\nimport { isPartner } from '../vendor/utils'\nimport { Order } from '../order/types'\nimport { getFingerprint } from './estate/utils'\nimport { NFT, NFTCategory } from './types'\n\nexport const useFingerprint = (nft: NFT | null) => {\n  const [fingerprint, setFingerprint] = useState<string>()\n  const [isLoading, setIsLoading] = useState(false)\n\n  useEffect(() => {\n    if (nft) {\n      switch (nft.category) {\n        case NFTCategory.ESTATE: {\n          setIsLoading(true)\n          getFingerprint(nft.tokenId)\n            .then(result => setFingerprint(result))\n            .finally(() => setIsLoading(false))\n            .catch(error =>\n              console.error(\n                `Error getting fingerprint for nft ${nft.tokenId}`,\n                error\n              )\n            )\n          break\n        }\n        default:\n          break\n      }\n    }\n  }, [nft, setFingerprint, setIsLoading])\n\n  return [fingerprint, isLoading] as const\n}\n\nexport const useComputedPrice = (nft: NFT, order: Order | null) => {\n  const [computedPrice, setComputedPrice] = useState<string>()\n  const [percentageIncrease, setPercentageIncrease] = useState(0)\n  const [isAboveMaxPercentage, setIsAboveMaxPercentage] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n\n  useEffect(() => {\n    if (order && isPartner(nft.vendor)) {\n      const tokenConverter = new TokenConverter()\n      const marketPrice = new MarketplacePrice()\n\n      setIsLoading(true)\n      tokenConverter\n        .contractEthToMANA(order.ethPrice!)\n        .then(computedPrice => {\n          const percentage = marketPrice.getPercentageIncrease(\n            computedPrice,\n            order.price\n          )\n\n          setComputedPrice(computedPrice)\n          setPercentageIncrease(percentage)\n          setIsAboveMaxPercentage(\n            marketPrice.isAboveMaxIncreasePercentage(percentage)\n          )\n        })\n        .finally(() => setIsLoading(false))\n        .catch(error =>\n          console.error(\n            `Error getting computed price for nft ${nft.tokenId} from ${nft.vendor}`,\n            error\n          )\n        )\n    }\n  }, [\n    nft,\n    order,\n    setComputedPrice,\n    setPercentageIncrease,\n    setIsAboveMaxPercentage,\n    setIsLoading\n  ])\n\n  return [\n    computedPrice,\n    percentageIncrease,\n    isAboveMaxPercentage,\n    isLoading\n  ] as const\n}\n","import React, { useEffect, useState } from 'react'\nimport { Button, Popup } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { useFingerprint } from '../../../modules/nft/hooks'\nimport {\n  isInsufficientMANA,\n  checkFingerprint\n} from '../../../modules/bid/utils'\nimport { Props } from './AcceptButton.types'\n\nconst AcceptButton = (props: Props) => {\n  const { nft, bid, onClick } = props\n\n  const [fingerprint, isLoadingFingerprint] = useFingerprint(nft)\n  const [notEnoughMana, setNotEnoughMana] = useState(false)\n\n  useEffect(() => {\n    isInsufficientMANA(bid)\n      .then(setNotEnoughMana)\n      .catch(error =>\n        console.error(`Could not get the USD from bidder ${bid.bidder}`, error)\n      )\n  }, [bid])\n\n  const isValidFingerprint = checkFingerprint(bid, fingerprint)\n  const isValidSeller = !!nft && nft.owner === bid.seller\n\n  const isDisabled =\n    !nft ||\n    isLoadingFingerprint ||\n    notEnoughMana ||\n    !isValidFingerprint ||\n    !isValidSeller\n\n  let button = (\n    <Button primary disabled={isDisabled} onClick={onClick}>\n      {t('global.accept')}\n    </Button>\n  )\n\n  if (notEnoughMana) {\n    button = (\n      <Popup\n        content={t('bid.not_enough_mana_on_bid_received')}\n        position=\"top center\"\n        trigger={<div className=\"popup-button\">{button}</div>}\n      />\n    )\n  } else if (!isValidFingerprint) {\n    button = (\n      <Popup\n        content={t('bid.invalid_fingerprint_on_bid_received')}\n        position=\"top center\"\n        trigger={<div className=\"popup-button\">{button}</div>}\n      />\n    )\n  } else if (!isValidSeller) {\n    button = (\n      <Popup\n        content={t('bid.invalid_seller')}\n        position=\"top center\"\n        trigger={<div className=\"popup-button\">{button}</div>}\n      />\n    )\n  }\n\n  return <div className=\"AcceptButton\">{button}</div>\n}\n\nexport default React.memo(AcceptButton)\n","import React, { useEffect, useState } from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { useFingerprint } from '../../../modules/nft/hooks'\nimport {\n  isInsufficientMANA,\n  checkFingerprint\n} from '../../../modules/bid/utils'\nimport { Props } from './WarningMessage.types'\nimport './WarningMessage.css'\n\nconst WarningMessage = (props: Props) => {\n  const { nft, bid } = props\n\n  const [fingerprint] = useFingerprint(nft)\n  const [notEnoughMana, setNotEnoughMana] = useState(false)\n\n  useEffect(() => {\n    isInsufficientMANA(bid)\n      .then(setNotEnoughMana)\n      .catch(error =>\n        console.error(`Could not get the USD from bidder ${bid.bidder}`, error)\n      )\n  }, [bid])\n\n  const isValidFingerprint = checkFingerprint(bid, fingerprint)\n\n  if (notEnoughMana) {\n    return (\n      <div className=\"WarningMessage\">\n        {t('bid.not_enough_mana_on_bid_placed')}\n      </div>\n    )\n  } else if (!isValidFingerprint) {\n    return (\n      <div className=\"WarningMessage\">\n        {t('bid.invalid_fingerprint_on_bid_placed')}\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport default React.memo(WarningMessage)\n","import React, { useCallback } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Loader, Stats, Mana, Button } from 'decentraland-ui'\nimport { Profile } from 'decentraland-dapps/dist/containers'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { locations } from '../../modules/routing/locations'\nimport { addressEquals } from '../../modules/wallet/utils'\nimport { NFTProvider } from '../NFTProvider'\nimport { NFTImage } from '../NFTImage'\nimport { AcceptButton } from './AcceptButton'\nimport { WarningMessage } from './WarningMessage'\nimport { formatMANA } from '../../lib/mana'\nimport { formatDistanceToNow } from '../../lib/date'\nimport { Props } from './Bid.types'\nimport './Bid.css'\n\nconst Bid = (props: Props) => {\n  const {\n    bid,\n    wallet,\n    archivedBidIds,\n    onAccept,\n    onArchive,\n    onUnarchive,\n    onCancel,\n    onUpdate,\n    isArchivable,\n    hasImage\n  } = props\n\n  const isArchived = archivedBidIds.includes(bid.id)\n  const isBidder = !!wallet && addressEquals(wallet.address, bid.bidder)\n  const isSeller = !!wallet && addressEquals(wallet.address, bid.seller)\n\n  const handleAccept = useCallback(() => onAccept(bid), [bid, onAccept])\n\n  return (\n    <div className=\"Bid\">\n      <div className=\"bid-row\">\n        {hasImage ? (\n          <div className=\"image\">\n            <NFTProvider\n              contractAddress={bid.contractAddress}\n              tokenId={bid.tokenId}\n            >\n              {(nft, isLoading) => (\n                <>\n                  {!nft && isLoading ? <Loader active /> : null}\n                  {nft ? (\n                    <Link to={locations.nft(bid.contractAddress, bid.tokenId)}>\n                      <NFTImage nft={nft} />{' '}\n                    </Link>\n                  ) : null}\n                </>\n              )}\n            </NFTProvider>\n          </div>\n        ) : null}\n        <div className=\"wrapper\">\n          <div className=\"info\">\n            <Stats className=\"from\" title={t('bid.from')}>\n              <Link to={locations.account(bid.bidder)}>\n                <Profile address={bid.bidder} />\n              </Link>\n            </Stats>\n            <Stats title={t('bid.price')}>\n              <Mana>{formatMANA(bid.price)}</Mana>\n            </Stats>\n            <Stats title={t('bid.time_left')}>\n              {formatDistanceToNow(+bid.expiresAt)}\n            </Stats>\n          </div>\n          {isBidder || isSeller ? (\n            <div className=\"actions\">\n              {isBidder ? (\n                <>\n                  <Button primary onClick={() => onUpdate(bid)}>\n                    {t('global.update')}\n                  </Button>\n                  <Button onClick={() => onCancel(bid)}>\n                    {t('global.cancel')}\n                  </Button>\n                </>\n              ) : null}\n              {isSeller ? (\n                <>\n                  <NFTProvider\n                    contractAddress={bid.contractAddress}\n                    tokenId={bid.tokenId}\n                  >\n                    {nft => (\n                      <AcceptButton\n                        nft={nft}\n                        bid={bid}\n                        onClick={handleAccept}\n                      />\n                    )}\n                  </NFTProvider>\n\n                  {isArchivable ? (\n                    !isArchived ? (\n                      <Button onClick={() => onArchive(bid)}>\n                        {t('my_bids_page.archive')}\n                      </Button>\n                    ) : (\n                      <Button onClick={() => onUnarchive(bid)}>\n                        {t('my_bids_page.unarchive')}\n                      </Button>\n                    )\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          ) : null}\n        </div>\n      </div>\n      {isBidder ? (\n        <NFTProvider\n          contractAddress={bid.contractAddress}\n          tokenId={bid.tokenId}\n        >\n          {nft => <WarningMessage nft={nft} bid={bid} />}\n        </NFTProvider>\n      ) : null}\n    </div>\n  )\n}\n\nBid.defaultProps = {\n  isArchivable: true,\n  hasImage: true\n}\n\nexport default React.memo(Bid)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../modules/reducer'\nimport { getArchivedBidIds } from '../../modules/ui/nft/bid/selectors'\nimport { locations } from '../../modules/routing/locations'\nimport {\n  cancelBidRequest,\n  archiveBid,\n  unarchiveBid,\n  acceptBidRequest\n} from '../../modules/bid/actions'\nimport { getWallet } from '../../modules/wallet/selectors'\nimport { MapStateProps, MapDispatchProps, MapDispatch } from './Bid.types'\nimport Bid from './Bid'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  wallet: getWallet(state),\n  archivedBidIds: getArchivedBidIds(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onUpdate: bid =>\n    dispatch(push(locations.bid(bid.contractAddress, bid.tokenId))),\n  onCancel: bid => dispatch(cancelBidRequest(bid)),\n  onArchive: bid => dispatch(archiveBid(bid)),\n  onUnarchive: bid => dispatch(unarchiveBid(bid)),\n  onAccept: bid => dispatch(acceptBidRequest(bid))\n})\n\nexport default connect(mapState, mapDispatch)(Bid)\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { Header } from 'decentraland-ui'\nimport { Props } from './Bids.types'\nimport { Bid } from '../../Bid'\nimport './Bids.css'\n\nconst Bids = (props: Props) => {\n  const { nft, bids, onFetchBids } = props\n\n  const [hasFetched, setHasFetched] = useState(false)\n\n  // this is because when you change from one nft detail to another you would still see the previous nft bids\n  const filteredBids = useMemo(\n    () =>\n      bids.filter(\n        bid =>\n          bid.contractAddress === nft.contractAddress &&\n          bid.tokenId === nft.tokenId\n      ),\n    [nft, bids]\n  )\n\n  useEffect(() => {\n    if (!hasFetched) {\n      setHasFetched(true)\n      onFetchBids(nft)\n    }\n  }, [hasFetched, onFetchBids, nft])\n\n  // reset the flag if the nft changes\n  useEffect(() => {\n    if (nft) {\n      setHasFetched(false)\n    }\n  }, [nft])\n\n  return bids.length > 0 ? (\n    <div className=\"Bids\">\n      <Header sub>Bids</Header>\n      <div className=\"list\">\n        {filteredBids.map(bid => (\n          <Bid key={bid.id} bid={bid} isArchivable={false} hasImage={false} />\n        ))}\n      </div>\n    </div>\n  ) : null\n}\n\nexport default React.memo(Bids)\n","import { MapStateProps, MapDispatchProps, MapDispatch } from './Bids.types'\nimport { RootState } from '../../../modules/reducer'\nimport { getNFTBids } from '../../../modules/ui/nft/bid/selectors'\nimport { fetchBidsByNFTRequest } from '../../../modules/bid/actions'\nimport { connect } from 'react-redux'\nimport Bids from './Bids'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  bids: getNFTBids(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onFetchBids: nft => dispatch(fetchBidsByNFTRequest(nft))\n})\n\nexport default connect(mapState, mapDispatch)(Bids)\n","import React from 'react'\nimport { Container, Header } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { buildExplorerUrl } from '../../../modules/nft/parcel/utils'\nimport { getNFTName } from '../../../modules/nft/utils'\nimport { PageHeader } from '../../PageHeader'\nimport { NFTImage } from '../../NFTImage'\nimport { Row } from '../../Layout/Row'\nimport { Column } from '../../Layout/Column'\nimport { Title } from '../Title'\nimport { Owner } from '../Owner'\nimport { Badge } from '../Badge'\nimport { Description } from '../Description'\nimport { OrderDetails } from '../OrderDetails'\nimport { Actions } from '../Actions'\nimport { ProximityHighlights } from '../ProximityHighlights'\nimport { TransactionHistory } from '../TransactionHistory'\nimport { Bids } from '../Bids'\nimport { Props } from './ParcelDetail.types'\nimport './ParcelDetail.css'\n\nconst ParcelDetail = (props: Props) => {\n  const { nft } = props\n  const parcel = nft.data.parcel!\n  const { x, y } = parcel\n\n  return (\n    <>\n      <PageHeader>\n        <NFTImage\n          nft={nft}\n          isDraggable={true}\n          withNavigation={true}\n          hasPopup={true}\n        />\n      </PageHeader>\n      <Container className=\"ParcelDetail\">\n        <Title\n          left={\n            <Header size=\"large\">\n              <div className=\"text\">\n                {getNFTName(nft)}\n                <Badge color=\"#37333d\">\n                  <i className=\"pin\" />\n                  {x},{y}\n                </Badge>\n                <Badge color=\"#1DB954\" className=\"jump-in-badge\">\n                  <a\n                    href={buildExplorerUrl(x, y)}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {t('nft_page.jump')}&nbsp;{t('nft_page.in')}\n                    <i className=\"jump-in-icon\" />\n                  </a>\n                </Badge>\n              </div>\n            </Header>\n          }\n          right={<Owner nft={nft} />}\n        />\n        <Description text={parcel.data?.description} />\n        <Row>\n          <Column align=\"left\" grow={true}>\n            <OrderDetails nft={nft} />\n          </Column>\n          <Column align=\"right\">\n            <Actions nft={nft} />\n          </Column>\n        </Row>\n        <ProximityHighlights nft={nft} />\n        <Bids nft={nft} />\n        <TransactionHistory nft={nft} />\n      </Container>\n    </>\n  )\n}\n\nexport default React.memo(ParcelDetail)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../../modules/reducer'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './ParcelDetail.types'\nimport ParcelDetail from './ParcelDetail'\n\nconst mapState = (_state: RootState): MapStateProps => ({})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(ParcelDetail)\n","import React from 'react'\nimport { Container, Header } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { buildExplorerUrl } from '../../../modules/nft/parcel/utils'\nimport { getNFTName } from '../../../modules/nft/utils'\nimport { PageHeader } from '../../PageHeader'\nimport { NFTImage } from '../../NFTImage'\nimport { Row } from '../../Layout/Row'\nimport { Column } from '../../Layout/Column'\nimport { Title } from '../Title'\nimport { Owner } from '../Owner'\nimport { Badge } from '../Badge'\nimport { Description } from '../Description'\nimport { OrderDetails } from '../OrderDetails'\nimport { Actions } from '../Actions'\nimport { ProximityHighlights } from '../ProximityHighlights'\nimport { TransactionHistory } from '../TransactionHistory'\nimport { Bids } from '../Bids'\nimport { Props } from './EstateDetail.types'\nimport './EstateDetail.css'\n\nconst EstateDetail = (props: Props) => {\n  const { nft } = props\n  const estate = nft.data.estate!\n  const { x, y } = estate.parcels[0]\n  return (\n    <>\n      <PageHeader>\n        <NFTImage\n          nft={nft}\n          isDraggable={true}\n          withNavigation={true}\n          hasPopup={true}\n        />\n      </PageHeader>\n      <Container className=\"EstateDetail\">\n        <Title\n          left={\n            <Header size=\"large\">\n              <div className=\"text\">\n                {getNFTName(nft)}\n                <Badge color=\"#37333d\">\n                  {estate.size.toLocaleString()} LAND\n                </Badge>\n                {estate.size > 0 ? (\n                  <Badge color=\"#1DB954\" className=\"jump-in-badge\">\n                    <a\n                      href={buildExplorerUrl(x, y)}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {t('nft_page.jump')}&nbsp;{t('nft_page.in')}\n                      <i className=\"jump-in-icon\" />\n                    </a>\n                  </Badge>\n                ) : null}\n              </div>\n            </Header>\n          }\n          right={<Owner nft={nft} />}\n        />\n        <Description text={estate.data?.description} />\n        <Row>\n          <Column align=\"left\" grow={true}>\n            <OrderDetails nft={nft} />\n          </Column>\n          <Column align=\"right\">\n            <Actions nft={nft} />\n          </Column>\n        </Row>\n        <ProximityHighlights nft={nft} />\n        <Bids nft={nft} />\n        <TransactionHistory nft={nft} />\n      </Container>\n    </>\n  )\n}\n\nexport default React.memo(EstateDetail)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../../modules/reducer'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './EstateDetail.types'\nimport EstateDetail from './EstateDetail'\n\nconst mapState = (_state: RootState): MapStateProps => ({})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(EstateDetail)\n","import React, { useCallback } from 'react'\nimport { Container, Header, Popup } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport {\n  RARITY_COLOR,\n  BodyShape,\n  WearableGender\n} from '../../../modules/nft/wearable/types'\nimport { getNFTName } from '../../../modules/nft/utils'\nimport { isUnisex, isGender } from '../../../modules/nft/wearable/utils'\nimport { locations } from '../../../modules/routing/locations'\nimport { getSearchWearableSection } from '../../../modules/routing/search'\nimport { Section } from '../../../modules/vendor/decentraland/routing/types'\nimport { PageHeader } from '../../PageHeader'\nimport { NFTImage } from '../../NFTImage'\nimport { Row } from '../../Layout/Row'\nimport { Column } from '../../Layout/Column'\nimport { Title } from '../Title'\nimport { Owner } from '../Owner'\nimport { Description } from '../Description'\nimport { OrderDetails } from '../OrderDetails'\nimport { Actions } from '../Actions'\nimport { Highlight } from '../Highlight'\nimport { Highlights } from '../Highlights'\nimport { Bids } from '../Bids'\nimport { TransactionHistory } from '../TransactionHistory'\nimport { Props } from './WearableDetail.types'\nimport './WearableDetail.css'\n\nconst WearableDetail = (props: Props) => {\n  const { nft, onNavigate } = props\n  const wearable = nft.data.wearable!\n\n  const handleCategoryClick = useCallback(() => {\n    const category = wearable.category\n    const section = getSearchWearableSection(category)\n    if (!section) {\n      throw new Error(`Invalid wearable category ${category}`)\n    }\n    onNavigate(locations.browse({ section }))\n  }, [wearable, onNavigate])\n\n  const handleGenderClick = useCallback(() => {\n    onNavigate(\n      locations.browse({\n        section: Section.WEARABLES,\n        wearableGenders: isGender(wearable, BodyShape.MALE)\n          ? [WearableGender.MALE]\n          : [WearableGender.FEMALE]\n      })\n    )\n  }, [wearable, onNavigate])\n\n  const handleRarityClick = useCallback(() => {\n    onNavigate(\n      locations.browse({\n        section: Section.WEARABLES,\n        wearableRarities: [wearable.rarity]\n      })\n    )\n  }, [wearable, onNavigate])\n\n  const handleUnisexClick = useCallback(() => {\n    onNavigate(\n      locations.browse({\n        section: Section.WEARABLES,\n        wearableGenders: [WearableGender.MALE, WearableGender.FEMALE]\n      })\n    )\n  }, [onNavigate])\n\n  return (\n    <div className=\"WearableDetail\">\n      <PageHeader>\n        <NFTImage nft={nft} />\n      </PageHeader>\n      <Container>\n        <Title\n          left={\n            <Header size=\"large\">\n              <div className=\"text\">\n                {getNFTName(nft)}\n                <Popup\n                  position=\"top center\"\n                  content={t(`wearable.rarity_tooltip.${wearable.rarity}`)}\n                  trigger={\n                    <div\n                      className=\"rarity\"\n                      style={{\n                        backgroundColor: RARITY_COLOR[wearable.rarity]\n                      }}\n                      onClick={handleRarityClick}\n                    >\n                      {t(`wearable.rarity.${wearable.rarity}`)}\n                    </div>\n                  }\n                />\n              </div>\n            </Header>\n          }\n          right={<Owner nft={nft} />}\n        />\n        <Description text={wearable.description} />\n        <Row>\n          <Column align=\"left\" grow={true}>\n            <OrderDetails nft={nft} />\n          </Column>\n          <Column align=\"right\">\n            <Actions nft={nft} />\n          </Column>\n        </Row>\n        <Highlights>\n          <Highlight\n            icon={<div className={wearable.category} />}\n            name={t(`wearable.category.${wearable.category}`)}\n            onClick={handleCategoryClick}\n          />\n          {isUnisex(wearable) ? (\n            <Highlight\n              icon={<div className=\"Unisex\" />}\n              name={t('wearable.body_shape.unisex')}\n              onClick={handleUnisexClick}\n            />\n          ) : (\n            <Highlight\n              icon={<div className={wearable.bodyShapes[0]} />}\n              name={\n                isGender(wearable, BodyShape.MALE)\n                  ? t('wearable.body_shape.male')\n                  : t('wearable.body_shape.female')\n              }\n              onClick={handleGenderClick}\n            />\n          )}\n        </Highlights>\n        <Bids nft={nft} />\n        <TransactionHistory nft={nft} />\n      </Container>\n    </div>\n  )\n}\n\nexport default React.memo(WearableDetail)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../../modules/reducer'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './WearableDetail.types'\nimport EstateDetail from './WearableDetail'\n\nconst mapState = (_state: RootState): MapStateProps => ({})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(EstateDetail)\n","import React from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Container, Header } from 'decentraland-ui'\nimport { getNFTName } from '../../../modules/nft/utils'\nimport { PageHeader } from '../../PageHeader'\nimport { NFTImage } from '../../NFTImage'\nimport { Row } from '../../Layout/Row'\nimport { Column } from '../../Layout/Column'\nimport { Title } from '../Title'\nimport { Owner } from '../Owner'\nimport { Badge } from '../Badge'\nimport { OrderDetails } from '../OrderDetails'\nimport { Actions } from '../Actions'\nimport { Bids } from '../Bids'\nimport { TransactionHistory } from '../TransactionHistory'\nimport { Props } from './ENSDetail.types'\n\nconst ENSDetail = (props: Props) => {\n  const { nft } = props\n  return (\n    <>\n      <PageHeader>\n        <NFTImage nft={nft} showMonospace />\n      </PageHeader>\n      <Container className=\"ENSDetail\">\n        <Title\n          left={\n            <Header size=\"large\">\n              <div className=\"text\">\n                {getNFTName(nft)}\n                <Badge color=\"#37333d\">{t('global.ens')}</Badge>\n              </div>\n            </Header>\n          }\n          right={<Owner nft={nft} />}\n        />\n        <Row>\n          <Column align=\"left\" grow={true}>\n            <OrderDetails nft={nft} />\n          </Column>\n          <Column align=\"right\">\n            <Actions nft={nft} />\n          </Column>\n        </Row>\n        <Bids nft={nft} />\n        <TransactionHistory nft={nft} />\n      </Container>\n    </>\n  )\n}\n\nexport default React.memo(ENSDetail)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../../modules/reducer'\nimport { MapStateProps, MapDispatchProps, MapDispatch } from './ENSDetail.types'\nimport ENSDetail from './ENSDetail'\n\nconst mapState = (_state: RootState): MapStateProps => ({})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(ENSDetail)\n","import React from 'react'\nimport { Container, Header } from 'decentraland-ui'\n\nimport { getNFTName } from '../../../modules/nft/utils'\nimport { PageHeader } from '../../PageHeader'\nimport { NFTImage } from '../../NFTImage'\nimport { Row } from '../../Layout/Row'\nimport { Column } from '../../Layout/Column'\nimport { Title } from '../Title'\nimport { Owner } from '../Owner'\nimport { OrderDetails } from '../OrderDetails'\nimport { Actions } from '../Actions'\nimport { Props } from './PictureFrameDetail.types'\n\nconst PictureFrameDetail = (props: Props) => {\n  const { nft } = props\n\n  return (\n    <>\n      <PageHeader>\n        <NFTImage nft={nft} />\n      </PageHeader>\n      <Container className=\"PictureFrameDetail\">\n        <Title\n          left={<Header size=\"large\">{getNFTName(nft)}</Header>}\n          right={<Owner nft={nft} />}\n        />\n        <Row>\n          <Column align=\"left\" grow={true}>\n            <OrderDetails nft={nft} />\n          </Column>\n          <Column align=\"right\">\n            <Actions nft={nft} />\n          </Column>\n        </Row>\n      </Container>\n    </>\n  )\n}\n\nexport default React.memo(PictureFrameDetail)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../../modules/reducer'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './PictureFrameDetail.types'\nimport PictureFrameDetail from './PictureFrameDetail'\n\nconst mapState = (_state: RootState): MapStateProps => ({})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(PictureFrameDetail)\n","import React from 'react'\nimport { Page } from 'decentraland-ui'\n\nimport { Vendors } from '../../modules/vendor/types'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Navigation } from '../Navigation'\nimport { NFTProviderPage } from '../NFTProviderPage'\nimport { ParcelDetail } from './ParcelDetail'\nimport { EstateDetail } from './EstateDetail'\nimport { WearableDetail } from './WearableDetail'\nimport { ENSDetail } from './ENSDetail'\nimport { PictureFrameDetail } from './PictureFrameDetail'\nimport './NFTPage.css'\n\nconst NFTPage = () => {\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Navigation isFullscreen />\n      <Page className=\"NFTPage\" isFullscreen>\n        <NFTProviderPage>\n          {nft => {\n            // TODO: Move this to components/vendor\n            const { parcel, estate, wearable, ens } = nft.data as any\n            return (\n              <>\n                {parcel ? <ParcelDetail nft={nft} /> : null}\n                {estate ? <EstateDetail nft={nft} /> : null}\n                {wearable ? <WearableDetail nft={nft} /> : null}\n                {ens ? <ENSDetail nft={nft} /> : null}\n                {nft.vendor !== Vendors.DECENTRALAND ? (\n                  <PictureFrameDetail nft={nft} />\n                ) : null}\n              </>\n            )\n          }}\n        </NFTProviderPage>\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(NFTPage)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Loader } from 'decentraland-ui'\nimport { T, t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { locations } from '../../modules/routing/locations'\nimport { Props } from './Wallet.types'\nimport './Wallet.css'\n\nconst Loading = () => (\n  <div className=\"wallet-center\">\n    <Loader active size=\"huge\" />\n  </div>\n)\n\nconst NotConnected = () => (\n  <div className=\"wallet-center\">\n    <p className=\"secondary-text\">\n      <T\n        id=\"wallet.sign_in_required\"\n        values={{\n          sign_in: <Link to={locations.signIn()}>{t('wallet.sign_in')}</Link>\n        }}\n      />\n    </p>\n  </div>\n)\n\nconst Wallet = (props: Props) => {\n  const { wallet, isLoading, children } = props\n  return (\n    <>\n      {isLoading ? <Loading /> : null}\n      {!wallet && !isLoading ? <NotConnected /> : null}\n      {wallet ? children(wallet) : null}\n    </>\n  )\n}\n\nexport default React.memo(Wallet)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../modules/reducer'\nimport { getWallet, isConnecting } from '../../modules/wallet/selectors'\nimport { MapStateProps, MapDispatchProps, MapDispatch } from './Wallet.types'\nimport Wallet from './Wallet'\n\nconst mapState = (state: RootState): MapStateProps => {\n  return {\n    isLoading: isConnecting(state),\n    wallet: getWallet(state)\n  }\n}\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path))\n})\n\nexport default connect(mapState, mapDispatch)(Wallet)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Modal, Button } from 'decentraland-ui'\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { contractNames, contractSymbols } from '../../modules/contract/utils'\nimport { hasAuthorization } from '../../modules/authorization/utils'\nimport { locations } from '../../modules/routing/locations'\nimport { Authorization } from '../SettingsPage/Authorization'\nimport { Props, AuthorizationType } from './AuthorizationModal.types'\n\nconst AuthorizationModal = (props: Props) => {\n  const {\n    open,\n    contractAddress,\n    tokenAddress,\n    type,\n    authorizations,\n    pendingTransactions,\n    onAllow,\n    onApprove,\n    onCancel,\n    onProceed\n  } = props\n\n  const isAuthorized = hasAuthorization(\n    authorizations,\n    contractAddress,\n    tokenAddress,\n    type\n  )\n\n  return (\n    <Modal open={open} size=\"small\" className=\"AuthorizationModal\">\n      <Modal.Header>\n        {t('authorization_modal.title', {\n          token: contractSymbols[tokenAddress]\n        })}\n      </Modal.Header>\n      <Modal.Description>\n        <T\n          id=\"authorization_modal.description\"\n          values={{\n            contract: contractNames[contractAddress],\n            token: contractSymbols[tokenAddress],\n            settings_link: (\n              <Link to={locations.settings()}>{t('global.settings')}</Link>\n            ),\n            br: (\n              <>\n                <br />\n                <br />\n              </>\n            )\n          }}\n        />\n      </Modal.Description>\n      <Modal.Content>\n        <Authorization\n          key={contractAddress}\n          checked={isAuthorized}\n          contractAddress={contractAddress}\n          tokenContractAddress={tokenAddress}\n          pendingTransactions={pendingTransactions}\n          onChange={type === AuthorizationType.ALLOWANCE ? onAllow : onApprove}\n        />\n      </Modal.Content>\n      <Modal.Actions>\n        <Button onClick={onCancel}>{t('global.cancel')}</Button>\n        <Button disabled={!isAuthorized} primary onClick={onProceed}>\n          {t('global.proceed')}\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  )\n}\n\nexport default React.memo(AuthorizationModal)\n","import { connect } from 'react-redux'\nimport { RootState } from '../../modules/reducer'\nimport {\n  allowTokenRequest,\n  approveTokenRequest\n} from '../../modules/authorization/actions'\nimport {\n  getAuthorizations,\n  getPendingTransactions\n} from '../../modules/authorization/selectors'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './AuthorizationModal.types'\nimport AuthorizationModal from './AuthorizationModal'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  authorizations: getAuthorizations(state),\n  pendingTransactions: getPendingTransactions(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onAllow: (isAllowed, contractAddress, tokenAddress) =>\n    dispatch(allowTokenRequest(isAllowed, contractAddress, tokenAddress)),\n  onApprove: (isAllowed, contractAddress, tokenAddress) =>\n    dispatch(approveTokenRequest(isAllowed, contractAddress, tokenAddress))\n})\n\nexport default connect(mapState, mapDispatch)(AuthorizationModal)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { locations } from '../../modules/routing/locations'\nimport { NFTImage } from '../NFTImage'\nimport { Row } from '../Layout/Row'\nimport { Column } from '../Layout/Column'\nimport { Props } from './NFTAction.types'\nimport './NFTAction.css'\n\nconst NFTAction = (props: Props) => {\n  const { nft, children } = props\n  return (\n    <div className=\"NFTAction\">\n      <Link to={locations.nft(nft.contractAddress, nft.tokenId)}>\n        <div className=\"back\" />\n      </Link>\n      <Row>\n        <Column align=\"left\">\n          <div className=\"nft-image-wrapper\">\n            <NFTImage nft={nft} zoom={1} />\n          </div>\n        </Column>\n        <Column align=\"right\">{children}</Column>\n      </Row>\n    </div>\n  )\n}\n\nexport default React.memo(NFTAction)\n","import React, { useState, useCallback, useEffect } from 'react'\nimport { fromWei } from 'web3x-es/utils'\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils'\nimport dateFnsFormat from 'date-fns/format'\nimport { Header, Form, Field, Button, Modal, Mana } from 'decentraland-ui'\n\nimport { toMANA, fromMANA } from '../../../lib/mana'\nimport {\n  INPUT_FORMAT,\n  getDefaultExpirationDate\n} from '../../../modules/order/utils'\nimport { getNFTName, isOwnedBy } from '../../../modules/nft/utils'\nimport { locations } from '../../../modules/routing/locations'\nimport { hasAuthorization } from '../../../modules/authorization/utils'\nimport { contractAddresses } from '../../../modules/contract/utils'\nimport { VendorFactory } from '../../../modules/vendor/VendorFactory'\nimport { AuthorizationType } from '../../AuthorizationModal/AuthorizationModal.types'\nimport { AuthorizationModal } from '../../AuthorizationModal'\nimport { NFTAction } from '../../NFTAction'\nimport { Props } from './SellModal.types'\n\nconst SellModal = (props: Props) => {\n  const {\n    nft,\n    order,\n    wallet,\n    authorizations,\n    isLoading,\n    onNavigate,\n    onCreateOrder\n  } = props\n\n  const isUpdate = order !== null\n  const [price, setPrice] = useState(\n    isUpdate ? toMANA(+fromWei(order!.price, 'ether')) : ''\n  )\n  const [expiresAt, setExpiresAt] = useState(\n    isUpdate && order!.expiresAt\n      ? dateFnsFormat(+order!.expiresAt, INPUT_FORMAT)\n      : getDefaultExpirationDate()\n  )\n  const [confirmPrice, setConfirmPrice] = useState('')\n  const [showConfirm, setShowConfirm] = useState(false)\n\n  const [showAuthorizationModal, setShowAuthorizationModal] = useState(false)\n\n  const handleCreateOrder = useCallback(\n    () => onCreateOrder(nft, fromMANA(price), new Date(expiresAt).getTime()),\n    [nft, price, expiresAt, onCreateOrder]\n  )\n\n  const handleSubmit = useCallback(() => {\n    if (\n      hasAuthorization(\n        authorizations,\n        contractAddresses.Marketplace,\n        nft.contractAddress,\n        AuthorizationType.APPROVAL\n      )\n    ) {\n      handleCreateOrder()\n    } else {\n      setShowAuthorizationModal(true)\n      setShowConfirm(false)\n    }\n  }, [authorizations, nft, handleCreateOrder, setShowAuthorizationModal])\n\n  const handleClose = useCallback(() => setShowAuthorizationModal(false), [\n    setShowAuthorizationModal\n  ])\n\n  const { orderService } = VendorFactory.build(nft.vendor)\n\n  const isInvalidDate = new Date(expiresAt).getTime() < Date.now()\n  const isDisabled =\n    !orderService.canSell() ||\n    !isOwnedBy(nft, wallet) ||\n    fromMANA(price) <= 0 ||\n    isInvalidDate\n\n  // Clear confirm price when closing the confirm modal\n  useEffect(() => {\n    if (!showConfirm) {\n      setConfirmPrice('')\n    }\n  }, [nft, showConfirm, setConfirmPrice])\n\n  return (\n    <NFTAction nft={nft}>\n      <Header size=\"large\">\n        {t(isUpdate ? 'sell_page.update_title' : 'sell_page.title')}\n      </Header>\n      <p className=\"subtitle\">\n        <T\n          id={isUpdate ? 'sell_page.update_subtitle' : 'sell_page.subtitle'}\n          values={{\n            name: <b className=\"primary-text\">{getNFTName(nft)}</b>\n          }}\n        />\n      </p>\n\n      <Form onSubmit={() => setShowConfirm(true)}>\n        <div className=\"form-fields\">\n          <Field\n            label={t('sell_page.price')}\n            type=\"text\"\n            placeholder={toMANA(1000)}\n            value={price}\n            onChange={(_event, props) => {\n              const newPrice = fromMANA(props.value)\n              setPrice(toMANA(newPrice))\n            }}\n          />\n          <Field\n            label={t('sell_page.expiration_date')}\n            type=\"date\"\n            value={expiresAt}\n            onChange={(_event, props) =>\n              setExpiresAt(props.value || getDefaultExpirationDate())\n            }\n            error={isInvalidDate}\n            nft\n            message={isInvalidDate ? t('sell_page.invalid_date') : undefined}\n          />\n        </div>\n        <div className=\"buttons\">\n          <Button\n            onClick={() =>\n              onNavigate(locations.nft(nft.contractAddress, nft.tokenId))\n            }\n          >\n            {t('global.cancel')}\n          </Button>\n          <Button\n            type=\"submit\"\n            primary\n            disabled={isDisabled || isLoading}\n            loading={isLoading}\n          >\n            {t(isUpdate ? 'sell_page.update_submit' : 'sell_page.submit')}\n          </Button>\n        </div>\n      </Form>\n\n      <Modal size=\"small\" open={showConfirm} className=\"ConfirmPriceModal\">\n        <Modal.Header>{t('sell_page.confirm.title')}</Modal.Header>\n        <Form onSubmit={handleSubmit}>\n          <Modal.Content>\n            <T\n              id=\"sell_page.confirm.line_one\"\n              values={{\n                name: <b>{getNFTName(nft)}</b>,\n                amount: <Mana inline>{fromMANA(price).toLocaleString()}</Mana>\n              }}\n            />\n            <br />\n            <T id=\"sell_page.confirm.line_two\" />\n            <Field\n              label={t('sell_page.price')}\n              placeholder={price}\n              value={confirmPrice}\n              onChange={(_event, props) => {\n                const newPrice = fromMANA(props.value)\n                setConfirmPrice(toMANA(newPrice))\n              }}\n            />\n          </Modal.Content>\n          <Modal.Actions>\n            <div\n              className=\"ui button\"\n              onClick={() => {\n                setConfirmPrice('')\n                setShowConfirm(false)\n              }}\n            >\n              {t('global.cancel')}\n            </div>\n            <Button\n              type=\"submit\"\n              primary\n              disabled={fromMANA(price) !== fromMANA(confirmPrice)}\n            >\n              {t('global.proceed')}\n            </Button>\n          </Modal.Actions>\n        </Form>\n      </Modal>\n      <AuthorizationModal\n        open={showAuthorizationModal}\n        contractAddress={contractAddresses.Marketplace}\n        tokenAddress={nft.contractAddress}\n        type={AuthorizationType.APPROVAL}\n        onProceed={handleCreateOrder}\n        onCancel={handleClose}\n      />\n    </NFTAction>\n  )\n}\n\nexport default React.memo(SellModal)\n","import React from 'react'\nimport { Page } from 'decentraland-ui'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Wallet } from '../Wallet'\nimport { NFTProviderPage } from '../NFTProviderPage'\nimport { SellModal } from './SellModal'\nimport { Props } from './SellPage.types'\nimport './SellPage.css'\n\nconst SellPage = (props: Props) => {\n  const { authorizations, isLoading, onNavigate, onCreateOrder } = props\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Page className=\"SellPage\">\n        <Wallet>\n          {wallet => (\n            <NFTProviderPage>\n              {(nft, order) => (\n                <SellModal\n                  nft={nft}\n                  order={order}\n                  wallet={wallet}\n                  authorizations={authorizations}\n                  isLoading={isLoading}\n                  onNavigate={onNavigate}\n                  onCreateOrder={onCreateOrder}\n                />\n              )}\n            </NFTProviderPage>\n          )}\n        </Wallet>\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(SellPage)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../modules/reducer'\nimport { createOrderRequest } from '../../modules/order/actions'\nimport {\n  getAuthorizations,\n  isLoading\n} from '../../modules/authorization/selectors'\nimport { MapStateProps, MapDispatchProps, MapDispatch } from './SellPage.types'\nimport SellPage from './SellPage'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  authorizations: getAuthorizations(state),\n  isLoading: isLoading(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path)),\n  onCreateOrder: (nft, price, expiresAt) =>\n    dispatch(createOrderRequest(nft, price, expiresAt))\n})\n\nexport default connect(mapState, mapDispatch)(SellPage)\n","import React, { useState, useCallback } from 'react'\nimport { Header, Mana, Button } from 'decentraland-ui'\nimport { T, t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { formatMANA } from '../../../lib/mana'\nimport { locations } from '../../../modules/routing/locations'\nimport { isPartner } from '../../../modules/vendor/utils'\nimport { getNFTName } from '../../../modules/nft/utils'\nimport { hasAuthorization } from '../../../modules/authorization/utils'\nimport { contractAddresses } from '../../../modules/contract/utils'\nimport { useFingerprint, useComputedPrice } from '../../../modules/nft/hooks'\nimport { NFTCategory } from '../../../modules/nft/types'\nimport { NFTAction } from '../../NFTAction'\nimport { AuthorizationModal } from '../../AuthorizationModal'\nimport { AuthorizationType } from '../../AuthorizationModal/AuthorizationModal.types'\nimport { Props } from './BuyModal.types'\n\nconst BuyPage = (props: Props) => {\n  const {\n    nft,\n    order,\n    authorizations,\n    isLoading,\n    onNavigate,\n    onExecuteOrder,\n    isOwner,\n    notEnoughMana\n  } = props\n\n  const [fingerprint, isFingerprintLoading] = useFingerprint(nft)\n  const [\n    computedPrice,\n    percentageIncrease,\n    isAboveMaxPercentage\n  ] = useComputedPrice(nft, order)\n  const [showAuthorizationModal, setShowAuthorizationModal] = useState(false)\n  const [wantsToProceed, setWantsToProceed] = useState(false)\n\n  const handleExecuteOrder = useCallback(() => {\n    onExecuteOrder(order!, nft, fingerprint)\n  }, [order, nft, fingerprint, onExecuteOrder])\n\n  // TODO: VendorFactory.build().nftService.getMarketpaceAddress() ??\n  const marketplaceAddress = isPartner(nft.vendor)\n    ? contractAddresses.MarketplaceAdapter\n    : contractAddresses.Marketplace\n\n  const handleToggleWantsToProceed = useCallback(() => {\n    setWantsToProceed(!wantsToProceed)\n  }, [wantsToProceed, setWantsToProceed])\n\n  const handleSubmit = useCallback(() => {\n    if (\n      hasAuthorization(\n        authorizations,\n        marketplaceAddress,\n        contractAddresses.MANAToken,\n        AuthorizationType.ALLOWANCE\n      )\n    ) {\n      handleExecuteOrder()\n    } else {\n      setShowAuthorizationModal(true)\n    }\n  }, [\n    marketplaceAddress,\n    authorizations,\n    handleExecuteOrder,\n    setShowAuthorizationModal\n  ])\n\n  const handleClose = useCallback(() => setShowAuthorizationModal(false), [\n    setShowAuthorizationModal\n  ])\n\n  const isDisabled =\n    !order ||\n    isOwner ||\n    notEnoughMana ||\n    (!fingerprint && order.category === NFTCategory.ESTATE)\n\n  const name = <b>{getNFTName(nft)}</b>\n  const Price = (props: { price: string }) => (\n    <Mana inline>{formatMANA(props.price)}</Mana>\n  )\n\n  let subtitle = null\n  if (!order) {\n    subtitle = <T id={'buy_page.not_for_sale'} values={{ name }} />\n  } else if (\n    !fingerprint &&\n    order.category === NFTCategory.ESTATE &&\n    !isFingerprintLoading\n  ) {\n    subtitle = <T id={'buy_page.no_fingerprint'} />\n  } else if (isOwner) {\n    subtitle = <T id={'buy_page.is_owner'} values={{ name }} />\n  } else if (notEnoughMana) {\n    subtitle = (\n      <T\n        id={'buy_page.not_enough_mana'}\n        values={{ name, amount: <Price price={order.price} /> }}\n      />\n    )\n  } else if (isPartner(nft.vendor) && computedPrice) {\n    subtitle = (\n      <>\n        <T\n          id={'buy_page.subtitle'}\n          values={{\n            name,\n            amount: <Price price={order.price} />\n          }}\n        />\n        {isAboveMaxPercentage ? (\n          <div className=\"error\">\n            {t('buy_page.price_too_high', {\n              category: t(`global.${nft.category}`),\n              percentageIncrease\n            })}\n            <br />\n            {t('buy_page.please_wait')}\n          </div>\n        ) : percentageIncrease > 0 ? (\n          <div>\n            <T\n              id=\"buy_page.actual_price\"\n              values={{\n                computedPrice: <Price price={computedPrice} />\n              }}\n            />\n          </div>\n        ) : null}\n      </>\n    )\n  } else {\n    subtitle = (\n      <T\n        id={'buy_page.subtitle'}\n        values={{\n          name,\n          amount: <Price price={order.price} />\n        }}\n      />\n    )\n  }\n\n  return (\n    <NFTAction nft={nft}>\n      <Header size=\"large\">\n        {t('buy_page.title', { category: t(`global.${nft.category}`) })}\n      </Header>\n      <div className={isDisabled ? 'error' : ''}>{subtitle}</div>\n      <div className=\"buttons\">\n        <Button\n          onClick={() =>\n            onNavigate(locations.nft(nft.contractAddress, nft.tokenId))\n          }\n        >\n          {t('global.cancel')}\n        </Button>\n\n        {isDisabled ||\n        !isAboveMaxPercentage ||\n        (isAboveMaxPercentage && wantsToProceed) ? (\n          <Button\n            primary\n            disabled={isDisabled || isLoading}\n            onClick={handleSubmit}\n            loading={isLoading}\n          >\n            {t('buy_page.buy')}\n          </Button>\n        ) : (\n          <Button\n            primary\n            onClick={handleToggleWantsToProceed}\n            loading={isLoading}\n          >\n            {t('buy_page.proceed_anyways')}\n          </Button>\n        )}\n      </div>\n      <AuthorizationModal\n        open={showAuthorizationModal}\n        contractAddress={marketplaceAddress}\n        tokenAddress={contractAddresses.MANAToken}\n        type={AuthorizationType.ALLOWANCE}\n        onProceed={handleExecuteOrder}\n        onCancel={handleClose}\n      />\n    </NFTAction>\n  )\n}\n\nexport default React.memo(BuyPage)\n","import React from 'react'\nimport { Network } from '@dcl/schemas'\nimport { fromWei } from 'web3x-es/utils'\nimport { Page } from 'decentraland-ui'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Wallet } from '../Wallet'\nimport { NFTProviderPage } from '../NFTProviderPage'\nimport { isOwnedBy } from '../../modules/nft/utils'\nimport { BuyModal } from './BuyModal'\nimport { Props } from './BuyPage.types'\nimport './BuyPage.css'\n\nconst BuyPage = (props: Props) => {\n  const { authorizations, isLoading, onNavigate, onExecuteOrder } = props\n\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Page className=\"BuyPage\">\n        <Wallet>\n          {wallet => (\n            <NFTProviderPage>\n              {(nft, order) => (\n                <BuyModal\n                  nft={nft}\n                  order={order}\n                  authorizations={authorizations}\n                  isLoading={isLoading}\n                  onNavigate={onNavigate}\n                  onExecuteOrder={onExecuteOrder}\n                  isOwner={isOwnedBy(nft, wallet)}\n                  notEnoughMana={\n                    !!order &&\n                    wallet.networks[Network.BSC].mana <\n                    +fromWei(order.price, 'ether')\n                  }\n                />\n              )}\n            </NFTProviderPage>\n          )}\n        </Wallet>\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(BuyPage)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../modules/reducer'\nimport {\n  getAuthorizations,\n  isLoading\n} from '../../modules/authorization/selectors'\nimport { executeOrderRequest } from '../../modules/order/actions'\nimport { MapStateProps, MapDispatchProps, MapDispatch } from './BuyPage.types'\nimport BuyPage from './BuyPage'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  authorizations: getAuthorizations(state),\n  isLoading: isLoading(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path)),\n  onExecuteOrder: (order, nft, fingerprint) =>\n    dispatch(executeOrderRequest(order, nft, fingerprint))\n})\n\nexport default connect(mapState, mapDispatch)(BuyPage)\n","import React, { useState, useCallback } from 'react'\nimport { Network } from '@dcl/schemas'\nimport { Header, Form, Field, Button } from 'decentraland-ui'\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { toMANA, fromMANA } from '../../../lib/mana'\nimport { NFTAction } from '../../NFTAction'\nimport { getNFTName, isOwnedBy } from '../../../modules/nft/utils'\nimport { getDefaultExpirationDate } from '../../../modules/order/utils'\nimport { locations } from '../../../modules/routing/locations'\nimport { hasAuthorization } from '../../../modules/authorization/utils'\nimport { contractAddresses } from '../../../modules/contract/utils'\nimport { useFingerprint } from '../../../modules/nft/hooks'\nimport { AuthorizationType } from '../../AuthorizationModal/AuthorizationModal.types'\nimport { AuthorizationModal } from '../../AuthorizationModal'\nimport { Props } from './BidModal.types'\nimport './BidModal.css'\n\nconst BidModal = (props: Props) => {\n  const { nft, wallet, authorizations, onNavigate, onPlaceBid } = props\n\n  const [price, setPrice] = useState('')\n  const [expiresAt, setExpiresAt] = useState(getDefaultExpirationDate())\n\n  const [fingerprint, isLoading] = useFingerprint(nft)\n\n  const [showAuthorizationModal, setShowAuthorizationModal] = useState(false)\n\n  const handlePlaceBid = useCallback(\n    () => onPlaceBid(nft, fromMANA(price), +new Date(expiresAt), fingerprint),\n    [nft, price, expiresAt, fingerprint, onPlaceBid]\n  )\n\n  const handleSubmit = useCallback(() => {\n    if (\n      hasAuthorization(\n        authorizations,\n        contractAddresses.Bids,\n        contractAddresses.MANAToken,\n        AuthorizationType.ALLOWANCE\n      )\n    ) {\n      handlePlaceBid()\n    } else {\n      setShowAuthorizationModal(true)\n    }\n  }, [authorizations, handlePlaceBid, setShowAuthorizationModal])\n\n  const handleClose = useCallback(() => setShowAuthorizationModal(false), [\n    setShowAuthorizationModal\n  ])\n\n  const isInvalidDate = +new Date(expiresAt) < Date.now()\n  const notEnoughMana =\n    !!price &&\n    !!wallet &&\n    fromMANA(price) > wallet.networks[Network.BSC].mana\n\n  return (\n    <NFTAction nft={nft}>\n      <Header size=\"large\">{t('bid_page.title')}</Header>\n      <p className=\"subtitle\">\n        <T\n          id={'bid_page.subtitle'}\n          values={{\n            name: <b className=\"primary-text\">{getNFTName(nft)}</b>\n          }}\n        />\n      </p>\n      <Form onSubmit={handleSubmit}>\n        <div className=\"form-fields\">\n          <Field\n            label={t('bid_page.price')}\n            placeholder={toMANA(1000)}\n            value={price}\n            onChange={(_event, props) => {\n              const newPrice = fromMANA(props.value)\n              setPrice(toMANA(newPrice))\n            }}\n            error={notEnoughMana}\n            message={notEnoughMana ? t('bid_page.not_enougn_mana') : undefined}\n          />\n          <Field\n            label={t('bid_page.expiration_date')}\n            type=\"date\"\n            value={expiresAt}\n            onChange={(_event, props) =>\n              setExpiresAt(props.value || getDefaultExpirationDate())\n            }\n            error={isInvalidDate}\n            message={isInvalidDate ? t('bid_page.invalid_date') : undefined}\n          />\n        </div>\n        <div className=\"buttons\">\n          <div\n            className=\"ui button\"\n            onClick={() =>\n              onNavigate(locations.nft(nft.contractAddress, nft.tokenId))\n            }\n          >\n            {t('global.cancel')}\n          </div>\n          <Button\n            type=\"submit\"\n            primary\n            disabled={\n              isOwnedBy(nft, wallet) ||\n              fromMANA(price) <= 0 ||\n              isInvalidDate ||\n              notEnoughMana ||\n              isLoading\n            }\n          >\n            {t('bid_page.submit')}\n          </Button>\n        </div>\n      </Form>\n      <AuthorizationModal\n        open={showAuthorizationModal}\n        contractAddress={contractAddresses.Bids}\n        tokenAddress={contractAddresses.MANAToken}\n        type={AuthorizationType.ALLOWANCE}\n        onProceed={handlePlaceBid}\n        onCancel={handleClose}\n      />\n    </NFTAction>\n  )\n}\n\nexport default React.memo(BidModal)\n","import React from 'react'\nimport { Page } from 'decentraland-ui'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Wallet } from '../Wallet'\nimport { NFTProviderPage } from '../NFTProviderPage'\nimport { BidModal } from './BidModal'\nimport { Props } from './BidPage.types'\n\nconst BidPage = (props: Props) => {\n  const { authorizations, onNavigate, onPlaceBid } = props\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Page className=\"BidPage\">\n        <Wallet>\n          {wallet => (\n            <NFTProviderPage>\n              {nft => (\n                <BidModal\n                  nft={nft}\n                  wallet={wallet}\n                  authorizations={authorizations}\n                  onNavigate={onNavigate}\n                  onPlaceBid={onPlaceBid}\n                />\n              )}\n            </NFTProviderPage>\n          )}\n        </Wallet>\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(BidPage)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../modules/reducer'\nimport { getAuthorizations } from '../../modules/authorization/selectors'\nimport { placeBidRequest } from '../../modules/bid/actions'\nimport { MapStateProps, MapDispatchProps, MapDispatch } from './BidPage.types'\nimport BidPage from './BidPage'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  authorizations: getAuthorizations(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path)),\n  onPlaceBid: (nft, price, expiresAt, fingerprint) =>\n    dispatch(placeBidRequest(nft, price, expiresAt, fingerprint))\n})\n\nexport default connect(mapState, mapDispatch)(BidPage)\n","import React from 'react'\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Page, Header, Button, Mana } from 'decentraland-ui'\n\nimport { locations } from '../../modules/routing/locations'\nimport { getNFTName } from '../../modules/nft/utils'\nimport { formatMANA } from '../../lib/mana'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Wallet } from '../Wallet'\nimport { NFTProviderPage } from '../NFTProviderPage'\nimport NFTAction from '../NFTAction/NFTAction'\nimport { Props } from './CancelSalePage.types'\nimport './CancelSalePage.css'\n\nconst CancelSalePage = (props: Props) => {\n  const { onNavigate, onCancelOrder } = props\n\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Page className=\"CancelSalePage\">\n        <Wallet>\n          {wallet => (\n            <NFTProviderPage>\n              {(nft, order) => {\n                let subtitle\n                let isDisabled = false\n                const name = getNFTName(nft)\n                if (!order) {\n                  isDisabled = true\n                  subtitle = (\n                    <T\n                      id=\"cancel_sale_page.not_for_sale\"\n                      values={{ name: <b>{name}</b> }}\n                    />\n                  )\n                } else if (order.owner !== wallet.address) {\n                  isDisabled = true\n                  subtitle = (\n                    <T\n                      id=\"cancel_sale_page.invalid_owner\"\n                      values={{ name: <b>{name}</b> }}\n                    />\n                  )\n                } else {\n                  subtitle = (\n                    <T\n                      id=\"cancel_sale_page.subtitle\"\n                      values={{\n                        name: <b>{name}</b>,\n                        amount: <Mana inline>{formatMANA(order.price)}</Mana>\n                      }}\n                    />\n                  )\n                }\n                return (\n                  <NFTAction nft={nft}>\n                    <Header size=\"large\">{t('cancel_sale_page.title')}</Header>\n                    <div className=\"subtitle\">{subtitle}</div>\n                    <div className=\"buttons\">\n                      <Button\n                        onClick={() =>\n                          onNavigate(\n                            locations.nft(nft.contractAddress, nft.tokenId)\n                          )\n                        }\n                      >\n                        {t('global.cancel')}\n                      </Button>\n                      <Button\n                        primary\n                        disabled={isDisabled}\n                        onClick={() => onCancelOrder(order!, nft)}\n                      >\n                        {t('cancel_sale_page.submit')}\n                      </Button>\n                    </div>\n                  </NFTAction>\n                )\n              }}\n            </NFTProviderPage>\n          )}\n        </Wallet>\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(CancelSalePage)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../modules/reducer'\nimport { cancelOrderRequest } from '../../modules/order/actions'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './CancelSalePage.types'\nimport CancelSalePage from './CancelSalePage'\n\nconst mapState = (_state: RootState): MapStateProps => ({})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path)),\n  onCancelOrder: (order, nft) => dispatch(cancelOrderRequest(order, nft))\n})\n\nexport default connect(mapState, mapDispatch)(CancelSalePage)\n","import React, { useState } from 'react'\nimport { Page, Header, Form, Field, Button } from 'decentraland-ui'\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Wallet } from '../Wallet'\nimport { NFTProviderPage } from '../NFTProviderPage'\nimport { NFTAction } from '../NFTAction'\nimport { locations } from '../../modules/routing/locations'\nimport { getNFTName, isOwnedBy } from '../../modules/nft/utils'\nimport { Props } from './TransferPage.types'\nimport './TransferPage.css'\n\nconst TransferPage = (props: Props) => {\n  const { onNavigate, onTransfer } = props\n\n  const [address, setAddress] = useState('')\n  const [isInvalidAddress, setIsInvalidAddress] = useState(false)\n\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Page className=\"TransferPage\">\n        <Wallet>\n          {wallet => (\n            <NFTProviderPage>\n              {(nft, order) => {\n                let subtitle\n                let isDisabled = !address || isInvalidAddress\n                let canTransfer = true\n                const subtitleClasses = ['subtitle']\n                const name = getNFTName(nft)\n                if (order) {\n                  isDisabled = true\n                  canTransfer = false\n                  subtitleClasses.push('error')\n                  subtitle = (\n                    <T\n                      id=\"transfer_page.for_sale\"\n                      values={{ name: <b>{name}</b> }}\n                    />\n                  )\n                } else if (!isOwnedBy(nft, wallet)) {\n                  isDisabled = true\n                  canTransfer = false\n                  subtitleClasses.push('error')\n                  subtitle = (\n                    <T\n                      id=\"transfer_page.invalid_owner\"\n                      values={{ name: <b>{name}</b> }}\n                    />\n                  )\n                } else {\n                  subtitle = (\n                    <T\n                      id=\"transfer_page.subtitle\"\n                      values={{ name: <b>{name}</b> }}\n                    />\n                  )\n                }\n                return (\n                  <NFTAction nft={nft}>\n                    <Header size=\"large\">\n                      {t('transfer_page.title', {\n                        category: t(`global.${nft.category}`)\n                      })}\n                    </Header>\n                    <div className={subtitleClasses.join(' ')}>{subtitle}</div>\n                    <Form onSubmit={() => onTransfer(nft, address)}>\n                      <div className=\"form-fields\">\n                        <Field\n                          type=\"address\"\n                          error={isInvalidAddress}\n                          message={\n                            isInvalidAddress\n                              ? t('transfer_page.invalid_address')\n                              : undefined\n                          }\n                          label={t('transfer_page.recipient')}\n                          value={address}\n                          placeholder=\"0x...\"\n                          disabled={!canTransfer}\n                          onChange={(_event, props) => {\n                            setAddress(props.value)\n                            const isValid =\n                              !props.value ||\n                              /^0x[a-fA-F0-9]{40}$/g.test(props.value)\n                            setIsInvalidAddress(!isValid)\n                          }}\n                        />\n                      </div>\n                      {canTransfer ? (\n                        <div className=\"warning\">\n                          <T\n                            id=\"transfer_page.warning\"\n                            values={{ br: <br /> }}\n                          />\n                        </div>\n                      ) : null}\n                      <div className=\"buttons\">\n                        <div\n                          className=\"ui button\"\n                          onClick={() =>\n                            onNavigate(\n                              locations.nft(nft.contractAddress, nft.tokenId)\n                            )\n                          }\n                        >\n                          {t('global.cancel')}\n                        </div>\n                        <Button type=\"submit\" primary disabled={isDisabled}>\n                          {t('transfer_page.submit')}\n                        </Button>\n                      </div>\n                    </Form>\n                  </NFTAction>\n                )\n              }}\n            </NFTProviderPage>\n          )}\n        </Wallet>\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(TransferPage)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../modules/reducer'\nimport { transferNFTRequest } from '../../modules/nft/actions'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './TransferPage.types'\nimport TransferPage from './TransferPage'\n\nconst mapState = (_state: RootState): MapStateProps => ({})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path)),\n  onTransfer: (nft, address) => dispatch(transferNFTRequest(nft, address))\n})\n\nexport default connect(mapState, mapDispatch)(TransferPage)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Loader, Mana, Icon } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport {\n  isPending,\n  getTransactionHref\n} from 'decentraland-dapps/dist/modules/transaction/utils'\nimport {\n  TransactionStatus,\n  Transaction\n} from 'decentraland-dapps/dist/modules/transaction/types'\nimport { formatDistanceToNow } from '../../../../lib/date'\nimport { locations } from '../../../../modules/routing/locations'\nimport { NFTImage } from '../../../NFTImage'\nimport { Row } from '../../../Layout/Row'\nimport { Column } from '../../../Layout/Column'\nimport { Props } from './TransactionDetail.types'\nimport './TransactionDetail.css'\n\nconst getHref = (tx: Transaction) => {\n  if (tx.status === null) {\n    return\n  }\n  return getTransactionHref({ txHash: tx.replacedBy || tx.hash })\n}\n\nconst TransactionDetail = (props: Props) => {\n  const { nft, text, tx } = props\n  return (\n    <Row className=\"TransactionDetail\">\n      <Column align=\"left\" grow={true}>\n        <div className=\"image\">\n          {nft === null ? (\n            <Loader active size=\"small\" />\n          ) : nft ? (\n            <Link to={locations.nft(nft.contractAddress, nft.tokenId)}>\n              <NFTImage nft={nft} isSmall />\n            </Link>\n          ) : (\n            <Mana />\n          )}\n        </div>\n        <div className=\"text\">\n          <div className=\"description\">{text}</div>\n          <div className=\"timestamp\">{formatDistanceToNow(tx.timestamp)}.</div>\n        </div>\n      </Column>\n      <Column align=\"right\">\n        <a\n          href={getHref(tx)}\n          className={tx.status ? 'status ' + tx.status : 'status'}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <div className=\"description\">{tx.status || t('global.loading')}</div>\n          {isPending(tx.status) ? (\n            <div className=\"spinner\">\n              <Loader active size=\"mini\" />\n            </div>\n          ) : null}\n          {tx.status === TransactionStatus.REVERTED ? (\n            <Icon name=\"warning sign\" />\n          ) : null}\n          {tx.status === TransactionStatus.CONFIRMED ||\n          tx.status === TransactionStatus.REPLACED ? (\n            <Icon name=\"check\" />\n          ) : null}\n        </a>\n      </Column>\n    </Row>\n  )\n}\n\nexport default React.memo(TransactionDetail)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Mana } from 'decentraland-ui'\nimport { T, t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { TransactionLink, Profile } from 'decentraland-dapps/dist/containers'\n\nimport { contractSymbols } from '../../../modules/contract/utils'\nimport { getNFTName } from '../../../modules/nft/utils'\nimport {\n  APPROVE_TOKEN_SUCCESS,\n  ALLOW_TOKEN_SUCCESS\n} from '../../../modules/authorization/actions'\nimport {\n  CREATE_ORDER_SUCCESS,\n  CANCEL_ORDER_SUCCESS,\n  EXECUTE_ORDER_SUCCESS\n} from '../../../modules/order/actions'\nimport { TRANSFER_NFT_SUCCESS } from '../../../modules/nft/actions'\nimport {\n  PLACE_BID_SUCCESS,\n  ACCEPT_BID_SUCCESS,\n  CANCEL_BID_SUCCESS\n} from '../../../modules/bid/actions'\nimport { locations } from '../../../modules/routing/locations'\nimport { NFTProvider } from '../../NFTProvider'\nimport { TransactionDetail } from './TransactionDetail'\nimport { Props } from './Transaction.types'\n\nconst Transaction = (props: Props) => {\n  const { tx } = props\n  switch (tx.actionType) {\n    case ALLOW_TOKEN_SUCCESS: {\n      const { isAllowed, contractAddress, tokenContractAddress } = tx.payload\n      return (\n        <TransactionDetail\n          text={\n            <T\n              id=\"transaction.detail.approve_token\"\n              values={{\n                action: isAllowed\n                  ? t('transaction.action.approved')\n                  : t('transaction.action.not_approved'),\n                contract: (\n                  <TransactionLink address={contractAddress} txHash=\"\">\n                    {contractSymbols[contractAddress]}\n                  </TransactionLink>\n                ),\n                token: (\n                  <TransactionLink address={tokenContractAddress} txHash=\"\">\n                    {contractSymbols[tokenContractAddress]}\n                  </TransactionLink>\n                )\n              }}\n            />\n          }\n          tx={tx}\n        />\n      )\n    }\n    case APPROVE_TOKEN_SUCCESS: {\n      const { isApproved, contractAddress, tokenContractAddress } = tx.payload\n      return (\n        <TransactionDetail\n          text={\n            <T\n              id=\"transaction.detail.approve_token\"\n              values={{\n                action: isApproved\n                  ? t('transaction.action.approved')\n                  : t('transaction.action.not_approved'),\n                contract: (\n                  <TransactionLink address={contractAddress} txHash=\"\">\n                    {contractSymbols[contractAddress]}\n                  </TransactionLink>\n                ),\n                token: (\n                  <TransactionLink address={tokenContractAddress} txHash=\"\">\n                    {contractSymbols[tokenContractAddress]}\n                  </TransactionLink>\n                )\n              }}\n            />\n          }\n          tx={tx}\n        />\n      )\n    }\n    case CREATE_ORDER_SUCCESS: {\n      const { tokenId, contractAddress, name, price } = tx.payload\n      return (\n        <NFTProvider contractAddress={contractAddress} tokenId={tokenId}>\n          {nft => (\n            <TransactionDetail\n              nft={nft}\n              text={\n                <T\n                  id=\"transaction.detail.create_order\"\n                  values={{\n                    name: (\n                      <Link to={locations.nft(contractAddress, tokenId)}>\n                        {name}\n                      </Link>\n                    ),\n                    price: <Mana inline>{price.toLocaleString()}</Mana>\n                  }}\n                />\n              }\n              tx={tx}\n            />\n          )}\n        </NFTProvider>\n      )\n    }\n    case CANCEL_ORDER_SUCCESS: {\n      const { tokenId, contractAddress, name, price } = tx.payload\n      return (\n        <NFTProvider contractAddress={contractAddress} tokenId={tokenId}>\n          {nft => (\n            <TransactionDetail\n              nft={nft}\n              text={\n                <T\n                  id=\"transaction.detail.cancel_order\"\n                  values={{\n                    name: (\n                      <Link to={locations.nft(contractAddress, tokenId)}>\n                        {name}\n                      </Link>\n                    ),\n                    price: <Mana inline>{price.toLocaleString()}</Mana>\n                  }}\n                />\n              }\n              tx={tx}\n            />\n          )}\n        </NFTProvider>\n      )\n    }\n    case EXECUTE_ORDER_SUCCESS: {\n      const { tokenId, contractAddress, name, price } = tx.payload\n      return (\n        <NFTProvider contractAddress={contractAddress} tokenId={tokenId}>\n          {nft => (\n            <TransactionDetail\n              nft={nft}\n              text={\n                <T\n                  id=\"transaction.detail.execute_order\"\n                  values={{\n                    name: (\n                      <Link to={locations.nft(contractAddress, tokenId)}>\n                        {name}\n                      </Link>\n                    ),\n                    price: <Mana inline>{price.toLocaleString()}</Mana>\n                  }}\n                />\n              }\n              tx={tx}\n            />\n          )}\n        </NFTProvider>\n      )\n    }\n    case TRANSFER_NFT_SUCCESS: {\n      const { tokenId, contractAddress, name, address } = tx.payload\n      return (\n        <NFTProvider contractAddress={contractAddress} tokenId={tokenId}>\n          {nft => (\n            <TransactionDetail\n              nft={nft}\n              text={\n                <T\n                  id=\"transaction.detail.transfer\"\n                  values={{\n                    name: (\n                      <Link to={locations.nft(contractAddress, tokenId)}>\n                        {name}\n                      </Link>\n                    ),\n                    address: (\n                      <Link to={locations.account(address)}>\n                        <Profile address={address} />\n                      </Link>\n                    )\n                  }}\n                />\n              }\n              tx={tx}\n            />\n          )}\n        </NFTProvider>\n      )\n    }\n    case PLACE_BID_SUCCESS: {\n      const { tokenId, contractAddress, price } = tx.payload\n\n      return (\n        <NFTProvider contractAddress={contractAddress} tokenId={tokenId}>\n          {nft => (\n            <TransactionDetail\n              nft={nft}\n              text={\n                <T\n                  id=\"transaction.detail.place_bid\"\n                  values={{\n                    name: (\n                      <Link to={locations.nft(contractAddress, tokenId)}>\n                        {nft ? getNFTName(nft) : ''}\n                      </Link>\n                    ),\n                    price: <Mana inline>{price.toLocaleString()}</Mana>\n                  }}\n                />\n              }\n              tx={tx}\n            />\n          )}\n        </NFTProvider>\n      )\n    }\n    case ACCEPT_BID_SUCCESS: {\n      const { tokenId, contractAddress, price } = tx.payload\n      return (\n        <NFTProvider contractAddress={contractAddress} tokenId={tokenId}>\n          {nft => (\n            <TransactionDetail\n              nft={nft}\n              text={\n                <T\n                  id=\"transaction.detail.accept_bid\"\n                  values={{\n                    name: (\n                      <Link to={locations.nft(contractAddress, tokenId)}>\n                        {nft ? getNFTName(nft) : ''}\n                      </Link>\n                    ),\n                    price: <Mana inline>{price.toLocaleString()}</Mana>\n                  }}\n                />\n              }\n              tx={tx}\n            />\n          )}\n        </NFTProvider>\n      )\n    }\n    case CANCEL_BID_SUCCESS: {\n      const { tokenId, contractAddress, price } = tx.payload\n      return (\n        <NFTProvider contractAddress={contractAddress} tokenId={tokenId}>\n          {nft => (\n            <TransactionDetail\n              nft={nft}\n              text={\n                <T\n                  id=\"transaction.detail.cancel_bid\"\n                  values={{\n                    name: (\n                      <Link to={locations.nft(contractAddress, tokenId)}>\n                        {nft ? getNFTName(nft) : ''}\n                      </Link>\n                    ),\n                    price: <Mana inline>{price.toLocaleString()}</Mana>\n                  }}\n                />\n              }\n              tx={tx}\n            />\n          )}\n        </NFTProvider>\n      )\n    }\n    default:\n      return null\n  }\n}\n\nexport default React.memo(Transaction)\n","import React, { useCallback, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Page, Header, Button, Modal } from 'decentraland-ui'\nimport { t, T } from 'decentraland-dapps/dist/modules/translation/utils'\n\nimport { locations } from '../../modules/routing/locations'\nimport { Navigation } from '../Navigation'\nimport { Row } from '../Layout/Row'\nimport { Column } from '../Layout/Column'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Transaction } from './Transaction'\nimport { Props } from './ActivityPage.types'\nimport './ActivityPage.css'\nimport { NavigationTab } from '../Navigation/Navigation.types'\n\nconst ActivityPage = (props: Props) => {\n  const { address, transactions, onClearHistory } = props\n\n  const [showConfirmation, setShowConfirmation] = useState(false)\n\n  const handleClear = useCallback(() => {\n    if (address) {\n      onClearHistory(address)\n    }\n    setShowConfirmation(false)\n  }, [address, onClearHistory])\n\n  const handleConfirm = useCallback(() => setShowConfirmation(true), [\n    setShowConfirmation\n  ])\n  const handleCancel = useCallback(() => setShowConfirmation(false), [\n    setShowConfirmation\n  ])\n\n  let content = null\n\n  if (!address) {\n    content = (\n      <div className=\"center\">\n        <p>\n          {\n            <T\n              id=\"wallet.sign_in_required\"\n              values={{\n                sign_in: (\n                  <Link to={locations.signIn()}>{t('wallet.sign_in')}</Link>\n                )\n              }}\n            />\n          }\n        </p>\n      </div>\n    )\n  } else if (transactions.length === 0) {\n    content = (\n      <div className=\"center\">\n        <p>{t('activity_page.empty')}</p>\n      </div>\n    )\n  } else {\n    content = (\n      <>\n        <Row>\n          <Column align=\"left\" grow={true}>\n            <Header sub>{t('activity_page.latest_activity')}</Header>\n          </Column>\n          <Column align=\"right\">\n            <Button basic onClick={handleConfirm}>\n              {t('activity_page.clear_history')}\n            </Button>\n          </Column>\n        </Row>\n        <div className=\"transactions\">\n          {transactions\n            .map(tx => <Transaction tx={tx} key={tx.hash} />)\n            .reverse()}\n        </div>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Navigation activeTab={NavigationTab.ACTIVITY} />\n      <Page className=\"ActivityPage\">{content}</Page>\n      <Modal size=\"tiny\" open={showConfirmation}>\n        <Modal.Header>\n          {t('activity_page.clear_history_modal.title')}\n        </Modal.Header>\n        <Modal.Content>\n          {t('activity_page.clear_history_modal.text')}\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={handleCancel}>{t('global.cancel')}</Button>\n          <Button primary onClick={handleClear}>\n            {t('global.proceed')}\n          </Button>\n        </Modal.Actions>\n      </Modal>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(ActivityPage)\n","import { connect } from 'react-redux'\nimport { clearTransactions } from 'decentraland-dapps/dist/modules/transaction/actions'\n\nimport { RootState } from '../../modules/reducer'\nimport { getAddress } from '../../modules/wallet/selectors'\nimport { getTransactions } from '../../modules/transaction/selectors'\nimport {\n  MapStateProps,\n  MapDispatchProps,\n  MapDispatch\n} from './ActivityPage.types'\nimport ActivityPage from './ActivityPage'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  address: getAddress(state),\n  transactions: getTransactions(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onClearHistory: address => dispatch(clearTransactions(address))\n})\n\nexport default connect(mapState, mapDispatch)(ActivityPage)\n","import { createSelector } from 'reselect'\nimport { LoadingState } from 'decentraland-dapps/dist/modules/loading/reducer'\n\nimport { NFTState } from '../../../nft/reducer'\nimport { FETCH_NFTS_REQUEST } from '../../../nft/actions'\nimport { NFT } from '../../../nft/types'\nimport { Vendors } from '../../../vendor/types'\nimport {\n  getData as getNFTData,\n  getLoading as getNFTLoading\n} from '../../../nft/selectors'\nimport { getPartners as getAllPartners } from '../../../vendor/utils'\nimport { RootState } from '../../../reducer'\nimport { PartnerView } from './types'\nimport { PartnerUIState } from './reducer'\n\nexport const getState = (state: RootState) => state.ui.nft.partner\n\nexport const getPartners = createSelector<\n  RootState,\n  PartnerUIState,\n  NFTState['data'],\n  Record<Vendors, NFT[]>\n>(getState, getNFTData, (partnerState, nftsById) => {\n  const result: Record<string, NFT[]> = {}\n\n  for (const partner of getAllPartners()) {\n    result[partner] = partnerState[partner as PartnerView].map(\n      id => nftsById[id]\n    )\n  }\n\n  return result\n})\n\nexport const getPartnersLoading = createSelector<\n  RootState,\n  LoadingState,\n  Record<Vendors, boolean>\n>(getNFTLoading, nftLoading => {\n  const result: Record<string, boolean> = {}\n\n  for (const partner of getAllPartners()) {\n    result[partner] = nftLoading.some(\n      action =>\n        action.type === FETCH_NFTS_REQUEST &&\n        action.payload.options.view === partner\n    )\n  }\n\n  return result\n})\n","import React from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Header } from 'decentraland-ui'\n\nimport { getPartners } from '../../modules/vendor/utils'\nimport { Menu } from '../Menu'\nimport { MenuItem } from '../Menu/MenuItem'\nimport { Props } from './PartnersSidebar.types'\nimport './PartnersSidebar.css'\n\nconst PartnersSidebar = (props: Props) => {\n  const { onMenuItemClick } = props\n\n  return (\n    <div className=\"PartnersSidebar\">\n      <Header sub>{t('partners_page.partners')}</Header>\n      <Menu>\n        {getPartners().map(vendor => (\n          <MenuItem\n            key={vendor}\n            value={vendor}\n            image={`/${vendor}.png`}\n            onClick={onMenuItemClick}\n          />\n        ))}\n      </Menu>\n    </div>\n  )\n}\n\nexport default React.memo(PartnersSidebar)\n","import React from 'react'\nimport { HeaderMenu, Header, Button, Loader } from 'decentraland-ui'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { NFTCard } from '../../NFTCard'\nimport { Props } from './Slideshow.types'\nimport './Slideshow.css'\n\nconst Slideshow = (props: Props) => {\n  const { title, nfts, isSubHeader, isLoading, onViewAll } = props\n\n  const renderNfts = () =>\n    nfts.map((nft, index) => <NFTCard key={index} nft={nft} />)\n\n  return (\n    <div className=\"Slideshow\">\n      <HeaderMenu>\n        <HeaderMenu.Left>\n          <Header sub={isSubHeader}>{title}</Header>\n        </HeaderMenu.Left>\n        <HeaderMenu.Right>\n          <Button basic onClick={onViewAll}>\n            {t('slideshow.view_all')}\n            <i className=\"caret\" />\n          </Button>\n        </HeaderMenu.Right>\n      </HeaderMenu>\n      <div className=\"nfts\">\n        {isLoading ? (\n          nfts.length === 0 ? (\n            <Loader active size=\"massive\" />\n          ) : (\n            renderNfts()\n          )\n        ) : nfts.length > 0 ? (\n          renderNfts()\n        ) : null}\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(Slideshow)\n","import React, { useEffect, useCallback } from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Page, Responsive } from 'decentraland-ui'\n\nimport { locations } from '../../modules/routing/locations'\nimport { View } from '../../modules/ui/types'\nimport { SortBy } from '../../modules/routing/types'\nimport { Vendors } from '../../modules/vendor/types'\nimport { NavigationTab } from '../Navigation/Navigation.types'\nimport { Row } from '../Layout/Row'\nimport { Column } from '../Layout/Column'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Navigation } from '../Navigation'\nimport { PartnersSidebar } from '../PartnersSidebar'\nimport { Slideshow } from '../HomePage/Slideshow'\nimport { Props } from './PartnersPage.types'\nimport './PartnersPage.css'\n\nconst PartnersPage = (props: Props) => {\n  const { partners, partnersLoading, onNavigate, onFetchNFTsFromRoute } = props\n\n  const handleOnNavigate = useCallback(\n    (vendor: Vendors) => {\n      onNavigate(locations.browse({ vendor }))\n    },\n    [onNavigate]\n  )\n\n  // Kick things off\n  useEffect(() => {\n    let partner: Vendors\n    for (partner in partners) {\n      onFetchNFTsFromRoute({\n        view: partner as View,\n        vendor: partner,\n        sortBy: SortBy.RECENTLY_LISTED,\n        page: 1,\n        onlyOnSale: true\n      })\n    }\n    // eslint-disable-next-line\n  }, [onFetchNFTsFromRoute])\n\n  const views = Object.keys(partners) as Vendors[]\n\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Navigation activeTab={NavigationTab.PARTNERS} />\n\n      <Page className=\"PartnersPage\">\n        <Row>\n          <Column align=\"left\">\n            <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n              <PartnersSidebar onMenuItemClick={handleOnNavigate} />\n            </Responsive>\n          </Column>\n          <Column align=\"right\" grow={true}>\n            {views.map(view => (\n              <Slideshow\n                key={view}\n                title={t('partners_page.latest_from', {\n                  vendor: t(`vendors.${view}`)\n                })}\n                nfts={partners[view]}\n                isLoading={partners[view].length === 0 || partnersLoading[view]}\n                isSubHeader={true}\n                onViewAll={() => handleOnNavigate(view)}\n              />\n            ))}\n          </Column>\n        </Row>\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(PartnersPage)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\n\nimport { RootState } from '../../modules/reducer'\nimport { fetchNFTsFromRoute } from '../../modules/routing/actions'\nimport {\n  getPartners,\n  getPartnersLoading\n} from '../../modules/ui/nft/partner/selectors'\nimport {\n  MapDispatch,\n  MapDispatchProps,\n  MapStateProps\n} from './PartnersPage.types'\nimport PartnersPage from './PartnersPage'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  partners: getPartners(state),\n  partnersLoading: getPartnersLoading(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path)),\n  onFetchNFTsFromRoute: options => dispatch(fetchNFTsFromRoute(options))\n})\n\nexport default connect(mapState, mapDispatch)(PartnersPage)\n","import { createSelector } from 'reselect'\nimport { LoadingState } from 'decentraland-dapps/dist/modules/loading/reducer'\n\nimport { NFTState } from '../../../nft/reducer'\nimport { FETCH_NFTS_REQUEST } from '../../../nft/actions'\nimport { NFT } from '../../../nft/types'\nimport {\n  getData as getNFTData,\n  getLoading as getNFTLoading\n} from '../../../nft/selectors'\nimport { RootState } from '../../../reducer'\nimport { HomepageView } from './types'\nimport { HomepageUIState } from './reducer'\n\nexport const getState = (state: RootState) => state.ui.nft.homepage\n\nexport const getHomepage = createSelector<\n  RootState,\n  HomepageUIState,\n  NFTState['data'],\n  Record<HomepageView, NFT[]>\n>(getState, getNFTData, (homepage, nftsById) => {\n  const result: Record<string, NFT[]> = {}\n\n  let view: HomepageView\n  for (view in homepage) {\n    result[view] = homepage[view].map(id => nftsById[id])\n  }\n\n  return result as Record<HomepageView, NFT[]>\n})\n\nexport const getHomepageLoading = createSelector<\n  RootState,\n  HomepageUIState,\n  LoadingState,\n  Record<HomepageView, boolean>\n>(getState, getNFTLoading, (homepage, nftLoading) => {\n  const result: Record<string, boolean> = {}\n\n  for (const view in homepage) {\n    result[view] = nftLoading.some(\n      action =>\n        action.type === FETCH_NFTS_REQUEST &&\n        action.payload.options.view === view\n    )\n  }\n\n  return result as Record<HomepageView, boolean>\n})\n","import React, { useCallback, useEffect } from 'react'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { isMobile } from 'decentraland-dapps/dist/lib/utils'\nimport { Page, Hero, Button } from 'decentraland-ui'\nimport { locations } from '../../modules/routing/locations'\nimport { Vendors } from '../../modules/vendor/types'\nimport { SortBy } from '../../modules/routing/types'\nimport { View } from '../../modules/ui/types'\nimport { HomepageView } from '../../modules/ui/nft/homepage/types'\nimport { Section } from '../../modules/vendor/decentraland/routing/types'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Slideshow } from './Slideshow'\nimport { Props } from './HomePage.types'\nimport './HomePage.css'\n\nconst HomePage = (props: Props) => {\n  const { homepage, homepageLoading, onNavigate, onFetchNFTsFromRoute } = props\n\n  const sections = {\n    [View.HOME_WEARABLES]: Section.WEARABLES,\n    [View.HOME_LAND]: Section.LAND,\n    [View.HOME_ENS]: Section.ENS\n  }\n\n  const handleGetStarted = useCallback(() => onNavigate(locations.browse()), [\n    onNavigate\n  ])\n\n  const handleViewAll = useCallback(\n    (section: Section) => onNavigate(locations.browse({ section })),\n    [onNavigate]\n  )\n\n  const vendor = Vendors.DECENTRALAND\n\n  useEffect(() => {\n    let view: HomepageView\n    for (view in homepage) {\n      const section = sections[view]\n      onFetchNFTsFromRoute({\n        vendor,\n        section,\n        view,\n        sortBy: SortBy.RECENTLY_LISTED,\n        page: 1,\n        onlyOnSale: true\n      })\n    }\n    // eslint-disable-next-line\n  }, [onFetchNFTsFromRoute])\n\n  const views = Object.keys(homepage) as HomepageView[]\n\n  return (\n    <>\n      <Navbar isFullscreen isOverlay />\n      <Hero centered={isMobile()} className=\"HomePageHero\">\n        <Hero.Header>{t('home_page.title')}</Hero.Header>\n        <Hero.Description>{t('home_page.subtitle')}</Hero.Description>\n        <Hero.Content>\n          <div className=\"hero-image\" />{' '}\n        </Hero.Content>\n        <Hero.Actions>\n          <Button primary onClick={handleGetStarted}>\n            {t('home_page.get_started')}\n          </Button>\n        </Hero.Actions>\n      </Hero>\n      <Page className=\"HomePage\">\n        {views.map(view => (\n          <Slideshow\n            key={view}\n            title={t(`home_page.${view}`)}\n            nfts={homepage[view]}\n            isLoading={homepageLoading[view]}\n            onViewAll={() => handleViewAll(sections[view])}\n          />\n        ))}\n      </Page>\n      <Footer />\n    </>\n  )\n}\n\nexport default React.memo(HomePage)\n","import { connect } from 'react-redux'\nimport { push } from 'connected-react-router'\nimport { RootState } from '../../modules/reducer'\nimport { fetchNFTsFromRoute } from '../../modules/routing/actions'\nimport {\n  getHomepage,\n  getHomepageLoading\n} from '../../modules/ui/nft/homepage/selectors'\nimport { MapStateProps, MapDispatchProps, MapDispatch } from './HomePage.types'\nimport HomePage from './HomePage'\n\nconst mapState = (state: RootState): MapStateProps => ({\n  homepage: getHomepage(state),\n  homepageLoading: getHomepageLoading(state)\n})\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(push(path)),\n  onFetchNFTsFromRoute: options => dispatch(fetchNFTsFromRoute(options))\n})\n\nexport default connect(mapState, mapDispatch)(HomePage)\n","import React, { useEffect, useState, useCallback } from 'react'\nimport { Page, Loader, HeaderMenu, Header, Button } from 'decentraland-ui'\n\nimport { locations } from '../../modules/routing/locations'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Navigation } from '../Navigation'\nimport { Bid } from '../Bid'\nimport { NavigationTab } from '../Navigation/Navigation.types'\nimport { Props } from './MyBidsPage.types'\nimport './MyBidsPage.css'\nimport { t } from 'decentraland-dapps/dist/modules/translation/utils'\n\nconst MyBidsPage = (props: Props) => {\n  const {\n    wallet,\n    isConnecting,\n    isLoading,\n    bidderBids,\n    sellerBids,\n    archivedBidIds,\n    onNavigate,\n    onFetchBids\n  } = props\n\n  const [showArchived, setShowArchivedSeller] = useState(false)\n\n  const handleToggleSeller = useCallback(\n    () => setShowArchivedSeller(!showArchived),\n    [showArchived, setShowArchivedSeller]\n  )\n\n  // Redirect to signIn if trying to access current account without a wallet\n  useEffect(() => {\n    if (!isConnecting && !wallet) {\n      onNavigate(locations.signIn())\n    }\n  }, [isConnecting, wallet, onNavigate])\n\n  useEffect(() => {\n    if (wallet) {\n      onFetchBids(wallet.address)\n    }\n  }, [wallet, onFetchBids])\n\n  const archived = sellerBids.filter(bid => archivedBidIds.includes(bid.id))\n  const unarchived = sellerBids.filter(bid => !archivedBidIds.includes(bid.id))\n  const filteredSeller = showArchived ? archived : unarchived\n\n  return (\n    <div className=\"MyBidsPage\">\n      <Navbar isFullscreen />\n      <Navigation activeTab={NavigationTab.MY_BIDS} />\n      <Page>\n        {isConnecting || !wallet ? (\n          <Loader size=\"massive\" active />\n        ) : (\n          <>\n            <HeaderMenu>\n              <HeaderMenu.Left>\n                <Header sub>\n                  {t(\n                    showArchived\n                      ? 'my_bids_page.bids_archived'\n                      : 'my_bids_page.bids_received'\n                  )}\n                </Header>\n              </HeaderMenu.Left>\n              <HeaderMenu.Right>\n                {showArchived || archived.length > 0 ? (\n                  <Button basic onClick={handleToggleSeller}>\n                    {showArchived\n                      ? t('my_bids_page.show_received', {\n                          amount: unarchived.length\n                        })\n                      : t('my_bids_page.show_archived', {\n                          amount: archived.length\n                        })}\n                  </Button>\n                ) : null}\n              </HeaderMenu.Right>\n            </HeaderMenu>\n            <div className=\"bids\">\n              {filteredSeller.length === 0 && isLoading ? (\n                <div className=\"center\">\n                  <Loader active />\n                </div>\n              ) : null}\n              {filteredSeller.length === 0 && !isLoading ? (\n                <div className=\"center\">\n                  <div className=\"empty\">\n                    {t(\n                      showArchived\n                        ? 'my_bids_page.empty_archived'\n                        : 'my_bids_page.empty_received'\n                    )}\n                  </div>\n                </div>\n              ) : null}\n              {filteredSeller.length > 0\n                ? filteredSeller.map(bid => <Bid key={bid.id} bid={bid} />)\n                : null}\n            </div>\n            <HeaderMenu>\n              <HeaderMenu.Left>\n                <Header sub>{t('my_bids_page.bids_placed')}</Header>\n              </HeaderMenu.Left>\n            </HeaderMenu>\n            <div className=\"bids\">\n              {bidderBids.length === 0 && isLoading ? (\n                <div className=\"center\">\n                  <Loader active />\n                </div>\n              ) : null}\n              {bidderBids.length === 0 && !isLoading ? (\n                <div className=\"center\">\n                  <div className=\"empty\">{t('my_bids_page.empty_placed')}</div>\n                </div>\n              ) : null}\n              {bidderBids.length > 0\n                ? bidderBids.map(bid => <Bid key={bid.id} bid={bid} />)\n                : null}\n            </div>\n          </>\n        )}\n      </Page>\n      <Footer />\n    </div>\n  )\n}\n\nexport default React.memo(MyBidsPage)\n","import { connect } from 'react-redux'\nimport { replace } from 'connected-react-router'\n\nimport { RootState } from '../../modules/reducer'\nimport { getWallet, isConnecting } from '../../modules/wallet/selectors'\nimport {\n  getBidderBids,\n  getSellerBids,\n  getArchivedBidIds\n} from '../../modules/ui/nft/bid/selectors'\nimport { isLoadingType } from 'decentraland-dapps/dist/modules/loading/selectors'\nimport { getLoading } from '../../modules/bid/selectors'\nimport {\n  fetchBidsByAddressRequest,\n  FETCH_BIDS_BY_ADDRESS_REQUEST\n} from '../../modules/bid/actions'\nimport {\n  MapStateProps,\n  MapDispatch,\n  MapDispatchProps\n} from './MyBidsPage.types'\nimport MyBidsPage from './MyBidsPage'\n\nconst mapState = (state: RootState): MapStateProps => {\n  return {\n    wallet: getWallet(state),\n    sellerBids: getSellerBids(state),\n    bidderBids: getBidderBids(state),\n    archivedBidIds: getArchivedBidIds(state),\n    isConnecting: isConnecting(state),\n    isLoading: isLoadingType(getLoading(state), FETCH_BIDS_BY_ADDRESS_REQUEST)\n  }\n}\n\nconst mapDispatch = (dispatch: MapDispatch): MapDispatchProps => ({\n  onNavigate: path => dispatch(replace(path)),\n  onFetchBids: address => dispatch(fetchBidsByAddressRequest(address))\n})\n\nexport default connect(mapState, mapDispatch)(MyBidsPage)\n","import React, { useEffect } from 'react'\nimport { Page, Loader } from 'decentraland-ui'\n\nimport { locations } from '../../modules/routing/locations'\nimport { VendorFactory } from '../../modules/vendor/VendorFactory'\nimport { nftAPI } from '../../modules/vendor/decentraland/nft/api'\nimport { Vendors } from '../../modules/vendor/types'\nimport { Navbar } from '../Navbar'\nimport { Footer } from '../Footer'\nimport { Props } from './LegacyNFTPage.types'\n\nconst LegacyNFTPage = (props: Props) => {\n  const { match, history } = props\n  const { params } = match\n  const { contractService } = VendorFactory.build(Vendors.DECENTRALAND)\n\n  useEffect(() => {\n    const { LANDRegistry, EstateRegistry } = contractService.contractAddresses\n    const { estateId, x, y } = params\n\n    if (estateId) {\n      history.push(locations.nft(EstateRegistry, estateId))\n    } else if (x && y) {\n      nftAPI\n        .fetchTokenId(Number(x), Number(y))\n        .then(tokenId => {\n          history.push(locations.nft(LANDRegistry, tokenId))\n        })\n        .catch(() => history.push(locations.root()))\n    }\n  }, [contractService, params, history])\n\n  return (\n    <>\n      <Navbar isFullscreen />\n      <Page className=\"LegacyNFTPage\" isFullscreen>\n        <Loader size=\"massive\" active />\n      </Page>\n      <Footer isFullscreen />\n    </>\n  )\n}\n\nexport default React.memo(LegacyNFTPage)\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\n\nimport { locations } from '../../modules/routing/locations'\nimport { BrowsePage } from '../BrowsePage'\nimport { AccountPage } from '../AccountPage'\nimport { SignInPage } from '../SignInPage'\nimport { SettingsPage } from '../SettingsPage'\nimport { NFTPage } from '../NFTPage'\nimport { SellPage } from '../SellPage'\nimport { BuyPage } from '../BuyPage'\nimport { BidPage } from '../BidPage'\nimport { CancelSalePage } from '../CancelSalePage'\nimport { TransferPage } from '../TransferPage'\nimport { ActivityPage } from '../ActivityPage'\nimport { PartnersPage } from '../PartnersPage'\nimport { HomePage } from '../HomePage'\nimport { MyBidsPage } from '../MyBidsPage'\nimport { LegacyNFTPage } from '../LegacyNFTPage'\n\nconst Routes = () => {\n\n  return (\n    <>\n      <Switch>\n        <Route exact path={locations.browse()} component={BrowsePage} />\n        <Route\n          exact\n          path={locations.currentAccount()}\n          component={AccountPage}\n        />\n        <Route exact path={locations.account()} component={AccountPage} />\n        <Route exact path={locations.bids()} component={MyBidsPage} />\n        <Route exact path={locations.signIn()} component={SignInPage} />\n        <Route exact path={locations.sell()} component={SellPage} />\n        <Route exact path={locations.buy()} component={BuyPage} />\n        <Route exact path={locations.bid()} component={BidPage} />\n        <Route exact path={locations.cancel()} component={CancelSalePage} />\n        <Route exact path={locations.transfer()} component={TransferPage} />\n        <Route exact path={locations.nft()} component={NFTPage} />\n        <Route exact path={locations.settings()} component={SettingsPage} />\n        <Route exact path={locations.partners()} component={PartnersPage} />\n        <Route exact path={locations.activity()} component={ActivityPage} />\n        <Route exact path={locations.root()} component={HomePage} />\n        <Route exact path={locations.parcel()} component={LegacyNFTPage} />\n        <Route exact path={locations.estate()} component={LegacyNFTPage} />\n        <Redirect\n          from=\"/browse\"\n          to={locations.browse() + window.location.search}\n          push\n        />\n        <Redirect to={locations.root()} />\n      </Switch>\n    </>\n  )\n}\n\nexport default Routes\n","import React from 'react'\n\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { ConnectedRouter } from 'connected-react-router'\nimport { ScrollToTop } from './components/ScrollToTop'\nimport WalletProvider from 'decentraland-dapps/dist/providers/WalletProvider'\nimport TranslationProvider from 'decentraland-dapps/dist/providers/TranslationProvider'\n\nimport './setup'\nimport './modules/analytics/track'\n\nimport * as locales from './modules/translation/locales'\nimport { store, history } from './modules/store'\nimport { Routes } from './components/Routes'\n\nimport { buildContracts } from './modules/contract/utils'\n\nimport './themes'\nimport './index.css'\n\nbuildContracts()\n\nconst component = (\n  <Provider store={store}>\n    <TranslationProvider locales={Object.keys(locales)}>\n      <WalletProvider>\n        <ConnectedRouter history={history}>\n          <ScrollToTop />\n          <Routes />\n        </ConnectedRouter>\n      </WalletProvider>\n    </TranslationProvider>\n  </Provider>\n)\n\nReactDOM.render(component, document.getElementById('root'))\n","import { getSearchParams } from './search'\nimport { SearchOptions } from './types'\n\nexport const locations = {\n  root: () => '/',\n  signIn: () => '/sign-in',\n  settings: () => '/settings',\n  partners: () => '/partners',\n  bids: () => '/bids',\n  browse: (options?: SearchOptions) => {\n    const params = getSearchParams(options)\n    return params ? `/browse?${params.toString()}` : '/browse'\n  },\n  currentAccount: (options?: SearchOptions) => {\n    const params = getSearchParams(options)\n    return params ? `/account?${params.toString()}` : '/account'\n  },\n  account: (address: string = ':address', options?: SearchOptions) => {\n    const params = getSearchParams(options)\n    return params\n      ? `/accounts/${address}?${params.toString()}`\n      : `/accounts/${address}`\n  },\n  nft: (\n    contractAddress: string = ':contractAddress',\n    tokenId: string = ':tokenId'\n  ) => `/contracts/${contractAddress}/tokens/${tokenId}`,\n  parcel: (x: string = ':x', y: string = ':y') => `/parcels/${x}/${y}/detail`,\n  estate: (estateId: string = ':estateId') => `/estates/${estateId}/detail`,\n  sell: (\n    contractAddress: string = ':contractAddress',\n    tokenId: string = ':tokenId'\n  ) => `/contracts/${contractAddress}/tokens/${tokenId}/sell`,\n  buy: (\n    contractAddress: string = ':contractAddress',\n    tokenId: string = ':tokenId'\n  ) => `/contracts/${contractAddress}/tokens/${tokenId}/buy`,\n  cancel: (\n    contractAddress: string = ':contractAddress',\n    tokenId: string = ':tokenId'\n  ) => `/contracts/${contractAddress}/tokens/${tokenId}/cancel`,\n  transfer: (\n    contractAddress: string = ':contractAddress',\n    tokenId: string = ':tokenId'\n  ) => `/contracts/${contractAddress}/tokens/${tokenId}/transfer`,\n  bid: (\n    contractAddress: string = ':contractAddress',\n    tokenId: string = ':tokenId'\n  ) => `/contracts/${contractAddress}/tokens/${tokenId}/bid`,\n  activity: () => `/activity`\n}\n","import { NFTCategory } from '../nft/types'\n\nexport enum OrderStatus {\n  OPEN = 'open',\n  SOLD = 'sold',\n  CANCELLED = 'cancelled'\n}\n\nexport type Order = {\n  id: string\n  nftId: string\n  category: NFTCategory\n  nftAddress: string\n  marketAddress: string\n  owner: string\n  buyer: string | null\n  price: string\n  ethPrice?: string\n  status: OrderStatus\n  expiresAt?: string\n  createdAt: string\n  updatedAt: string\n}\n","export enum Network {\n  ROPSTEN = 'ropsten',\n  BSC = 'bsc'\n}\n","import { ApolloClient } from 'apollo-client'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport { HttpLink } from 'apollo-link-http'\n\nexport const API_URL = process.env.REACT_APP_KNOWN_ORIGIN_API_URL\nexport const MAX_QUERY_SIZE = 1000\n\nconst link = new HttpLink({\n  uri: API_URL\n})\n\nexport const client = new ApolloClient({\n  link,\n  cache: new InMemoryCache(),\n  defaultOptions: {\n    query: {\n      fetchPolicy: 'no-cache'\n    }\n  }\n})\n","export enum Section {\n  ALL = 'all',\n  EDITIONS = 'editions',\n  TOKENS = 'tokens'\n}\n","import * as decentraland from '../decentraland'\nimport * as superRare from '../super_rare'\nimport * as makersPlace from '../makers_place'\nimport * as knownOrigin from '../known_origin'\nimport { Vendors } from '../types'\n\nexport type Section =\n  | decentraland.Section\n  | superRare.Section\n  | makersPlace.Section\n  | knownOrigin.Section\n\nexport const Section = {\n  [Vendors.DECENTRALAND]: { ...decentraland.Section },\n  [Vendors.SUPER_RARE]: { ...superRare.Section },\n  [Vendors.MAKERS_PLACE]: { ...makersPlace.Section },\n  [Vendors.KNOWN_ORIGIN]: { ...knownOrigin.Section }\n} as const\n","import { Parcel } from './parcel/types'\nimport { Estate } from './estate/types'\nimport { Wearable } from './wearable/types'\nimport { ENS } from './ens/types'\nimport { View } from '../ui/types'\nimport { NFTsFetchFilters } from '../vendor/nft/types'\nimport { Vendors } from '../vendor/types'\nimport { SortDirection } from '../routing/types'\n\nexport enum NFTSortBy {\n  NAME = 'name',\n  CREATED_AT = 'createdAt',\n  ORDER_CREATED_AT = 'searchOrderCreatedAt',\n  PRICE = 'searchOrderPrice'\n}\n\nexport enum NFTCategory {\n  PARCEL = 'parcel',\n  ESTATE = 'estate',\n  WEARABLE = 'wearable',\n  ENS = 'ens',\n  ART = 'art'\n}\n\n// TODO: Move this to their own vendor folders\nexport type DecentralandNFT = {\n  parcel?: Parcel\n  estate?: Estate\n  wearable?: Wearable\n  ens?: ENS\n}\nexport type SuperRareNFT = { description: string }\nexport type MakersPlaceNFT = { description: string }\nexport type KnownOriginNFT = { description: string; isEdition: boolean }\n\nexport type Data<V extends Vendors> = V extends Vendors.DECENTRALAND\n  ? DecentralandNFT\n  : V extends Vendors.SUPER_RARE\n  ? SuperRareNFT\n  : V extends Vendors.MAKERS_PLACE\n  ? MakersPlaceNFT\n  : V extends Vendors.KNOWN_ORIGIN\n  ? KnownOriginNFT\n  : V extends void\n  ? DecentralandNFT | SuperRareNFT | MakersPlaceNFT | KnownOriginNFT\n  : never\n\nexport type NFT<V extends Vendors = any> = {\n  id: string\n  contractAddress: string\n  tokenId: string\n  activeOrderId: string | null\n  owner: string\n  name: string\n  category: NFTCategory\n  image: string\n  url: string\n  vendor: Vendors\n  data: Data<V>\n}\n\nexport type NFTsFetchParams = {\n  first: number\n  skip: number\n  orderBy?: NFTSortBy\n  orderDirection?: SortDirection\n  category?: NFTCategory\n  address?: string\n  onlyOnSale?: boolean\n  search?: string\n}\n\nexport type NFTsCountParams = Omit<NFTsFetchParams, 'first' | 'skip'>\n\nexport type NFTsFetchOptions = {\n  vendor: Vendors\n  view: View\n  params: NFTsFetchParams\n  filters?: NFTsFetchFilters\n}\n","import { gql } from 'apollo-boost'\n\nimport { NFTsFetchParams } from '../../../nft/types'\nimport { WearableGender } from '../../../nft/wearable/types'\nimport { ContractService } from '../ContractService'\nimport { client } from '../api'\nimport { nftFragment, NFTFragment } from './fragments'\nimport { NFTsFetchFilters } from './types'\n\nclass NFTAPI {\n  fetch = async (params: NFTsFetchParams, filters?: NFTsFetchFilters) => {\n    const query = getNFTsQuery(params, filters)\n    const variables = this.buildFetchVariables(params, filters)\n\n    const { data } = await client.query<{ nfts: NFTFragment[] }>({\n      query,\n      variables\n    })\n\n    return data.nfts\n  }\n\n  async count(params: NFTsFetchParams, filters?: NFTsFetchFilters) {\n    const countQuery = getNFTsCountQuery(params, filters)\n    const variables = this.buildFetchVariables(params, filters)\n\n    const { data } = await client.query<{ nfts: NFTFragment[] }>({\n      query: countQuery,\n      variables\n    })\n\n    return data.nfts.length\n  }\n\n  async fetchOne(contractAddress: string, tokenId: string) {\n    const { data } = await client.query<{ nfts: NFTFragment[] }>({\n      query: NFT_BY_ADDRESS_AND_ID_QUERY,\n      variables: {\n        contractAddress,\n        tokenId\n      }\n    })\n    return data.nfts[0]\n  }\n\n  async fetchTokenId(x: number, y: number) {\n    const { data } = await client.query<{ parcels: { tokenId: string }[] }>({\n      query: PARCEL_TOKEN_ID_QUERY,\n      variables: { x, y },\n      fetchPolicy: 'cache-first'\n    })\n    const { tokenId } = data.parcels[0]\n    return tokenId\n  }\n\n  private buildFetchVariables(\n    params: NFTsFetchParams,\n    filters?: NFTsFetchFilters\n  ) {\n    return {\n      ...params,\n      ...filters,\n      expiresAt: Date.now().toString()\n    }\n  }\n}\n\nconst NFTS_FILTERS = `\n  $first: Int\n  $skip: Int\n  $orderBy: String\n  $orderDirection: String\n\n  $expiresAt: String\n  $address: String\n  $category: Category\n  $wearableCategory: WearableCategory\n  $isLand: Boolean\n  $isWearableHead: Boolean\n  $isWearableAccessory: Boolean\n`\n\nconst NFTS_ARGUMENTS = `\n  first: $first\n  skip: $skip\n  orderBy: $orderBy\n  orderDirection: $orderDirection\n`\n\nfunction getNFTsCountQuery(\n  params: NFTsFetchParams,\n  filters: NFTsFetchFilters = {}\n) {\n  return getNFTsQuery(params, filters, true)\n}\n\nfunction getNFTsQuery(\n  params: NFTsFetchParams,\n  filters: NFTsFetchFilters = {},\n  isCount = false\n) {\n  let extraWhere: string[] = []\n\n  if (params.address) {\n    extraWhere.push('owner: $address')\n  }\n\n  if (params.category) {\n    extraWhere.push('category: $category')\n  }\n\n  if (params.onlyOnSale) {\n    extraWhere.push('searchOrderStatus: open')\n    extraWhere.push('searchOrderExpiresAt_gt: $expiresAt')\n  }\n\n  if (params.search) {\n    extraWhere.push(\n      `searchText_contains: \"${params.search.trim().toLowerCase()}\"`\n    )\n  }\n\n  if (filters.wearableCategory) {\n    extraWhere.push('searchWearableCategory: $wearableCategory')\n  }\n\n  if (filters.isLand) {\n    extraWhere.push('searchIsLand: $isLand')\n  }\n\n  if (filters.isWearableHead) {\n    extraWhere.push('searchIsWearableHead: $isWearableHead')\n  }\n\n  if (filters.isWearableAccessory) {\n    extraWhere.push('searchIsWearableAccessory: $isWearableAccessory')\n  }\n\n  if (filters.wearableRarities && filters.wearableRarities.length > 0) {\n    extraWhere.push(\n      `searchWearableRarity_in: [${filters.wearableRarities\n        .map(rarity => `\"${rarity}\"`)\n        .join(',')}]`\n    )\n  }\n\n  if (filters.wearableGenders && filters.wearableGenders.length > 0) {\n    const hasMale = filters.wearableGenders.includes(WearableGender.MALE)\n    const hasFemale = filters.wearableGenders.includes(WearableGender.FEMALE)\n\n    if (hasMale && !hasFemale) {\n      extraWhere.push(`searchWearableBodyShapes: [BaseMale]`)\n    } else if (hasFemale && !hasMale) {\n      extraWhere.push(`searchWearableBodyShapes: [BaseFemale]`)\n    } else if (hasMale && hasFemale) {\n      extraWhere.push(\n        `searchWearableBodyShapes_contains: [BaseMale, BaseFemale]`\n      )\n    }\n  }\n\n  if (filters.contracts && filters.contracts.length > 0) {\n    const { contractAddresses } = ContractService\n    extraWhere.push(\n      `contractAddress_in: [${filters.contracts\n        .map(contract => `\"${contractAddresses[contract]}\"`)\n        .join(', ')}]`\n    )\n  }\n\n  return gql`\n    query NFTs(\n      ${NFTS_FILTERS}\n    ) {\n      nfts(\n        where: {\n          searchEstateSize_gt: 0\n          searchParcelIsInBounds: true\n          ${extraWhere.join('\\n')}\n        }\n        ${NFTS_ARGUMENTS}\n      ) {\n        ${isCount ? 'id' : '...nftFragment'}\n      }\n    }\n    ${isCount ? '' : nftFragment()}\n  `\n}\n\nconst NFT_BY_ADDRESS_AND_ID_QUERY = gql`\n  query NFTByTokenId($contractAddress: String, $tokenId: String) {\n    nfts(\n      where: { contractAddress: $contractAddress, tokenId: $tokenId }\n      first: 1\n    ) {\n      ...nftFragment\n    }\n  }\n  ${nftFragment()}\n`\n\nconst PARCEL_TOKEN_ID_QUERY = gql`\n  query ParcelTokenId($x: BigInt, $y: BigInt) {\n    parcels(where: { x: $x, y: $y }) {\n      tokenId\n    }\n  }\n`\n\nexport const nftAPI = new NFTAPI()\n","import { Network } from '../../contract/types'\nimport { NFTCategory } from '../../nft/types'\nimport { ContractService as ContractServiceInterface } from '../services'\nimport { TransferType } from '../types'\n\nconst network = process.env.REACT_APP_NETWORK! as Network\n\nconst contractAddresses = {\n  [Network.ROPSTEN]: {\n    SuperRare: '0xa42e14b40bb22bc3daaf8ecad9d73bdf44056959',\n    SuperRareV2: '0x84691657fd6bcf50764d9fef2a53b22c8bd2202e',\n    SuperRareMarket: '0xa42e14b40bb22bc3daaf8ecad9d73bdf44056959',\n    SuperRareMarketV2: '0x17d0234dc57ef236cdfc4fda76b0810265f44e1f',\n    MarketplaceAdapter: '0xd1e4e2880ff56cd0d5c68da9bed58bfbf0150948'\n  },\n  [Network.BSC]: {\n    SuperRare: '0x41a322b28d0ff354040e2cbc676f0320d8c8850d',\n    SuperRareV2: '0xb932a70a57673d89f4acffbe830e8ed7f75fb9e0',\n    SuperRareMarket: '0x41a322b28d0ff354040e2cbc676f0320d8c8850d',\n    SuperRareMarketV2: '0x2947f98c42597966a0ec25e92843c09ac17fbaa7',\n    MarketplaceAdapter: '0xf4fbd84193f9aaf9779dedbb415a806933eb1c95'\n  }\n}[network]\n\nconst { SuperRare, SuperRareV2, MarketplaceAdapter } = contractAddresses\n\nexport type ContractName = keyof typeof contractAddresses\n\nexport class ContractService implements ContractServiceInterface {\n  static contractAddresses = contractAddresses\n\n  contractAddresses = contractAddresses\n\n  contractSymbols = {\n    [SuperRare]: 'SR',\n    [SuperRareV2]: 'SR',\n    [MarketplaceAdapter]: 'BuyAdapter'\n  } as const\n\n  contractNames = {\n    [SuperRare]: 'SuperRare',\n    [SuperRareV2]: 'SuperRareV2',\n    [MarketplaceAdapter]: 'Partner Marketplace'\n  } as const\n\n  contractCategories = {\n    [SuperRare]: NFTCategory.ART,\n    [SuperRareV2]: NFTCategory.ART\n  } as const\n\n  getTransferType(address: string) {\n    switch (address) {\n      case SuperRare:\n        return TransferType.TRANSFER\n      case SuperRareV2:\n        return TransferType.SAFE_TRANSFER_FROM\n      default:\n        throw new Error(`Invalid SuperRare address ${address}`)\n    }\n  }\n}\n","import { ContractService as ContractServiceInterface } from '../services'\nimport { Network } from '../../contract/types'\nimport { NFTCategory } from '../../nft/types'\nimport { TransferType } from '../types'\n\nconst network = process.env.REACT_APP_NETWORK! as Network\n\n// No Ropsten!\nconst contractAddresses = {\n  [Network.ROPSTEN]: {\n    DigitalAsset: '0xfbeef911dc5821886e1dda71586d90ed28174b7d',\n    BuyAdapter: '0xfbeef911dc5821886e1dda71586d90ed28174b7d',\n    MarketplaceAdapter: '0xd1e4e2880ff56cd0d5c68da9bed58bfbf0150948'\n  },\n  [Network.BSC]: {\n    DigitalAsset: '0xfbeef911dc5821886e1dda71586d90ed28174b7d',\n    BuyAdapter: '0xfbeef911dc5821886e1dda71586d90ed28174b7d',\n    MarketplaceAdapter: '0xf4fbd84193f9aaf9779dedbb415a806933eb1c95'\n  }\n}[network]\n\nconst { DigitalAsset, MarketplaceAdapter } = contractAddresses\n\nexport type ContractName = keyof typeof contractAddresses\n\nexport class ContractService implements ContractServiceInterface {\n  static contractAddresses = contractAddresses\n\n  contractAddresses = contractAddresses\n\n  contractSymbols = {\n    [DigitalAsset]: 'KnownOriginDigitalAssetV2',\n    [MarketplaceAdapter]: 'Partner Marketplace'\n  } as const\n\n  contractNames = {\n    [DigitalAsset]: 'KnownOrigin',\n    [MarketplaceAdapter]: 'Partner Marketplace'\n  } as const\n\n  contractCategories = {\n    [DigitalAsset]: NFTCategory.ART\n  } as const\n\n  getTransferType(_address: string) {\n    return TransferType.SAFE_TRANSFER_FROM\n  }\n}\n","import { getData } from 'decentraland-dapps/dist/modules/transaction/selectors'\nimport { Transaction } from 'decentraland-dapps/dist/modules/transaction/types'\nimport { RootState } from '../reducer'\nimport { createSelector } from 'reselect'\nimport { getAddress } from '../wallet/selectors'\n\nexport * from 'decentraland-dapps/dist/modules/transaction/selectors'\n\nexport const getTransactionsByType = (\n  state: RootState,\n  address: string,\n  type: string\n): Transaction[] =>\n  getData(state).filter(\n    tx => tx.from.toLowerCase() === address && tx.actionType === type\n  )\n\nexport const getTransactions = createSelector<\n  RootState,\n  Transaction[],\n  string | undefined,\n  Transaction[]\n>(getData, getAddress, (transactions, address) =>\n  transactions.filter(\n    transaction =>\n      !!address && transaction.from.toLowerCase() === address.toLowerCase()\n  )\n)\n","import { BidService } from './BidService'\nimport { ContractService } from './ContractService'\nimport { NFTService } from './NFTService'\nimport { OrderService } from './OrderService'\n\nexport * from './bid'\nexport * from './land'\nexport * from './nft'\nexport * from './order'\nexport * from './routing'\n\nexport * from './BidService'\nexport * from './ContractService'\nexport * from './NFTService'\nexport * from './OrderService'\n\nexport const services = {\n  BidService,\n  ContractService,\n  NFTService,\n  OrderService\n}\n","import { ContractService as ContractServiceInterface } from '../services'\nimport { Network } from '../../contract/types'\nimport { NFTCategory } from '../../nft/types'\nimport { TransferType } from '../types'\n\nconst network = process.env.REACT_APP_NETWORK! as Network\n\n// No Ropsten!\nconst contractAddresses = {\n  [Network.ROPSTEN]: {\n    DigitalMediaCore: '0x2a46f2ffd99e19a89476e2f62270e0a35bbf0756',\n    DigitalMediaCore2: '0x2d9e5de7d36f3830c010a28b29b3bdf5ca73198e',\n    MarketplaceAdapter: '0xd1e4e2880ff56cd0d5c68da9bed58bfbf0150948'\n  },\n  [Network.BSC]: {\n    DigitalMediaCore: '0x2a46f2ffd99e19a89476e2f62270e0a35bbf0756',\n    DigitalMediaCore2: '0x2d9e5de7d36f3830c010a28b29b3bdf5ca73198e',\n    MarketplaceAdapter: '0xf4fbd84193f9aaf9779dedbb415a806933eb1c95'\n  }\n}[network]\n\nconst {\n  DigitalMediaCore,\n  DigitalMediaCore2,\n  MarketplaceAdapter\n} = contractAddresses\n\nexport type ContractName = keyof typeof contractAddresses\n\nexport class ContractService implements ContractServiceInterface {\n  static contractAddresses = contractAddresses\n\n  contractAddresses = contractAddresses\n\n  contractSymbols = {\n    [DigitalMediaCore]: 'MakersTokenV2',\n    [DigitalMediaCore2]: 'MakersTokenV2',\n    [MarketplaceAdapter]: 'Partner Marketplace'\n  } as const\n\n  contractNames = {\n    [DigitalMediaCore]: 'MakersPlace',\n    [DigitalMediaCore2]: 'MakersPlace',\n    [MarketplaceAdapter]: 'BuyAdapter'\n  } as const\n\n  contractCategories = {\n    [DigitalMediaCore]: NFTCategory.ART,\n    [DigitalMediaCore2]: NFTCategory.ART\n  } as const\n\n  getTransferType(_address: string) {\n    return TransferType.SAFE_TRANSFER_FROM\n  }\n}\n","export function shortenAddress(address: string) {\n  if (address) {\n    return address.slice(0, 6) + '...' + address.slice(42 - 5)\n  }\n}\n\nexport function addressEquals(address1?: string, address2?: string) {\n  return (\n    address1 !== undefined &&\n    address2 !== undefined &&\n    address1.toLowerCase() === address2.toLowerCase()\n  )\n}\n","import { gql } from 'apollo-boost'\nimport { Bid } from '../../../bid/types'\nimport { NFTFields, nftFields } from '../nft/fragments'\n\nexport const bidFields = () => gql`\n  fragment bidFields on Bid {\n    id\n    blockchainId\n    category\n    bidder\n    seller\n    price\n    fingerprint\n    status\n    blockNumber\n    expiresAt\n    createdAt\n    updatedAt\n  }\n`\n\nexport const bidFragment = () => gql`\n  fragment bidFragment on Bid {\n    ...bidFields\n    nft {\n      ...nftFields\n    }\n  }\n  ${bidFields()}\n  ${nftFields()}\n`\n\nexport type BidFields = Omit<Bid, 'name' | 'contractAddress' | 'tokenId'>\nexport type BidFragment = BidFields & { nft: NFTFields }\n","import { gql } from 'apollo-boost'\nimport { client } from '../api'\nimport { OrderStatus } from '../../../order/types'\nimport { BidFragment, bidFragment } from './fragments'\n\nclass BidAPI {\n  async fetchBySeller(seller: string) {\n    const { data } = await client.query<{ bids: BidFragment[] }>({\n      query: BIDS_BY_SELLER_QUERY,\n      variables: {\n        seller,\n        expiresAt: Date.now().toString()\n      }\n    })\n\n    return data.bids\n  }\n\n  async fetchByBidder(bidder: string) {\n    const { data } = await client.query<{ bids: BidFragment[] }>({\n      query: BIDS_BY_BIDDER_QUERY,\n      variables: {\n        bidder,\n        expiresAt: Date.now().toString()\n      }\n    })\n\n    return data.bids\n  }\n\n  async fetchByNFT(nftId: string, status: OrderStatus = OrderStatus.OPEN) {\n    const { data } = await client.query<{ bids: BidFragment[] }>({\n      query: BIDS_BY_NFT_QUERY,\n      variables: {\n        nftId,\n        status: status.toString(),\n        expiresAt: Date.now().toString()\n      }\n    })\n\n    return data.bids\n  }\n}\n\nconst BIDS_BY_SELLER_QUERY = gql`\n  query BidsBySeller($seller: String, $expiresAt: String) {\n    bids(where: { seller: $seller, status: open, expiresAt_gt: $expiresAt }) {\n      ...bidFragment\n    }\n  }\n  ${bidFragment()}\n`\n\nconst BIDS_BY_BIDDER_QUERY = gql`\n  query BidsByBidder($bidder: String, $expiresAt: String) {\n    bids(where: { bidder: $bidder, status: open, expiresAt_gt: $expiresAt }) {\n      ...bidFragment\n    }\n  }\n  ${bidFragment()}\n`\n\nconst BIDS_BY_NFT_QUERY = gql`\n  query BidsByNFT($nftId: String, $status: OrderStatus, $expiresAt: String) {\n    bids(where: { nft: $nftId, status: $status, expiresAt_gt: $expiresAt }) {\n      ...bidFragment\n    }\n  }\n  ${bidFragment()}\n`\n\nexport const bidAPI = new BidAPI()\n","import { ContractAbi} from 'web3x-es/contract';\nexport default new ContractAbi([\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_converter\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address payable\",\n        \"name\": \"_collector\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_adapderFee\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"previousFee\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"newFee\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"AdapterFeeChange\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"registry\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"uint256\",\n        \"name\": \"tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"marketplace\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"orderValue\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"orderFees\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ExecutedOrder\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"marketplace\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"orderValue\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"orderFees\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes\",\n        \"name\": \"marketplaceData\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"ExecutedOrder\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"collector\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"FeesCollectorChange\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"marketplace\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bool\",\n        \"name\": \"value\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"MarketplaceAllowance\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"converter\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"SetConverter\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"ADAPTER_FEE_MAX\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"ADAPTER_FEE_PRECISION\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"adapterFeesCollector\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address payable\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"adapterTransactionFee\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"contract ITransferableRegistry\",\n        \"name\": \"_registry\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_marketplace\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"_encodedCallData\",\n        \"type\": \"bytes\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_orderAmount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"enum BuyAdapter.TransferType\",\n        \"name\": \"_transferType\",\n        \"type\": \"uint8\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_beneficiary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"buy\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"contract ITransferableRegistry\",\n        \"name\": \"_registry\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_marketplace\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"_encodedCallData\",\n        \"type\": \"bytes\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_orderAmount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"contract IERC20\",\n        \"name\": \"_paymentToken\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_maxPaymentTokenAmount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"enum BuyAdapter.TransferType\",\n        \"name\": \"_transferType\",\n        \"type\": \"uint8\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_beneficiary\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"buy\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_marketplace\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"_encodedCallData\",\n        \"type\": \"bytes\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_orderAmount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"contract IERC20\",\n        \"name\": \"_paymentToken\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_maxPaymentTokenAmount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"buy\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_marketplace\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"_encodedCallData\",\n        \"type\": \"bytes\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_orderAmount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"buy\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"converterAddress\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"onERC721Received\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bytes4\",\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"onERC721Received\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bytes4\",\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"stateMutability\": \"pure\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_transactionFee\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"setAdapterFee\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_converter\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setConverter\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address payable\",\n        \"name\": \"_collector\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setFeesCollector\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n]);\n","import BN from \"bn.js\";\nimport { Address } from \"web3x-es/address\";\nimport { EventLog, TransactionReceipt } from \"web3x-es/formatters\";\nimport { Contract, ContractOptions, TxCall, TxSend, EventSubscriptionFactory } from \"web3x-es/contract\";\nimport { Eth } from \"web3x-es/eth\";\nimport abi from \"./MarketplaceAdapterAbi\";\nexport type AdapterFeeChangeEvent = {\n    previousFee: string;\n    newFee: string;\n};\nexport type ExecutedOrderEvent = {\n    registry: Address;\n    tokenId: string;\n    marketplace: Address;\n    orderValue: string;\n    orderFees: string;\n};\nexport type FeesCollectorChangeEvent = {\n    collector: Address;\n};\nexport type MarketplaceAllowanceEvent = {\n    marketplace: Address;\n    value: boolean;\n};\nexport type OwnershipTransferredEvent = {\n    previousOwner: Address;\n    newOwner: Address;\n};\nexport type SetConverterEvent = {\n    converter: Address;\n};\nexport interface AdapterFeeChangeEventLog extends EventLog<AdapterFeeChangeEvent, \"AdapterFeeChange\"> {\n}\nexport interface ExecutedOrderEventLog extends EventLog<ExecutedOrderEvent, \"ExecutedOrder\"> {\n}\nexport interface FeesCollectorChangeEventLog extends EventLog<FeesCollectorChangeEvent, \"FeesCollectorChange\"> {\n}\nexport interface MarketplaceAllowanceEventLog extends EventLog<MarketplaceAllowanceEvent, \"MarketplaceAllowance\"> {\n}\nexport interface OwnershipTransferredEventLog extends EventLog<OwnershipTransferredEvent, \"OwnershipTransferred\"> {\n}\nexport interface SetConverterEventLog extends EventLog<SetConverterEvent, \"SetConverter\"> {\n}\ninterface MarketplaceAdapterEvents {\n    AdapterFeeChange: EventSubscriptionFactory<AdapterFeeChangeEventLog>;\n    ExecutedOrder: EventSubscriptionFactory<ExecutedOrderEventLog>;\n    FeesCollectorChange: EventSubscriptionFactory<FeesCollectorChangeEventLog>;\n    MarketplaceAllowance: EventSubscriptionFactory<MarketplaceAllowanceEventLog>;\n    OwnershipTransferred: EventSubscriptionFactory<OwnershipTransferredEventLog>;\n    SetConverter: EventSubscriptionFactory<SetConverterEventLog>;\n}\ninterface MarketplaceAdapterEventLogs {\n    AdapterFeeChange: AdapterFeeChangeEventLog;\n    ExecutedOrder: ExecutedOrderEventLog;\n    FeesCollectorChange: FeesCollectorChangeEventLog;\n    MarketplaceAllowance: MarketplaceAllowanceEventLog;\n    OwnershipTransferred: OwnershipTransferredEventLog;\n    SetConverter: SetConverterEventLog;\n}\ninterface MarketplaceAdapterTxEventLogs {\n    AdapterFeeChange: AdapterFeeChangeEventLog[];\n    ExecutedOrder: ExecutedOrderEventLog[];\n    FeesCollectorChange: FeesCollectorChangeEventLog[];\n    MarketplaceAllowance: MarketplaceAllowanceEventLog[];\n    OwnershipTransferred: OwnershipTransferredEventLog[];\n    SetConverter: SetConverterEventLog[];\n}\nexport interface MarketplaceAdapterTransactionReceipt extends TransactionReceipt<MarketplaceAdapterTxEventLogs> {\n}\ninterface MarketplaceAdapterMethods {\n    ADAPTER_FEE_MAX(): TxCall<string>;\n    ADAPTER_FEE_PRECISION(): TxCall<string>;\n    adapterFeesCollector(): TxCall<Address>;\n    adapterTransactionFee(): TxCall<string>;\n    buy(_registry: Address, _tokenId: number | string | BN, _marketplace: Address, _encodedCallData: string, _orderAmount: number | string | BN, _transferType: number | string | BN, _beneficiary: Address): TxSend<MarketplaceAdapterTransactionReceipt>;\n    buy(_registry: Address, _tokenId: number | string | BN, _marketplace: Address, _encodedCallData: string, _orderAmount: number | string | BN, _paymentToken: Address, _maxPaymentTokenAmount: number | string | BN, _transferType: number | string | BN, _beneficiary: Address): TxSend<MarketplaceAdapterTransactionReceipt>;\n    buy(_marketplace: Address, _encodedCallData: string, _orderAmount: number | string | BN, _paymentToken: Address, _maxPaymentTokenAmount: number | string | BN): TxSend<MarketplaceAdapterTransactionReceipt>;\n    buy(_marketplace: Address, _encodedCallData: string, _orderAmount: number | string | BN): TxSend<MarketplaceAdapterTransactionReceipt>;\n    converterAddress(): TxCall<Address>;\n    onERC721Received(a0: Address, a1: Address, a2: number | string | BN, a3: string): TxSend<MarketplaceAdapterTransactionReceipt>;\n    onERC721Received(a0: Address, a1: number | string | BN, a2: string): TxCall<string>;\n    owner(): TxCall<Address>;\n    renounceOwnership(): TxSend<MarketplaceAdapterTransactionReceipt>;\n    setAdapterFee(_transactionFee: number | string | BN): TxSend<MarketplaceAdapterTransactionReceipt>;\n    setConverter(_converter: Address): TxSend<MarketplaceAdapterTransactionReceipt>;\n    setFeesCollector(_collector: Address): TxSend<MarketplaceAdapterTransactionReceipt>;\n    transferOwnership(newOwner: Address): TxSend<MarketplaceAdapterTransactionReceipt>;\n}\nexport interface MarketplaceAdapterDefinition {\n    methods: MarketplaceAdapterMethods;\n    events: MarketplaceAdapterEvents;\n    eventLogs: MarketplaceAdapterEventLogs;\n}\nexport class MarketplaceAdapter extends Contract<MarketplaceAdapterDefinition> {\n    constructor(eth: Eth, address?: Address, options?: ContractOptions) {\n        super(eth, abi, address, options);\n    }\n    deploy(_converter: Address, _collector: Address, _adapderFee: number | string | BN): TxSend<MarketplaceAdapterTransactionReceipt> {\n        return super.deployBytecode(\"0x60806040523480156200001157600080fd5b5060405162003f8638038062003f86833981810160405260608110156200003757600080fd5b8101908080519060200190929190805190602001909291908051906020019092919050505060006200006e6200014f60201b60201c565b9050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3506001808190555062000124836200015760201b60201c565b6200013582620002b060201b60201c565b62000146816200040960201b60201c565b50505062000584565b600033905090565b620001676200014f60201b60201c565b73ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161462000229576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b80600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff167fc06343c9448e37c4ed257861469b4b35c140991c9cf08a4c38d335a1bc6a75d360405160405180910390a250565b620002c06200014f60201b60201c565b73ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161462000382576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b80600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff167fba265e20be387f8937b3b82562be8389bc8d09d0342f59413cdbc3dd414e564260405160405180910390a250565b620004196200014f60201b60201c565b73ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614620004db576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b80620249f0101562000539576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602381526020018062003f636023913960400191505060405180910390fd5b7f552893ff1179f25b1926dceb67fd12d0cc80f321a3ab90033956728e3ab106b960035482604051808381526020018281526020019250505060405180910390a18060038190555050565b6139cf80620005946000396000f3fe6080604052600436106101025760003560e01c806391c0871c11610095578063bba3a7c711610064578063bba3a7c7146108ac578063ce45332614610991578063f0b9e5ba146109e8578063f2fde38b14610b2c578063fd7d4b8f14610b7d576101ab565b806391c0871c14610590578063aba1e2ba14610704578063b19337a414610820578063ba215f6314610871576101ab565b806370bbde42116100d157806370bbde42146103bb578063715018a6146103e6578063742e08e3146103fd5780638da5cb5b14610539576101ab565b8063150b7a02146101b05780632c5eadde14610314578063373071f21461033f57806345ce5f1914610390576101ab565b366101ab573273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156101a9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f427579416461707465723a2073656e64657220696e76616c696400000000000081525060200191505060405180910390fd5b005b600080fd5b3480156101bc57600080fd5b506102c0600480360360808110156101d357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561023a57600080fd5b82018360208201111561024c57600080fd5b8035906020019184600183028401116401000000008311171561026e57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610bd4565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b34801561032057600080fd5b50610329610be8565b6040518082815260200191505060405180910390f35b34801561034b57600080fd5b5061038e6004803603602081101561036257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610bef565b005b34801561039c57600080fd5b506103a5610d3f565b6040518082815260200191505060405180910390f35b3480156103c757600080fd5b506103d0610d45565b6040518082815260200191505060405180910390f35b3480156103f257600080fd5b506103fb610d4c565b005b610537600480360360e081101561041357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561047a57600080fd5b82018360208201111561048c57600080fd5b803590602001918460018302840111640100000000831117156104ae57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929080359060200190929190803560ff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610ed4565b005b34801561054557600080fd5b5061054e610ff3565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561059c57600080fd5b5061070260048036036101208110156105b457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561061b57600080fd5b82018360208201111561062d57600080fd5b8035906020019184600183028401116401000000008311171561064f57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803560ff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061101c565b005b34801561071057600080fd5b5061081e600480360360a081101561072757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561076457600080fd5b82018360208201111561077657600080fd5b8035906020019184600183028401116401000000008311171561079857600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611467565b005b34801561082c57600080fd5b5061086f6004803603602081101561084357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506118aa565b005b34801561087d57600080fd5b506108aa6004803603602081101561089457600080fd5b81019080803590602001909291905050506119fa565b005b61098f600480360360608110156108c257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156108ff57600080fd5b82018360208201111561091157600080fd5b8035906020019184600183028401116401000000008311171561093357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929080359060200190929190505050611b6a565b005b34801561099d57600080fd5b506109a6611c81565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156109f457600080fd5b50610ad860048036036060811015610a0b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919080359060200190640100000000811115610a5257600080fd5b820183602082011115610a6457600080fd5b80359060200191846001830284011164010000000083111715610a8657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611ca7565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b348015610b3857600080fd5b50610b7b60048036036020811015610b4f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611cba565b005b348015610b8957600080fd5b50610b92611ec7565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b600063150b7a0260e01b9050949350505050565b620249f081565b610bf7611eed565b73ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610cb8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b80600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff167fba265e20be387f8937b3b82562be8389bc8d09d0342f59413cdbc3dd414e564260405160405180910390a250565b60035481565b620f424081565b610d54611eed565b73ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610e15576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60026001541415610f4d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0081525060200191505060405180910390fd5b60026001819055506000610f6084611ef5565b90506000610f778286611f2890919063ffffffff16565b9050803414610fd1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f81526020018061390b602f913960400191505060405180910390fd5b610fe18989898989878a8a611fb0565b50506001808190555050505050505050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60026001541415611095576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0081525060200191505060405180910390fd5b60026001819055506000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060006110cf87611ef5565b905060006110e68289611f2890919063ffffffff16565b905060008373ffffffffffffffffffffffffffffffffffffffff1663b27f823689846040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060206040518083038186803b15801561116f57600080fd5b505afa158015611183573d6000803e3d6000fd5b505050506040513d602081101561119957600080fd5b8101908080519060200190929190505050905060008111611205576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806138786026913960400191505060405180910390fd5b8681111561125e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260378152602001806137476037913960400191505060405180910390fd5b61128b3330838b73ffffffffffffffffffffffffffffffffffffffff1661248d909392919063ffffffff16565b6112d8600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16828a73ffffffffffffffffffffffffffffffffffffffff1661257a9092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff16633bba21dc8b85876040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200193505050506040805180830381600087803b15801561136957600080fd5b505af115801561137d573d6000803e3d6000fd5b505050506040513d604081101561139357600080fd5b8101908080519060200190929190805190602001909291905050509150915083821461140a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260318152602001806138266031913960400191505060405180910390fd5b600081111561143f5761143e33828c73ffffffffffffffffffffffffffffffffffffffff166127819092919063ffffffff16565b5b61144f8f8f8f8f8f8a8e8e611fb0565b50505050505060018081905550505050505050505050565b600260015414156114e0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0081525060200191505060405180910390fd5b60026001819055506000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600061151a85611ef5565b905060006115318287611f2890919063ffffffff16565b905060008373ffffffffffffffffffffffffffffffffffffffff1663b27f823687846040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060206040518083038186803b1580156115ba57600080fd5b505afa1580156115ce573d6000803e3d6000fd5b505050506040513d60208110156115e457600080fd5b8101908080519060200190929190505050905060008111611650576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806138786026913960400191505060405180910390fd5b848111156116a9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260378152602001806137476037913960400191505060405180910390fd5b6116d63330838973ffffffffffffffffffffffffffffffffffffffff1661248d909392919063ffffffff16565b611723600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16828873ffffffffffffffffffffffffffffffffffffffff1661257a9092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff16633bba21dc8985876040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200193505050506040805180830381600087803b1580156117b457600080fd5b505af11580156117c8573d6000803e3d6000fd5b505050506040513d60408110156117de57600080fd5b81019080805190602001909291908051906020019092919050505091509150838214611855576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260318152602001806138266031913960400191505060405180910390fd5b600081111561188a5761188933828a73ffffffffffffffffffffffffffffffffffffffff166127819092919063ffffffff16565b5b6118968b8b8b88612839565b505050505050600180819055505050505050565b6118b2611eed565b73ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614611973576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b80600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff167fc06343c9448e37c4ed257861469b4b35c140991c9cf08a4c38d335a1bc6a75d360405160405180910390a250565b611a02611eed565b73ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614611ac3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b80620249f01015611b1f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806138e86023913960400191505060405180910390fd5b7f552893ff1179f25b1926dceb67fd12d0cc80f321a3ab90033956728e3ab106b960035482604051808381526020018281526020019250505060405180910390a18060038190555050565b60026001541415611be3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0081525060200191505060405180910390fd5b60026001819055506000611bf682611ef5565b90506000611c0d8284611f2890919063ffffffff16565b9050803414611c67576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f81526020018061390b602f913960400191505060405180910390fd5b611c7385858585612839565b505060018081905550505050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600063f0b9e5ba60e01b90509392505050565b611cc2611eed565b73ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614611d83576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415611e09576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806137216026913960400191505060405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600033905090565b6000611f21620f4240611f1360035485612c4c90919063ffffffff16565b612cd290919063ffffffff16565b9050919050565b600080828401905083811015611fa6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b60008411612026576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f427579416461707465723a20696e76616c6964206f726465722076616c75650081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156120ce576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806137cd6026913960400191505060405180910390fd5b600047905060008773ffffffffffffffffffffffffffffffffffffffff1686886040518082805190602001908083835b6020831061212157805182526020820191506020810190506020830392506120fe565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114612183576040519150601f19603f3d011682016040523d82523d6000602084013e612188565b606091505b50509050806121e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260338152602001806137f36033913960400191505060405180910390fd5b6121f58683612d1c90919063ffffffff16565b471461224c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602581526020018061389e6025913960400191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff168a73ffffffffffffffffffffffffffffffffffffffff16636352211e8b6040518263ffffffff1660e01b81526004018082815260200191505060206040518083038186803b1580156122b457600080fd5b505afa1580156122c8573d6000803e3d6000fd5b505050506040513d60208110156122de57600080fd5b810190808051906020019092919050505073ffffffffffffffffffffffffffffffffffffffff161461235b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806136ff6022913960400191505060405180910390fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f19350505050612407576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b81526020018061377e602b913960400191505060405180910390fd5b6124138a8a8686612d66565b8773ffffffffffffffffffffffffffffffffffffffff16898b73ffffffffffffffffffffffffffffffffffffffff167f41db66efa207667201b031e90bc1ac58c2af27431cb9961a9391c8d9485c1c5b8989604051808381526020018281526020019250505060405180910390a450505050505050505050565b612574846323b872dd60e01b858585604051602401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050613220565b50505050565b6000811480612674575060008373ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e30856040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060206040518083038186803b15801561263757600080fd5b505afa15801561264b573d6000803e3d6000fd5b505050506040513d602081101561266157600080fd5b8101908080519060200190929190505050145b6126c9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260368152602001806139646036913960400191505060405180910390fd5b61277c8363095ea7b360e01b8484604051602401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050613220565b505050565b6128348363a9059cbb60e01b8484604051602401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050613220565b505050565b600082116128af576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f427579416461707465723a20696e76616c6964206f726465722076616c75650081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415612957576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806137cd6026913960400191505060405180910390fd5b600047905060008573ffffffffffffffffffffffffffffffffffffffff1684866040518082805190602001908083835b602083106129aa5780518252602082019150602081019050602083039250612987565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114612a0c576040519150601f19603f3d011682016040523d82523d6000602084013e612a11565b606091505b5050905080612a6b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260338152602001806137f36033913960400191505060405180910390fd5b612a7e8483612d1c90919063ffffffff16565b4714612ad5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602581526020018061389e6025913960400191505060405180910390fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f19350505050612b81576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b81526020018061377e602b913960400191505060405180910390fd5b8573ffffffffffffffffffffffffffffffffffffffff167f252c6c3690d9bf864928fcc8c84eb799be8e3324c6cb81eb35bea7a4c76f21068585886040518084815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015612c08578082015181840152602081019050612bed565b50505050905090810190601f168015612c355780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a2505050505050565b600080831415612c5f5760009050612ccc565b6000828402905082848281612c7057fe5b0414612cc7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806138576021913960400191505060405180910390fd5b809150505b92915050565b6000612d1483836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f00000000000081525061330f565b905092915050565b6000612d5e83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f7700008152506133d5565b905092915050565b3073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415612e08576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f427579416461707465723a20696e76616c69642062656e65666963696172790081525060200191505060405180910390fd5b60006002811115612e1557fe5b826002811115612e2157fe5b1415612eff578373ffffffffffffffffffffffffffffffffffffffff166342842e0e3083866040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b158015612ee257600080fd5b505af1158015612ef6573d6000803e3d6000fd5b5050505061310b565b60016002811115612f0c57fe5b826002811115612f1857fe5b1415612ff6578373ffffffffffffffffffffffffffffffffffffffff166323b872dd3083866040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b158015612fd957600080fd5b505af1158015612fed573d6000803e3d6000fd5b5050505061310a565b60028081111561300257fe5b82600281111561300e57fe5b14156130b8578373ffffffffffffffffffffffffffffffffffffffff1663a9059cbb82856040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b15801561309b57600080fd5b505af11580156130af573d6000803e3d6000fd5b50505050613109565b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806137a96024913960400191505060405180910390fd5b5b5b8073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16636352211e856040518263ffffffff1660e01b81526004018082815260200191505060206040518083038186803b15801561317357600080fd5b505afa158015613187573d6000803e3d6000fd5b505050506040513d602081101561319d57600080fd5b810190808051906020019092919050505073ffffffffffffffffffffffffffffffffffffffff161461321a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806138c36025913960400191505060405180910390fd5b50505050565b6060613282826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c65648152508573ffffffffffffffffffffffffffffffffffffffff166134959092919063ffffffff16565b905060008151111561330a578080602001905160208110156132a357600080fd5b8101908080519060200190929190505050613309576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a81526020018061393a602a913960400191505060405180910390fd5b5b505050565b600080831182906133bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015613380578082015181840152602081019050613365565b50505050905090810190601f1680156133ad5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385816133c757fe5b049050809150509392505050565b6000838311158290613482576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561344757808201518184015260208101905061342c565b50505050905090810190601f1680156134745780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b60606134a484846000856134ad565b90509392505050565b60606134b8856136b3565b61352a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000081525060200191505060405180910390fd5b600060608673ffffffffffffffffffffffffffffffffffffffff1685876040518082805190602001908083835b6020831061357a5780518252602082019150602081019050602083039250613557565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d80600081146135dc576040519150601f19603f3d011682016040523d82523d6000602084013e6135e1565b606091505b509150915081156135f65780925050506136ab565b6000815111156136095780518082602001fd5b836040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015613670578082015181840152602081019050613655565b50505050905090810190601f16801561369d5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b949350505050565b60008060007fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a47060001b9050833f91508082141580156136f557506000801b8214155b9250505091905056fe427579416461707465723a20746f6b656e4964206e6f74207472616e7366657265644f776e61626c653a206e6577206f776e657220697320746865207a65726f2061646472657373427579416461707465723a207061796d656e74546f6b656e416d6f756e74203e205f6d61785061796d656e74546f6b656e416d6f756e74427579416461707465723a206572726f722073656e64696e67206665657320746f20636f6c6c6563746f72427579416461707465723a20556e736f70706f72746564207472616e7366657254797065427579416461707465723a206665657320436f6c6c6563746f72206d75737420626520736574427579416461707465723a206d61726b6574706c616365206661696c656420746f206578656375746520627579206f72646572427579416461707465723a20696e76616c696420657468657220616d6f756e7420616674657220636f6e76657273696f6e536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f77427579416461707465723a207061796d656e74546f6b656e416d6f756e7420696e76616c6964427579416461707465723a20706f737463616c6c2062616c616e6365206d69736d61746368427579416461707465723a206572726f722077697468206173736574207472616e73666572427579416461707465723a20496e76616c6964207472616e73616374696f6e20666565427579416461707465723a20696e76616c6964206d73672e76616c756520213d20286f72646572202b2066656573295361666545524332303a204552433230206f7065726174696f6e20646964206e6f7420737563636565645361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f20746f206e6f6e2d7a65726f20616c6c6f77616e6365a2646970667358221220ef4c536021024d97109b527ce9eec19b40e488e9250cbcb4b962d337e5a5c38f64736f6c63430006080033427579416461707465723a20496e76616c6964207472616e73616374696f6e20666565\", _converter, _collector, _adapderFee) as any;\n    }\n}\nexport var MarketplaceAdapterAbi = abi;\n","import { NFTService } from './NFTService'\nimport { ContractService } from './ContractService'\nimport { OrderService } from './OrderService'\n\nexport * from './types'\nexport * from './nft'\nexport * from './routing'\n\nexport * from './NFTService'\nexport * from './ContractService'\nexport * from './OrderService'\nexport const services = {\n  NFTService,\n  ContractService,\n  OrderService\n}\n","import { NFTService } from './NFTService'\nimport { ContractService } from './ContractService'\nimport { OrderService } from './OrderService'\n\nexport * from './types'\nexport * from './nft'\nexport * from './routing'\n\nexport * from './NFTService'\nexport * from './ContractService'\nexport * from './OrderService'\nexport const services = {\n  NFTService,\n  ContractService,\n  OrderService\n}\n","import { AxiosRequestConfig } from 'axios'\nimport { BaseAPI } from 'decentraland-dapps/dist/lib/api'\nimport { SortDirection } from '../../routing/types'\nimport { NFTsFetchParams, NFTSortBy } from '../../nft/types'\nimport {\n  Response,\n  FetchSuccessResponse,\n  FetchOneSuccessResponse,\n  MakersPlaceFetchParams,\n  MakersPlaceFetchOneParams,\n  MakersPlaceSort\n} from './types'\n\nconst API_URL = process.env.REACT_APP_MAKERS_PLACE_API_URL!\n\nexport const MAX_QUERY_SIZE = 50\n\nclass MakersPlaceAPI extends BaseAPI {\n  constructor(url: string) {\n    super(url)\n\n    if (!url) {\n      throw new Error(`Invalid MakersPlace API URL \"${url}\"`)\n    }\n  }\n\n  async fetch(params: NFTsFetchParams): Promise<FetchSuccessResponse> {\n    const skip = params.skip || 0\n    const page_size = Math.min(params.first, MAX_QUERY_SIZE)\n    const page_num = Math.ceil(skip / page_size) + 1\n\n    const requestParams: MakersPlaceFetchParams = {\n      page_num,\n      page_size,\n      on_sale: 'True',\n      owner_address: params.address,\n      q: params.search,\n      sort: this.getSort(params)\n    }\n    return this.request('get', '/assets/', requestParams)\n  }\n\n  async fetchOne(\n    contractAddress: string,\n    tokenId: string\n  ): Promise<FetchOneSuccessResponse> {\n    const requestParams: MakersPlaceFetchOneParams = {\n      token_id: Number(tokenId),\n      contract_address: contractAddress\n    }\n    return this.request('get', '/asset/', requestParams)\n  }\n\n  async request<T extends Response>(\n    method: AxiosRequestConfig['method'],\n    path: string,\n    params: MakersPlaceFetchParams | MakersPlaceFetchOneParams\n  ) {\n    const response: Response = await super.request(method, path, params)\n\n    if (response.status === 'failure') {\n      const errors = JSON.stringify(response.errors, null, 2)\n      throw new Error(`Error fetching MakersPlace path \"${path}\": ${errors}`)\n    }\n\n    return response as T\n  }\n\n  private getSort(params: NFTsFetchParams) {\n    let sort\n    switch (params.orderBy) {\n      case NFTSortBy.PRICE:\n        sort = 'price'\n        break\n      case NFTSortBy.ORDER_CREATED_AT:\n      default:\n        sort = 'createdAt'\n        break\n    }\n\n    const direction = params.orderDirection || SortDirection.DESC\n    return (sort + this.capitalize(direction)) as MakersPlaceSort\n  }\n\n  private capitalize(str: string) {\n    return str[0].toUpperCase() + str.slice(1).toLowerCase()\n  }\n}\n\nexport const makersPlaceAPI = new MakersPlaceAPI(API_URL)\n","import { NFTService } from './NFTService'\nimport { ContractService } from './ContractService'\nimport { OrderService } from './OrderService'\n\nexport * from './nft'\nexport * from './routing'\n\nexport * from './NFTService'\nexport * from './ContractService'\nexport * from './OrderService'\nexport const services = {\n  NFTService,\n  ContractService,\n  OrderService\n}\n","import * as decentraland from './decentraland'\nimport * as superRare from './super_rare'\nimport * as makersPlace from './makers_place'\nimport * as knownOrigin from './known_origin'\n\n// TODO: Rename to Vendor\nexport enum Vendors {\n  DECENTRALAND = 'decentraland',\n  SUPER_RARE = 'super_rare',\n  MAKERS_PLACE = 'makers_place',\n  KNOWN_ORIGIN = 'known_origin'\n}\n\nexport const Disabled = {}\n\nexport type ContractName =\n  | decentraland.ContractName\n  | superRare.ContractName\n  | makersPlace.ContractName\n  | knownOrigin.ContractName\n\nexport enum TransferType {\n  SAFE_TRANSFER_FROM = 0,\n  TRANSFER_FROM = 1,\n  TRANSFER = 2\n}\n","import { gql } from 'apollo-boost'\n\nimport { NFT } from '../../../nft/types'\nimport { Parcel } from '../../../nft/parcel/types'\nimport { Estate } from '../../../nft/estate/types'\nimport { Wearable } from '../../../nft/wearable/types'\nimport { ENS } from '../../../nft/ens/types'\nimport { orderFields, OrderFields } from '../order/fragments'\n\nexport const nftFields = () => gql`\n  fragment nftFields on NFT {\n    id\n    name\n    image\n    contractAddress\n    tokenId\n    category\n    owner {\n      address\n    }\n    parcel {\n      x\n      y\n      data {\n        description\n      }\n    }\n    estate {\n      size\n      parcels {\n        x\n        y\n      }\n      data {\n        description\n      }\n    }\n    wearable {\n      description\n      category\n      rarity\n      bodyShapes\n    }\n    ens {\n      subdomain\n    }\n  }\n`\n\nexport const nftFragment = () => gql`\n  fragment nftFragment on NFT {\n    ...nftFields\n    activeOrder(size_gt: 0) {\n      ...orderFields\n    }\n  }\n  ${nftFields()}\n  ${orderFields()}\n`\n\nexport type NFTFields = Omit<NFT, 'activeOrderId' | 'owner'> & {\n  owner: { address: string }\n  parcel?: Parcel\n  estate?: Estate\n  wearable?: Wearable\n  ens?: ENS\n}\nexport type NFTFragment = Omit<NFTFields, 'vendor'> & {\n  activeOrder: OrderFields | null\n}\n","import { VendorFactory } from '../vendor/VendorFactory'\nimport { ContractService } from '../vendor/services'\nimport { ContractName, Vendors } from '../vendor/types'\n\nexport let contractAddresses: ContractService['contractAddresses']\nexport let contractSymbols: ContractService['contractSymbols']\nexport let contractNames: ContractService['contractNames']\nexport let contractCategories: ContractService['contractCategories']\nexport let contractVendors: Record<string, Vendors>\n\nexport function buildContracts() {\n  const vendors = Object.values(Vendors).map(VendorFactory.build)\n\n  contractAddresses = vendors.reduce(\n    (obj, { contractService }) => ({\n      ...obj,\n      ...contractService.contractAddresses\n    }),\n    {} as ContractService['contractAddresses']\n  ) as Record<ContractName, string>\n\n  contractSymbols = vendors.reduce(\n    (obj, { contractService }) => ({\n      ...obj,\n      ...contractService.contractSymbols\n    }),\n    {} as ContractService['contractSymbols']\n  )\n\n  contractNames = vendors.reduce(\n    (obj, { contractService }) => ({\n      ...obj,\n      ...contractService.contractNames\n    }),\n    {} as ContractService['contractNames']\n  )\n\n  contractCategories = vendors.reduce(\n    (obj, { contractService }) => ({\n      ...obj,\n      ...contractService.contractCategories\n    }),\n    {} as ContractService['contractCategories']\n  )\n\n  contractVendors = {}\n  for (const { type, contractService } of vendors) {\n    const addresses: string[] = Object.values(contractService.contractAddresses)\n    for (const address of addresses) {\n      contractVendors[address] = type as Vendors\n    }\n  }\n}\n","import { Address } from 'web3x-es/address'\n\nimport { ERC721 } from '../../../contracts/ERC721'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport { locations } from '../../routing/locations'\nimport { NFT, NFTsFetchParams, NFTsCountParams } from '../../nft/types'\nimport { Order } from '../../order/types'\nimport { Account } from '../../account/types'\nimport { isExpired } from '../../order/utils'\nimport { NFTService as NFTServiceInterface } from '../services'\nimport { NFTsFetchFilters } from './nft/types'\nimport { Vendors } from '../types'\nimport { nftAPI } from './nft/api'\nimport { NFTFragment } from './nft/fragments'\nimport { ContractService } from './ContractService'\nimport { MAX_QUERY_SIZE } from './api'\n\n// TODO: remove this once TheGraph is working again as expected\nconst isBroken = (nft: NFT<Vendors.DECENTRALAND>) => {\n  return nft.data[nft.category as keyof typeof nft.data] == null\n}\n\nconst removeBrokenNFTs = (nfts: NFT<Vendors.DECENTRALAND>[]) => {\n  return nfts.filter(nft => !isBroken(nft))\n}\n\nexport class NFTService implements NFTServiceInterface<Vendors.DECENTRALAND> {\n  async fetch(params: NFTsFetchParams, filters?: NFTsFetchFilters) {\n    const [remoteNFTs, total] = await Promise.all([\n      nftAPI.fetch(params, filters),\n      this.count(params, filters)\n    ])\n\n    const nfts: NFT<Vendors.DECENTRALAND>[] = []\n    const accounts: Account[] = []\n    const orders: Order[] = []\n\n    for (const remoteNFT of remoteNFTs) {\n      const nft = this.toNFT(remoteNFT)\n      const order = this.toOrder(remoteNFT)\n\n      if (order && !isExpired(order.expiresAt!)) {\n        nft.activeOrderId = order.id\n        orders.push(order)\n      }\n\n      const address = nft.owner\n      let account = accounts.find(account => account.id === address)\n      if (!account) {\n        account = this.toAccount(address)\n      }\n      account.nftIds.push(nft.id)\n\n      nfts.push(nft)\n    }\n\n    return [removeBrokenNFTs(nfts), accounts, orders, total] as const\n  }\n\n  async count(countParams: NFTsCountParams, filters?: NFTsFetchFilters) {\n    const params: NFTsFetchParams = {\n      ...countParams,\n      first: MAX_QUERY_SIZE,\n      skip: 0\n    }\n    return nftAPI.count(params, filters)\n  }\n\n  async fetchOne(contractAddress: string, tokenId: string) {\n    const remoteNFT = await nftAPI.fetchOne(contractAddress, tokenId)\n\n    const nft = this.toNFT(remoteNFT)\n    const order = this.toOrder(remoteNFT)\n\n    if (order && !isExpired(order.expiresAt!)) {\n      nft.activeOrderId = order.id\n    }\n\n    if (isBroken(nft)) {\n      throw new Error('404')\n    }\n\n    return [nft, order] as const\n  }\n\n  async transfer(fromAddress: string, toAddress: string, nft: NFT) {\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n    const to = Address.fromString(toAddress)\n\n    const erc721 = await ContractFactory.build(ERC721, nft.contractAddress)\n\n    return erc721.methods\n      .transferFrom(from, to, nft.tokenId)\n      .send({ from })\n      .getTxHash()\n  }\n\n  toNFT(nft: NFTFragment): NFT<Vendors.DECENTRALAND> {\n    return {\n      id: nft.id,\n      tokenId: nft.tokenId,\n      contractAddress: nft.contractAddress,\n      activeOrderId: '',\n      owner: nft.owner.address.toLowerCase(),\n      name: nft.name,\n      image: nft.image,\n      url: locations.nft(nft.contractAddress, nft.tokenId),\n      data: {\n        parcel: nft.parcel,\n        estate: nft.estate,\n        wearable: nft.wearable,\n        ens: nft.ens\n      },\n      category: nft.category,\n      vendor: Vendors.DECENTRALAND\n    }\n  }\n\n  toOrder(nft: NFTFragment): Order | undefined {\n    let order: Order | undefined\n\n    if (nft.activeOrder) {\n      order = {\n        ...nft.activeOrder,\n        marketAddress: ContractService.contractAddresses.Marketplace,\n        nftId: nft.id\n      }\n    }\n\n    return order\n  }\n\n  toAccount(address: string): Account {\n    return {\n      id: address,\n      address,\n      nftIds: []\n    }\n  }\n}\n","import { gql } from 'apollo-boost'\n\nimport { client } from '../api'\nimport { orderFragment, OrderFragment } from './fragments'\n\nclass OrderAPI {\n  async fetchByNFT(nftId: string) {\n    const { data } = await client.query<{ orders: OrderFragment[] }>({\n      query: NFT_ORDERS_QUERY,\n      variables: { nftId }\n    })\n    return data.orders\n  }\n}\n\nconst NFT_ORDERS_QUERY = gql`\n  query NFTOrders($nftId: String!) {\n    orders(\n      where: { nft: $nftId, status: sold }\n      orderBy: createdAt\n      orderDirection: desc\n    ) {\n      ...orderFragment\n    }\n  }\n  ${orderFragment()}\n`\n\nexport const orderAPI = new OrderAPI()\n","import BN from 'bn.js'\nimport { Address } from 'web3x-es/address'\nimport { toBN, toWei } from 'web3x-es/utils'\n\nimport { ERC721 } from '../../../contracts/ERC721'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport {\n  NFT,\n  NFTCategory,\n  NFTsFetchParams,\n  NFTsCountParams\n} from '../../nft/types'\nimport { Order, OrderStatus } from '../../order/types'\nimport { Account } from '../../account/types'\nimport { getNFTId } from '../../nft/utils'\nimport { TokenConverter } from '../TokenConverter'\nimport { MarketplacePrice } from '../MarketplacePrice'\nimport { NFTService as NFTServiceInterface } from '../services'\nimport { Vendors, TransferType } from '../types'\nimport { ContractService } from './ContractService'\nimport { SuperRareAsset, SuperRareOrder, SuperRareOwner } from './types'\nimport { superRareAPI, MAX_QUERY_SIZE } from './api'\n\nexport class NFTService implements NFTServiceInterface<Vendors.SUPER_RARE> {\n  private tokenConverter: TokenConverter\n  private marketplacePrice: MarketplacePrice\n  private oneEthInWei: BN\n\n  constructor() {\n    this.tokenConverter = new TokenConverter()\n    this.marketplacePrice = new MarketplacePrice()\n    this.oneEthInWei = new BN('1000000000000000000') // 10 ** 18\n  }\n\n  async fetch(params: NFTsFetchParams) {\n    let remoteNFTs: SuperRareAsset[]\n    let remoteOrders: SuperRareOrder[]\n\n    if ((params.address && !params.onlyOnSale) || !params.onlyOnSale) {\n      const result = await Promise.all([\n        superRareAPI.fetchNFTs(params),\n        superRareAPI.fetchOrders(params)\n      ])\n      remoteNFTs = result[0]\n      remoteOrders = result[1]\n    } else {\n      remoteOrders = await superRareAPI.fetchOrders(params)\n      remoteNFTs = remoteOrders.map(order => order.asset)\n    }\n\n    const nfts: NFT<Vendors.SUPER_RARE>[] = []\n    const accounts: Account[] = []\n    const orders: Order[] = []\n\n    const total = await this.count(params)\n    const oneEthInMANA = await this.getOneEthInMANA()\n\n    for (const asset of remoteNFTs) {\n      const nft = this.toNFT(asset)\n\n      const remoteOrder = remoteOrders.find(\n        order => order.asset.id === asset.id\n      )\n\n      if (remoteOrder) {\n        const order = this.toOrder(remoteOrder, oneEthInMANA)\n\n        nft.activeOrderId = order.id\n        order.nftId = nft.id\n\n        orders.push(order)\n      }\n\n      let account = accounts.find(account => account.id === asset.owner.address)\n      if (!account) {\n        account = this.toAccount(asset.owner)\n      }\n      account.nftIds.push(nft.id)\n\n      nfts.push(nft)\n      accounts.push(account)\n    }\n\n    return [nfts, accounts, orders, total] as const\n  }\n\n  async count(countParams: NFTsCountParams) {\n    const params: NFTsFetchParams = {\n      ...countParams,\n      first: MAX_QUERY_SIZE,\n      skip: 0\n    }\n\n    let remoteElements\n    if (params.address) {\n      remoteElements = await superRareAPI.fetchNFTs(params)\n    } else {\n      remoteElements = await superRareAPI.fetchOrders(params)\n    }\n\n    return remoteElements.length\n  }\n\n  async fetchOne(contractAddress: string, tokenId: string) {\n    const [remoteNFT, remoteOrder, oneEthInMANA] = await Promise.all([\n      superRareAPI.fetchNFT(contractAddress, tokenId),\n      superRareAPI.fetchOrder(contractAddress, tokenId),\n      this.getOneEthInMANA()\n    ])\n\n    const nft = this.toNFT(remoteNFT)\n    let order: Order | undefined\n\n    if (remoteOrder) {\n      order = this.toOrder(remoteOrder, oneEthInMANA)\n\n      nft.activeOrderId = order.id\n      order.nftId = nft.id\n    }\n\n    return [nft, order] as const\n  }\n\n  async transfer(\n    fromAddress: string,\n    toAddress: string,\n    nft: NFT<Vendors.SUPER_RARE>\n  ) {\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n    const to = Address.fromString(toAddress)\n\n    const erc721 = await ContractFactory.build(ERC721, nft.contractAddress)\n    const transferType = new ContractService().getTransferType(\n      nft.contractAddress\n    )\n    let transaction\n\n    switch (transferType) {\n      case TransferType.TRANSFER:\n        transaction = erc721.methods.transfer(to, nft.tokenId)\n        break\n      case TransferType.SAFE_TRANSFER_FROM:\n      default:\n        transaction = erc721.methods.transferFrom(from, to, nft.tokenId)\n        break\n    }\n\n    return transaction.send({ from }).getTxHash()\n  }\n\n  toNFT(asset: SuperRareAsset): NFT<Vendors.SUPER_RARE> {\n    return {\n      id: getNFTId(asset.contractAddress, asset.id.toString()),\n      tokenId: asset.id.toString(),\n      contractAddress: asset.contractAddress,\n      activeOrderId: '',\n      owner: asset.owner.address,\n      name: asset.name,\n      image: asset.image,\n      url: asset.url,\n      data: {\n        description: asset.description\n      },\n      category: NFTCategory.ART,\n      vendor: Vendors.SUPER_RARE\n    }\n  }\n\n  toOrder(order: SuperRareOrder, oneEthInMANA: string): Order {\n    const { asset, taker } = order\n\n    const totalWei = this.marketplacePrice.addFee(order.amountWithFee)\n    const weiPrice = toBN(totalWei).mul(toBN(oneEthInMANA))\n    const price = weiPrice.div(this.oneEthInWei)\n\n    return {\n      id: `${Vendors.SUPER_RARE}-order-${asset.id}`,\n      nftId: asset.id.toString(),\n      category: NFTCategory.ART,\n      nftAddress: asset.contractAddress,\n      marketAddress: order.marketContractAddress,\n      owner: asset.owner.address,\n      buyer: taker ? taker.address : null,\n      price: price.toString(10),\n      ethPrice: order.amountWithFee.toString(),\n      status: OrderStatus.OPEN,\n      createdAt: order.timestamp,\n      updatedAt: order.timestamp\n    }\n  }\n\n  toAccount(account: SuperRareOwner): Account {\n    return {\n      id: account.address,\n      address: account.address,\n      nftIds: []\n    }\n  }\n\n  private async getOneEthInMANA() {\n    const mana = await this.tokenConverter.marketEthToMANA(1)\n    return toWei(mana.toString(), 'ether')\n  }\n}\n","import { Address } from 'web3x-es/address'\nimport { ABICoder } from 'web3x-es/contract/abi-coder'\n\nimport { MarketplaceAdapter } from '../../../contracts/MarketplaceAdapter'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport { NFT } from '../../nft/types'\nimport { Order } from '../../order/types'\nimport { TokenConverter } from '../TokenConverter'\nimport { MarketplacePrice } from '../MarketplacePrice'\nimport { ContractService as DecentralandContractService } from '../decentraland/ContractService'\nimport { Vendors } from '../types'\nimport { OrderService as OrderServiceInterface } from '../services'\nimport { ContractService } from './ContractService'\n\nexport class OrderService implements OrderServiceInterface<Vendors.SUPER_RARE> {\n  private tokenConverter: TokenConverter\n  private marketplacePrice: MarketplacePrice\n\n  constructor() {\n    this.tokenConverter = new TokenConverter()\n    this.marketplacePrice = new MarketplacePrice()\n  }\n\n  fetchByNFT(): any {\n    throw new Error('Method: `fetchByNFT` is not implemented')\n  }\n\n  create(): any {\n    throw new Error('Method: `create` is not implemented')\n  }\n\n  async execute(\n    nft: NFT<Vendors.SUPER_RARE>,\n    order: Order,\n    fromAddress: string\n  ): Promise<string> {\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const contractService = new ContractService()\n\n    // Addresses\n    const assetContractAddress = Address.fromString(nft.contractAddress)\n    const assetMarketAddress: Address = Address.fromString(order.marketAddress)\n    const manaTokenAddress = Address.fromString(\n      DecentralandContractService.contractAddresses.MANAToken\n    )\n    const from = Address.fromString(fromAddress)\n\n    // Data\n    const calldata = this.getCallData(nft)\n    const transferType = contractService.getTransferType(nft.contractAddress)\n\n    // Price\n    const manaPrice = await this.tokenConverter.contractEthToMANA(\n      order.ethPrice!\n    )\n    const maxPrice = this.marketplacePrice.addMaxSlippage(manaPrice)\n\n    // Contract\n    const marketplaceAdapter = await ContractFactory.build(\n      MarketplaceAdapter,\n      ContractService.contractAddresses.MarketplaceAdapter\n    )\n    return marketplaceAdapter.methods\n      .buy(\n        assetContractAddress,\n        nft.tokenId,\n        assetMarketAddress,\n        calldata,\n        order.ethPrice!,\n        manaTokenAddress,\n        maxPrice,\n        transferType,\n        from\n      )\n      .send({ from })\n      .getTxHash()\n  }\n\n  cancel(): any {\n    throw new Error('Method: `cancel` is not implemented')\n  }\n\n  canSell() {\n    return false\n  }\n\n  private getCallData(nft: NFT<Vendors.SUPER_RARE>) {\n    const { SuperRare, SuperRareV2 } = ContractService.contractAddresses\n    const abiCoder = new ABICoder()\n\n    switch (nft.contractAddress) {\n      case SuperRare:\n        return abiCoder.encodeFunctionCall(\n          {\n            name: 'buy',\n            type: 'function',\n            inputs: [{ type: 'uint256', name: 'TOKEN_ID' }]\n          },\n          [nft.tokenId]\n        )\n      case SuperRareV2:\n        return abiCoder.encodeFunctionCall(\n          {\n            name: 'buy',\n            type: 'function',\n            inputs: [\n              { type: 'address', name: 'ADDRESS_CONTRACT' },\n              { type: 'uint256', name: 'TOKEN_ID' }\n            ]\n          },\n          [nft.contractAddress, nft.tokenId]\n        )\n      default:\n        throw new Error(`Invalid SuperRare address ${nft.contractAddress}`)\n    }\n  }\n}\n","import BN from 'bn.js'\nimport { Address } from 'web3x-es/address'\nimport { toBN, toWei } from 'web3x-es/utils'\n\nimport { ERC721 } from '../../../contracts/ERC721'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport {\n  NFT,\n  NFTCategory,\n  NFTsFetchParams,\n  NFTsCountParams\n} from '../../nft/types'\nimport { Order, OrderStatus } from '../../order/types'\nimport { Account } from '../../account/types'\nimport { getNFTId } from '../../nft/utils'\nimport { TokenConverter } from '../TokenConverter'\nimport { MarketplacePrice } from '../MarketplacePrice'\nimport { NFTService as NFTServiceInterface } from '../services'\nimport { getOriginURL } from '../utils'\nimport { Vendors } from '../types'\nimport { MakersPlaceAsset } from './types'\nimport { makersPlaceAPI } from './api'\n\nexport class NFTService implements NFTServiceInterface<Vendors.MAKERS_PLACE> {\n  private tokenConverter: TokenConverter\n  private marketplacePrice: MarketplacePrice\n  private oneEthInWei: BN\n\n  constructor() {\n    this.tokenConverter = new TokenConverter()\n    this.marketplacePrice = new MarketplacePrice()\n    this.oneEthInWei = new BN('1000000000000000000') // 10 ** 18\n  }\n\n  async fetch(params: NFTsFetchParams) {\n    const [response, oneEthInMANA] = await Promise.all([\n      makersPlaceAPI.fetch(params),\n      this.getOneEthInMANA()\n    ])\n    const total = response.total_items\n\n    const remoteNFTs = response.items\n\n    const nfts: NFT<Vendors.MAKERS_PLACE>[] = []\n    const accounts: Account[] = []\n    const orders: Order[] = []\n\n    for (const asset of remoteNFTs) {\n      if (!this.isValid(asset)) {\n        continue\n      }\n      const nft = this.toNFT(asset)\n\n      if (this.isOnSale(asset)) {\n        const order = this.toOrder(asset, oneEthInMANA)\n\n        nft.activeOrderId = order.id\n        order.nftId = nft.id\n\n        orders.push(order)\n      }\n\n      let account = accounts.find(account => account.id === asset.owner)\n      if (!account) {\n        account = this.toAccount(asset.owner)\n      }\n      account.nftIds.push(nft.id)\n\n      nfts.push(nft)\n      accounts.push(account)\n    }\n\n    return [nfts, accounts, orders, total] as const\n  }\n\n  async count(countParams: NFTsCountParams) {\n    const params: NFTsFetchParams = {\n      ...countParams,\n      first: 1,\n      skip: 0\n    }\n    const response = await makersPlaceAPI.fetch(params)\n    return response.total_items\n  }\n\n  async fetchOne(contractAddress: string, tokenId: string) {\n    const [response, oneEthInMANA] = await Promise.all([\n      makersPlaceAPI.fetchOne(contractAddress, tokenId),\n      this.getOneEthInMANA()\n    ])\n\n    const remoteNFT = response.item\n    if (!this.isValid(remoteNFT)) {\n      throw new Error(\n        `Invalid asset for contract \"${contractAddress}\" and id \"${tokenId}\"`\n      )\n    }\n\n    const nft = this.toNFT(remoteNFT)\n    let order: Order | undefined\n\n    if (this.isOnSale(remoteNFT)) {\n      order = this.toOrder(remoteNFT, oneEthInMANA)\n\n      nft.activeOrderId = order.id\n      order.nftId = nft.id\n    }\n\n    return [nft, order] as const\n  }\n\n  async transfer(\n    fromAddress: string,\n    toAddress: string,\n    nft: NFT<Vendors.MAKERS_PLACE>\n  ) {\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n    const to = Address.fromString(toAddress)\n\n    const erc721 = await ContractFactory.build(ERC721, nft.contractAddress)\n\n    return erc721.methods\n      .transferFrom(from, to, nft.tokenId)\n      .send({ from })\n      .getTxHash()\n  }\n\n  toNFT(asset: MakersPlaceAsset): NFT<Vendors.MAKERS_PLACE> {\n    const tokenId = asset.token_id!.toString()\n    const contractAddress = asset.token_contract_address.toLowerCase()\n    return {\n      id: getNFTId(contractAddress, tokenId),\n      tokenId,\n      contractAddress,\n      activeOrderId: '',\n      owner: asset.owner,\n      name: asset.name,\n      image: asset.image_url,\n      url: asset.url || this.getDefaultURL(asset),\n      data: {\n        description: asset.description\n      },\n      category: NFTCategory.ART,\n      vendor: Vendors.MAKERS_PLACE\n    }\n  }\n\n  toOrder(asset: MakersPlaceAsset, oneEthInMANA: string): Order {\n    const totalWei = this.marketplacePrice.addFee(asset.price_in_wei!)\n    const weiPrice = toBN(totalWei).mul(toBN(oneEthInMANA))\n    const price = weiPrice.div(this.oneEthInWei)\n\n    return {\n      id: `${Vendors.MAKERS_PLACE}-order-${asset.token_id}`,\n      nftId: asset.token_id!.toString(),\n      category: NFTCategory.ART,\n      nftAddress: asset.token_contract_address.toLowerCase(),\n      marketAddress: asset.sale_contract_address!,\n      owner: asset.owner,\n      buyer: null,\n      price: price.toString(10),\n      ethPrice: asset.price_in_wei!.toString(),\n      status: OrderStatus.OPEN,\n      createdAt: asset.sale_created_at!,\n      updatedAt: asset.sale_created_at!\n    }\n  }\n\n  toAccount(address: string): Account {\n    return {\n      id: address,\n      address,\n      nftIds: []\n    }\n  }\n\n  private async getOneEthInMANA() {\n    const mana = await this.tokenConverter.marketEthToMANA(1)\n    return toWei(mana.toString(), 'ether')\n  }\n\n  private isValid(asset: MakersPlaceAsset) {\n    // For some reason, the API *sometimes* returns null on token_ids\n    // We need to either skip or just throw when we found these\n    return asset.token_id !== null\n  }\n\n  private isOnSale(asset: MakersPlaceAsset): boolean {\n    return (\n      asset.price_in_wei !== undefined &&\n      asset.sale_contract_address !== undefined\n    )\n  }\n\n  private getDefaultURL(asset: MakersPlaceAsset): string {\n    const origin = getOriginURL(Vendors.MAKERS_PLACE)\n    return `${origin}/authenticity/${asset.token_contract_address}/${asset.token_id}`\n  }\n}\n","import { Address } from 'web3x-es/address'\nimport { ABICoder } from 'web3x-es/contract/abi-coder'\n\nimport { MarketplaceAdapter } from '../../../contracts/MarketplaceAdapter'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport { NFT } from '../../nft/types'\nimport { Order } from '../../order/types'\nimport { TokenConverter } from '../TokenConverter'\nimport { MarketplacePrice } from '../MarketplacePrice'\nimport { ContractService as DecentralandContractService } from '../decentraland/ContractService'\nimport { Vendors } from '../types'\nimport { OrderService as OrderServiceInterface } from '../services'\nimport { ContractService } from './ContractService'\n\nexport class OrderService\n  implements OrderServiceInterface<Vendors.MAKERS_PLACE> {\n  private tokenConverter: TokenConverter\n  private marketplacePrice: MarketplacePrice\n\n  constructor() {\n    this.tokenConverter = new TokenConverter()\n    this.marketplacePrice = new MarketplacePrice()\n  }\n\n  fetchByNFT(): any {\n    throw new Error('Method: `fetchByNFT` is not implemented')\n  }\n\n  create(): any {\n    throw new Error('Method: `create` is not implemented')\n  }\n\n  async execute(\n    nft: NFT<Vendors.MAKERS_PLACE>,\n    order: Order,\n    fromAddress: string\n  ): Promise<string> {\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const contractService = new ContractService()\n\n    // Addresses\n    const assetContractAddress = Address.fromString(nft.contractAddress)\n    const assetMarketAddress: Address = Address.fromString(order.marketAddress)\n    const manaTokenAddress = Address.fromString(\n      DecentralandContractService.contractAddresses.MANAToken\n    )\n    const from = Address.fromString(fromAddress)\n\n    // Data\n    const calldata = this.getCallData(nft)\n    const transferType = contractService.getTransferType(nft.contractAddress)\n\n    // Price\n    const manaPrice = await this.tokenConverter.contractEthToMANA(\n      order.ethPrice!\n    )\n    const maxPrice = this.marketplacePrice.addMaxSlippage(manaPrice)\n\n    // Contract\n    const marketplaceAdapter = await ContractFactory.build(\n      MarketplaceAdapter,\n      ContractService.contractAddresses.MarketplaceAdapter\n    )\n    return marketplaceAdapter.methods\n      .buy(\n        assetContractAddress,\n        nft.tokenId,\n        assetMarketAddress,\n        calldata,\n        order.ethPrice!,\n        manaTokenAddress,\n        maxPrice,\n        transferType,\n        from\n      )\n      .send({ from })\n      .getTxHash()\n  }\n\n  cancel(): any {\n    throw new Error('Method: `cancel` is not implemented')\n  }\n\n  canSell() {\n    return false\n  }\n\n  private getCallData(nft: NFT<Vendors.MAKERS_PLACE>) {\n    const abiCoder = new ABICoder()\n    return abiCoder.encodeFunctionCall(\n      {\n        name: 'purchase',\n        type: 'function',\n        inputs: [\n          { type: 'uint256', name: 'TOKEN_ID' },\n          { type: 'address', name: 'ADDRESS_CONTRACT' }\n        ]\n      },\n      [nft.tokenId, nft.contractAddress]\n    )\n  }\n}\n","import { Address } from 'web3x-es/address'\nimport { ABICoder } from 'web3x-es/contract/abi-coder'\n\nimport { MarketplaceAdapter } from '../../../contracts/MarketplaceAdapter'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport { NFT } from '../../nft/types'\nimport { Order } from '../../order/types'\nimport { TokenConverter } from '../TokenConverter'\nimport { MarketplacePrice } from '../MarketplacePrice'\nimport { ContractService as DecentralandContractService } from '../decentraland/ContractService'\nimport { Vendors } from '../types'\nimport { OrderService as OrderServiceInterface } from '../services'\nimport { ContractService } from './ContractService'\n\nexport class OrderService\n  implements OrderServiceInterface<Vendors.KNOWN_ORIGIN> {\n  private tokenConverter: TokenConverter\n  private marketplacePrice: MarketplacePrice\n\n  constructor() {\n    this.tokenConverter = new TokenConverter()\n    this.marketplacePrice = new MarketplacePrice()\n  }\n\n  fetchByNFT(): any {\n    throw new Error('Method: `fetchByNFT` is not implemented')\n  }\n\n  create(): any {\n    throw new Error('Method: `create` is not implemented')\n  }\n\n  async execute(\n    nft: NFT<Vendors.KNOWN_ORIGIN>,\n    order: Order,\n    fromAddress: string\n  ): Promise<string> {\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n\n    // Addresses\n    const assetMarketAddress: Address = Address.fromString(order.marketAddress)\n    const manaTokenAddress = Address.fromString(\n      DecentralandContractService.contractAddresses.MANAToken\n    )\n    const from = Address.fromString(fromAddress)\n\n    // Data\n    const calldata = this.getCallData(fromAddress, nft)\n\n    // Price\n    const manaPrice = await this.tokenConverter.contractEthToMANA(\n      order.ethPrice!\n    )\n    const maxPrice = this.marketplacePrice.addMaxSlippage(manaPrice)\n\n    // Contract\n    const marketplaceAdapter = await ContractFactory.build(\n      MarketplaceAdapter,\n      ContractService.contractAddresses.MarketplaceAdapter\n    )\n    return marketplaceAdapter.methods\n      .buy(\n        assetMarketAddress,\n        calldata,\n        order.ethPrice!,\n        manaTokenAddress,\n        maxPrice\n      )\n      .send({ from })\n      .getTxHash()\n  }\n\n  cancel(): any {\n    throw new Error('Method: `cancel` is not implemented')\n  }\n\n  canSell() {\n    return false\n  }\n\n  private getCallData(to: string, nft: NFT<Vendors.KNOWN_ORIGIN>) {\n    const abiCoder = new ABICoder()\n    return abiCoder.encodeFunctionCall(\n      {\n        name: 'purchaseTo',\n        type: 'function',\n        inputs: [\n          { type: 'address', name: '_to' },\n          { type: 'uint256', name: '_editionNumber' }\n        ]\n      },\n      [to, nft.tokenId]\n    )\n  }\n}\n","export enum AssetType {\n  TOKEN = 'token',\n  EDITION = 'edition'\n}\n","import { gql } from 'apollo-boost'\nimport { AssetType } from '../types'\n\nexport const editionFragment = () => gql`\n  fragment editionFragment on Edition {\n    id\n    createdTimestamp\n    artistAccount\n    priceInWei\n    totalSupply\n    metadata {\n      name\n      image\n      description\n    }\n  }\n`\n\nexport type EditionFragment = {\n  id: string\n  type: AssetType.EDITION\n  artistAccount: string\n  priceInWei: string\n  totalSupply: string\n  createdTimestamp: string\n  metadata: {\n    name: string\n    image: string\n    description: string\n  }\n}\n","import { gql } from 'apollo-boost'\n\nimport { NFTsFetchParams, NFTSortBy } from '../../../nft/types'\nimport { client } from '../api'\nimport { AssetType } from '../types'\nimport { editionFragment, EditionFragment } from './fragments'\n\nclass EditionAPI {\n  fetch = async (params: NFTsFetchParams) => {\n    const query = getNFTsQuery(params)\n    const variables = this.buildVariables(params)\n\n    const { data } = await client.query<{ editions: EditionFragment[] }>({\n      query,\n      variables\n    })\n\n    return this.addType(data.editions)\n  }\n\n  async count(params: NFTsFetchParams) {\n    const countQuery = getNFTsCountQuery(params)\n    const variables = this.buildVariables(params)\n\n    const { data } = await client.query<{ editions: EditionFragment[] }>({\n      query: countQuery,\n      variables\n    })\n\n    return data.editions.length\n  }\n\n  async fetchOne(id: string) {\n    const { data } = await client.query<{ editions: EditionFragment[] }>({\n      query: EDITION_BY_ID_QUERY,\n      variables: {\n        id\n      }\n    })\n    return this.addType(data.editions)[0]\n  }\n\n  private addType(tokens: EditionFragment[]): EditionFragment[] {\n    return tokens.map(token => ({ ...token, type: AssetType.EDITION }))\n  }\n\n  private buildVariables(params: NFTsFetchParams) {\n    return {\n      ...params,\n      address: params.address,\n      orderBy: this.getSort(params.orderBy)\n    }\n  }\n\n  private getSort(sortBy?: NFTSortBy) {\n    switch (sortBy) {\n      case NFTSortBy.PRICE:\n        return 'priceInWei'\n      case NFTSortBy.CREATED_AT:\n      case NFTSortBy.ORDER_CREATED_AT:\n        return 'createdTimestamp'\n      default:\n        return undefined\n    }\n  }\n}\n\nconst EDITIONS_FILTERS = `\n  $first: Int\n  $skip: Int\n  $orderBy: String\n  $orderDirection: String\n\n  $address: String\n`\n\nconst EDITIONS_ARGUMENTS = `\n  first: $first\n  skip: $skip\n  orderBy: $orderBy\n  orderDirection: $orderDirection\n`\n\nfunction getNFTsCountQuery(params: NFTsFetchParams) {\n  return getNFTsQuery(params, true)\n}\n\nfunction getNFTsQuery(params: NFTsFetchParams, isCount = false) {\n  let extraWhere: string[] = []\n\n  if (params.address) {\n    extraWhere.push('artistAccount: $address')\n  }\n\n  // TODO: Search?\n  // TODO: onlyOnSale?\n\n  return gql`\n    query Editions(\n      ${EDITIONS_FILTERS}\n    ) {\n      editions(\n        where: {\n          active: true,\n          offersOnly: false,\n          remainingSupply_gt: 0,\n          priceInWei_gt: 0,\n          ${extraWhere.join('\\n')}\n        }\n        ${EDITIONS_ARGUMENTS}\n      ) {\n        ${isCount ? 'id' : '...editionFragment'}\n      }\n    }\n    ${isCount ? '' : editionFragment()}\n  `\n}\n\nconst EDITION_BY_ID_QUERY = gql`\n  query EditionById($id: String) {\n    editions(where: { id: $id }, first: 1) {\n      ...editionFragment\n    }\n  }\n  ${editionFragment()}\n`\n\nexport const editionAPI = new EditionAPI()\n","import { gql } from 'apollo-boost'\nimport { AssetType } from '../types'\n\nexport const tokenFragment = () => gql`\n  fragment tokenFragment on Token {\n    id\n    tokenId\n    editionNumber\n    currentOwner {\n      id\n    }\n    metadata {\n      name\n      image\n      description\n    }\n  }\n`\n\nexport type TokenFragment = {\n  id: string\n  type: AssetType.TOKEN\n  editionNumber: string\n  tokenId: string\n  currentOwner: {\n    id: string\n  }\n  metadata: {\n    name: string\n    image: string\n    description: string\n  }\n}\n","import { gql } from 'apollo-boost'\n\nimport { NFTsFetchParams, NFTSortBy } from '../../../nft/types'\nimport { client } from '../api'\nimport { AssetType } from '../types'\nimport { tokenFragment, TokenFragment } from './fragments'\n\nclass TokenAPI {\n  fetch = async (params: NFTsFetchParams) => {\n    const query = getNFTsQuery(params)\n    const variables = this.buildVariables(params)\n\n    const { data } = await client.query<{ tokens: TokenFragment[] }>({\n      query,\n      variables\n    })\n\n    return this.addType(data.tokens)\n  }\n\n  async count(params: NFTsFetchParams) {\n    const countQuery = getNFTsCountQuery(params)\n    const variables = this.buildVariables(params)\n\n    const { data } = await client.query<{ tokens: TokenFragment[] }>({\n      query: countQuery,\n      variables\n    })\n\n    return data.tokens.length\n  }\n\n  async fetchOne(id: string) {\n    const { data } = await client.query<{ tokens: TokenFragment[] }>({\n      query: TOKEN_BY_ID_QUERY,\n      variables: {\n        id\n      }\n    })\n    return this.addType(data.tokens)[0]\n  }\n\n  private addType(tokens: TokenFragment[]): TokenFragment[] {\n    return tokens.map(token => ({ ...token, type: AssetType.TOKEN }))\n  }\n\n  private buildVariables(params: NFTsFetchParams) {\n    return {\n      ...params,\n      address: params.address,\n      orderBy: this.getSort(params.orderBy)\n    }\n  }\n\n  private getSort(sortBy?: NFTSortBy) {\n    switch (sortBy) {\n      case NFTSortBy.CREATED_AT:\n        return 'birthTimestamp'\n      default:\n        return undefined\n    }\n  }\n}\n\nconst TOKENS_FILTERS = `\n  $first: Int\n  $skip: Int\n  $orderBy: String\n  $orderDirection: String\n\n  $address: String\n`\n\nconst TOKENS_ARGUMENTS = `\n  first: $first\n  skip: $skip\n  orderBy: $orderBy\n  orderDirection: $orderDirection\n`\n\nfunction getNFTsCountQuery(params: NFTsFetchParams) {\n  return getNFTsQuery(params, true)\n}\n\nfunction getNFTsQuery(params: NFTsFetchParams, isCount = false) {\n  let extraWhere: string[] = []\n\n  if (params.address) {\n    extraWhere.push('currentOwner: $address')\n  }\n\n  // TODO: Search?\n  // TODO: onlyOnSale?\n\n  return gql`\n    query Tokens(\n      ${TOKENS_FILTERS}\n    ) {\n      tokens(\n        where: {\n          ${extraWhere.join('\\n')}\n        }\n        ${TOKENS_ARGUMENTS}\n      ) {\n        ${isCount ? 'id' : '...tokenFragment'}\n      }\n    }\n    ${isCount ? '' : tokenFragment()}\n  `\n}\n\nconst TOKEN_BY_ID_QUERY = gql`\n  query TokenById($id: String) {\n    tokens(where: { id: $id }, first: 1) {\n      ...tokenFragment\n    }\n  }\n  ${tokenFragment()}\n`\n\nexport const tokenAPI = new TokenAPI()\n","import BN from 'bn.js'\nimport { Address } from 'web3x-es/address'\nimport { toBN, toWei } from 'web3x-es/utils'\n\nimport { ERC721 } from '../../../contracts/ERC721'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport {\n  NFT,\n  NFTCategory,\n  NFTsFetchParams,\n  NFTsCountParams\n} from '../../nft/types'\nimport { Order, OrderStatus } from '../../order/types'\nimport { Account } from '../../account/types'\nimport { getNFTId } from '../../nft/utils'\nimport { TokenConverter } from '../TokenConverter'\nimport { MarketplacePrice } from '../MarketplacePrice'\nimport { NFTService as NFTServiceInterface } from '../services'\nimport { getOriginURL } from '../utils'\nimport { Vendors } from '../types'\n\nimport { NFTsFetchFilters } from './nft/types'\nimport { ContractService } from './ContractService'\nimport { EditionFragment } from './edition/fragments'\nimport { TokenFragment } from './token/fragments'\nimport { editionAPI } from './edition/api'\nimport { tokenAPI } from './token/api'\nimport { MAX_QUERY_SIZE } from './api'\nimport { AssetType } from './types'\n\ntype Fragment = TokenFragment | EditionFragment\n\nexport class NFTService implements NFTServiceInterface<Vendors.KNOWN_ORIGIN> {\n  private tokenConverter: TokenConverter\n  private marketplacePrice: MarketplacePrice\n  private oneEthInWei: BN\n\n  constructor() {\n    this.tokenConverter = new TokenConverter()\n    this.marketplacePrice = new MarketplacePrice()\n    this.oneEthInWei = new BN('1000000000000000000') // 10 ** 18\n  }\n\n  async fetch(params: NFTsFetchParams, filters?: NFTsFetchFilters) {\n    const fragments = await this.getAPI(filters).fetch(params)\n    const [total, oneEthInMANA] = await Promise.all([\n      this.count(params, filters),\n      this.getOneEthInMANA()\n    ])\n\n    const nfts: NFT<Vendors.KNOWN_ORIGIN>[] = []\n    const accounts: Account[] = []\n    const orders: Order[] = []\n\n    for (const fragment of fragments) {\n      const nft = this.toNFT(fragment)\n\n      if (fragment.type === AssetType.EDITION) {\n        const order = this.toOrder(fragment, oneEthInMANA)\n\n        nft.activeOrderId = order.id\n        order.nftId = nft.id\n\n        orders.push(order)\n      }\n\n      let account = accounts.find(account => account.id === nft.owner)\n      if (!account) {\n        account = this.toAccount(nft.owner)\n      }\n      account.nftIds.push(nft.id)\n\n      nfts.push(nft)\n      accounts.push(account)\n    }\n\n    return [nfts, accounts, orders, total] as const\n  }\n\n  async count(countParams: NFTsCountParams, filters?: NFTsFetchFilters) {\n    const params: NFTsFetchParams = {\n      ...countParams,\n      first: MAX_QUERY_SIZE,\n      skip: 0\n    }\n    if (!filters) {\n      const [editionCount, tokenCount] = await Promise.all([\n        tokenAPI.count(params),\n        editionAPI.count(params)\n      ])\n      return editionCount + tokenCount\n    } else {\n      return this.getAPI(filters).count(params)\n    }\n  }\n\n  async fetchOne(_contractAddress: string, tokenId: string) {\n    const fragment = await this.getAPI().fetchOne(tokenId)\n    const oneEthInMANA = await this.getOneEthInMANA()\n\n    const nft = this.toNFT(fragment)\n    let order: Order | undefined\n\n    if (fragment.type === AssetType.EDITION) {\n      order = this.toOrder(fragment, oneEthInMANA)\n\n      nft.activeOrderId = order.id\n      order.nftId = nft.id\n    }\n\n    return [nft, order] as const\n  }\n\n  async transfer(\n    fromAddress: string,\n    toAddress: string,\n    nft: NFT<Vendors.KNOWN_ORIGIN>\n  ) {\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n    const to = Address.fromString(toAddress)\n\n    const erc721 = await ContractFactory.build(ERC721, nft.contractAddress)\n\n    return erc721.methods\n      .transferFrom(from, to, nft.tokenId)\n      .send({ from })\n      .getTxHash()\n  }\n\n  toNFT(fragment: Fragment): NFT<Vendors.KNOWN_ORIGIN> {\n    const tokenId = fragment.id\n    const { name, description, image } = fragment.metadata\n\n    const nftAddress = ContractService.contractAddresses.DigitalAsset\n\n    return {\n      id: getNFTId(nftAddress, tokenId),\n      tokenId,\n      contractAddress: nftAddress,\n      activeOrderId: '',\n      owner: this.getOwner(fragment),\n      name,\n      image,\n      url: this.getDefaultURL(fragment),\n      data: {\n        description,\n        isEdition: true\n      },\n      category: NFTCategory.ART,\n      vendor: Vendors.KNOWN_ORIGIN\n    }\n  }\n\n  toOrder(edition: EditionFragment, oneEthInMANA: string): Order {\n    const totalWei = this.marketplacePrice.addFee(edition.priceInWei)\n    const weiPrice = toBN(totalWei).mul(toBN(oneEthInMANA))\n    const price = weiPrice.div(this.oneEthInWei)\n\n    const nftAddress = ContractService.contractAddresses.DigitalAsset\n    const marketAddress = ContractService.contractAddresses.BuyAdapter\n\n    return {\n      id: `${Vendors.KNOWN_ORIGIN}-order-${edition.id}`,\n      nftId: edition.id,\n      category: NFTCategory.ART,\n      nftAddress,\n      marketAddress,\n      owner: edition.artistAccount,\n      buyer: null,\n      price: price.toString(10),\n      ethPrice: edition.priceInWei.toString(),\n      status: OrderStatus.OPEN,\n      createdAt: edition.createdTimestamp,\n      updatedAt: edition.createdTimestamp\n    }\n  }\n\n  toAccount(address: string): Account {\n    return {\n      id: address,\n      address,\n      nftIds: []\n    }\n  }\n\n  private getAPI(filters?: NFTsFetchFilters) {\n    return filters && filters.isToken ? tokenAPI : editionAPI\n  }\n\n  private async getOneEthInMANA() {\n    const mana = await this.tokenConverter.marketEthToMANA(1)\n    return toWei(mana.toString(), 'ether')\n  }\n\n  private getOwner(fragment: Fragment): string {\n    return fragment.type === AssetType.TOKEN\n      ? fragment.currentOwner.id\n      : fragment.artistAccount\n  }\n\n  private getDefaultURL(fragment: Fragment): string {\n    const origin = getOriginURL(Vendors.KNOWN_ORIGIN)\n    return `${origin}/${fragment.type}/${fragment.id}`\n  }\n}\n","import { ContractAbi} from 'web3x-es/contract';\nexport default new ContractAbi([\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_bidder\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"getBidByBidder\",\n    \"outputs\": [\n      {\n        \"name\": \"bidIndex\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"bidId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"name\": \"bidder\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"price\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"expiresAt\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"ERC721Composable_ValidateFingerprint\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_data\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"onERC721Received\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_ownerCutPerMillion\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"setOwnerCutPerMillion\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"bidIdByTokenAndBidder\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"bidCounterByToken\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"ERC721_Interface\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"cancelBid\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"unpause\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"getBidByToken\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"isPauser\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"ERC721_Received\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"paused\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"renouncePauser\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"manaToken\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_price\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_duration\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"placeBid\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"addPauser\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"pause\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"isOwner\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"ONE_MILLION\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"ownerCutPerMillion\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"MAX_BID_DURATION\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_price\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_duration\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_fingerprint\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"placeBid\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"bidIndexByBidId\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_tokenAddresses\",\n        \"type\": \"address[]\"\n      },\n      {\n        \"name\": \"_tokenIds\",\n        \"type\": \"uint256[]\"\n      },\n      {\n        \"name\": \"_bidders\",\n        \"type\": \"address[]\"\n      }\n    ],\n    \"name\": \"removeExpiredBids\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"MIN_BID_DURATION\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"name\": \"_manaToken\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"_id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_bidder\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_price\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_expiresAt\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_fingerprint\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"BidCreated\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"_id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_bidder\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_seller\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_price\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_fee\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"BidAccepted\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"_id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_bidder\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"BidCancelled\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"_ownerCutPerMillion\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ChangedOwnerCutPerMillion\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"Paused\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"Unpaused\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"PauserAdded\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"PauserRemoved\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  }\n]);","import BN from \"bn.js\";\nimport { Address } from \"web3x-es/address\";\nimport { EventLog, TransactionReceipt } from \"web3x-es/formatters\";\nimport { Contract, ContractOptions, TxCall, TxSend, EventSubscriptionFactory } from \"web3x-es/contract\";\nimport { Eth } from \"web3x-es/eth\";\nimport abi from \"./BidsAbi\";\nexport type BidCreatedEvent = {\n    _id: string;\n    _tokenAddress: Address;\n    _tokenId: string;\n    _bidder: Address;\n    _price: string;\n    _expiresAt: string;\n    _fingerprint: string;\n};\nexport type BidAcceptedEvent = {\n    _id: string;\n    _tokenAddress: Address;\n    _tokenId: string;\n    _bidder: Address;\n    _seller: Address;\n    _price: string;\n    _fee: string;\n};\nexport type BidCancelledEvent = {\n    _id: string;\n    _tokenAddress: Address;\n    _tokenId: string;\n    _bidder: Address;\n};\nexport type ChangedOwnerCutPerMillionEvent = {\n    _ownerCutPerMillion: string;\n};\nexport type PausedEvent = {\n    account: Address;\n};\nexport type UnpausedEvent = {\n    account: Address;\n};\nexport type PauserAddedEvent = {\n    account: Address;\n};\nexport type PauserRemovedEvent = {\n    account: Address;\n};\nexport type OwnershipTransferredEvent = {\n    previousOwner: Address;\n    newOwner: Address;\n};\nexport interface BidCreatedEventLog extends EventLog<BidCreatedEvent, \"BidCreated\"> {\n}\nexport interface BidAcceptedEventLog extends EventLog<BidAcceptedEvent, \"BidAccepted\"> {\n}\nexport interface BidCancelledEventLog extends EventLog<BidCancelledEvent, \"BidCancelled\"> {\n}\nexport interface ChangedOwnerCutPerMillionEventLog extends EventLog<ChangedOwnerCutPerMillionEvent, \"ChangedOwnerCutPerMillion\"> {\n}\nexport interface PausedEventLog extends EventLog<PausedEvent, \"Paused\"> {\n}\nexport interface UnpausedEventLog extends EventLog<UnpausedEvent, \"Unpaused\"> {\n}\nexport interface PauserAddedEventLog extends EventLog<PauserAddedEvent, \"PauserAdded\"> {\n}\nexport interface PauserRemovedEventLog extends EventLog<PauserRemovedEvent, \"PauserRemoved\"> {\n}\nexport interface OwnershipTransferredEventLog extends EventLog<OwnershipTransferredEvent, \"OwnershipTransferred\"> {\n}\ninterface BidsEvents {\n    BidCreated: EventSubscriptionFactory<BidCreatedEventLog>;\n    BidAccepted: EventSubscriptionFactory<BidAcceptedEventLog>;\n    BidCancelled: EventSubscriptionFactory<BidCancelledEventLog>;\n    ChangedOwnerCutPerMillion: EventSubscriptionFactory<ChangedOwnerCutPerMillionEventLog>;\n    Paused: EventSubscriptionFactory<PausedEventLog>;\n    Unpaused: EventSubscriptionFactory<UnpausedEventLog>;\n    PauserAdded: EventSubscriptionFactory<PauserAddedEventLog>;\n    PauserRemoved: EventSubscriptionFactory<PauserRemovedEventLog>;\n    OwnershipTransferred: EventSubscriptionFactory<OwnershipTransferredEventLog>;\n}\ninterface BidsEventLogs {\n    BidCreated: BidCreatedEventLog;\n    BidAccepted: BidAcceptedEventLog;\n    BidCancelled: BidCancelledEventLog;\n    ChangedOwnerCutPerMillion: ChangedOwnerCutPerMillionEventLog;\n    Paused: PausedEventLog;\n    Unpaused: UnpausedEventLog;\n    PauserAdded: PauserAddedEventLog;\n    PauserRemoved: PauserRemovedEventLog;\n    OwnershipTransferred: OwnershipTransferredEventLog;\n}\ninterface BidsTxEventLogs {\n    BidCreated: BidCreatedEventLog[];\n    BidAccepted: BidAcceptedEventLog[];\n    BidCancelled: BidCancelledEventLog[];\n    ChangedOwnerCutPerMillion: ChangedOwnerCutPerMillionEventLog[];\n    Paused: PausedEventLog[];\n    Unpaused: UnpausedEventLog[];\n    PauserAdded: PauserAddedEventLog[];\n    PauserRemoved: PauserRemovedEventLog[];\n    OwnershipTransferred: OwnershipTransferredEventLog[];\n}\nexport interface BidsTransactionReceipt extends TransactionReceipt<BidsTxEventLogs> {\n}\ninterface BidsMethods {\n    getBidByBidder(_tokenAddress: Address, _tokenId: number | string | BN, _bidder: Address): TxCall<{\n        \"bidIndex\": string;\n        0: string;\n        \"bidId\": string;\n        1: string;\n        \"bidder\": Address;\n        2: Address;\n        \"price\": string;\n        3: string;\n        \"expiresAt\": string;\n        4: string;\n    }>;\n    ERC721Composable_ValidateFingerprint(): TxCall<string>;\n    onERC721Received(_from: Address, a1: Address, _tokenId: number | string | BN, _data: string): TxSend<BidsTransactionReceipt>;\n    setOwnerCutPerMillion(_ownerCutPerMillion: number | string | BN): TxSend<BidsTransactionReceipt>;\n    bidIdByTokenAndBidder(a0: Address, a1: number | string | BN, a2: Address): TxCall<string>;\n    bidCounterByToken(a0: Address, a1: number | string | BN): TxCall<string>;\n    ERC721_Interface(): TxCall<string>;\n    cancelBid(_tokenAddress: Address, _tokenId: number | string | BN): TxSend<BidsTransactionReceipt>;\n    unpause(): TxSend<BidsTransactionReceipt>;\n    getBidByToken(_tokenAddress: Address, _tokenId: number | string | BN, _index: number | string | BN): TxCall<{\n        0: string;\n        1: Address;\n        2: string;\n        3: string;\n    }>;\n    isPauser(account: Address): TxCall<boolean>;\n    ERC721_Received(): TxCall<string>;\n    paused(): TxCall<boolean>;\n    renouncePauser(): TxSend<BidsTransactionReceipt>;\n    renounceOwnership(): TxSend<BidsTransactionReceipt>;\n    manaToken(): TxCall<Address>;\n    placeBid(_tokenAddress: Address, _tokenId: number | string | BN, _price: number | string | BN, _duration: number | string | BN): TxSend<BidsTransactionReceipt>;\n    addPauser(account: Address): TxSend<BidsTransactionReceipt>;\n    pause(): TxSend<BidsTransactionReceipt>;\n    owner(): TxCall<Address>;\n    isOwner(): TxCall<boolean>;\n    ONE_MILLION(): TxCall<string>;\n    ownerCutPerMillion(): TxCall<string>;\n    MAX_BID_DURATION(): TxCall<string>;\n    placeBid(_tokenAddress: Address, _tokenId: number | string | BN, _price: number | string | BN, _duration: number | string | BN, _fingerprint: string): TxSend<BidsTransactionReceipt>;\n    bidIndexByBidId(a0: string): TxCall<string>;\n    removeExpiredBids(_tokenAddresses: Address[], _tokenIds: (number | string | BN)[], _bidders: Address[]): TxSend<BidsTransactionReceipt>;\n    transferOwnership(newOwner: Address): TxSend<BidsTransactionReceipt>;\n    MIN_BID_DURATION(): TxCall<string>;\n}\nexport interface BidsDefinition {\n    methods: BidsMethods;\n    events: BidsEvents;\n    eventLogs: BidsEventLogs;\n}\nexport class Bids extends Contract<BidsDefinition> {\n    constructor(eth: Eth, address?: Address, options?: ContractOptions) {\n        super(eth, abi, address, options);\n    }\n    deploy(_manaToken: Address, _owner: Address): TxSend<BidsTransactionReceipt> {\n        return super.deployBytecode(\"0x60806040523480156200001157600080fd5b50604051604080620047578339810180604052810190808051906020019092919080519060200190929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3620001153362000193640100000000026401000000009004565b6000600260006101000a81548160ff02191690831515021790555081600260016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506200018b81620001fd640100000000026401000000009004565b5050620004e9565b620001b78160016200023f6401000000000262003f8e179091906401000000009004565b8073ffffffffffffffffffffffffffffffffffffffff167f6719d08c1888103bea251a4ed56406bd0c3e69723c8a1686e017e7bbe159b6f860405160405180910390a250565b6200021662000302640100000000026401000000009004565b15156200022257600080fd5b6200023c8162000359640100000000026401000000009004565b50565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156200027c57600080fd5b62000297828262000454640100000000026401000000009004565b151515620002a457600080fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156200039657600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141515156200049257600080fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b61425e80620004f96000396000f300608060405260043610610174576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168062f052f61461017957806312712f7c1461024a578063150b7a02146102b357806319dad16d146103b8578063279dc1e4146103e557806328bd196a1461046e5780632b4c32be146104cf57806339b6b1e5146105385780633f4ba83a1461058557806342a6c4dd1461059c57806346fbf68e146106505780634c81a727146106ab5780635c975abb146107145780636ef8d66d14610743578063715018a61461075a57806374c97c991461077157806381281be8146107c857806382dc1ec4146108295780638456cb591461086c5780638da5cb5b146108835780638f32d59b146108da5780639869b73614610909578063a01f79d414610934578063a750066e1461095f578063ac0637251461098a578063b5eea64414610a31578063ce1056cb14610a76578063f2fde38b14610b62578063f88a121714610ba5575b600080fd5b34801561018557600080fd5b506101e4600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610bd0565b6040518086815260200185600019166000191681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281526020019550505050505060405180910390f35b34801561025657600080fd5b5061025f610d75565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b3480156102bf57600080fd5b50610364600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610d9c565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b3480156103c457600080fd5b506103e360048036038101908080359060200190929190505050611640565b005b3480156103f157600080fd5b50610450600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611736565b60405180826000191660001916815260200191505060405180910390f35b34801561047a57600080fd5b506104b9600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611768565b6040518082815260200191505060405180910390f35b3480156104db57600080fd5b506104e461178d565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b34801561054457600080fd5b50610583600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506117b4565b005b34801561059157600080fd5b5061059a6117f8565b005b3480156105a857600080fd5b506105f1600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001909291905050506118a7565b6040518085600019166000191681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200194505050505060405180910390f35b34801561065c57600080fd5b50610691600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506118e8565b604051808215151515815260200191505060405180910390f35b3480156106b757600080fd5b506106c0611905565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b34801561072057600080fd5b5061072961192c565b604051808215151515815260200191505060405180910390f35b34801561074f57600080fd5b50610758611943565b005b34801561076657600080fd5b5061076f61194e565b005b34801561077d57600080fd5b50610786611a20565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156107d457600080fd5b50610827600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019092919080359060200190929190505050611a46565b005b34801561083557600080fd5b5061086a600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611a69565b005b34801561087857600080fd5b50610881611a89565b005b34801561088f57600080fd5b50610898611b39565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156108e657600080fd5b506108ef611b62565b604051808215151515815260200191505060405180910390f35b34801561091557600080fd5b5061091e611bb9565b6040518082815260200191505060405180910390f35b34801561094057600080fd5b50610949611bc0565b6040518082815260200191505060405180910390f35b34801561096b57600080fd5b50610974611bc6565b6040518082815260200191505060405180910390f35b34801561099657600080fd5b50610a2f600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611bcd565b005b348015610a3d57600080fd5b50610a606004803603810190808035600019169060200190929190505050611be1565b6040518082815260200191505060405180910390f35b348015610a8257600080fd5b50610b60600480360381019080803590602001908201803590602001908080602002602001604051908101604052809392919081815260200183836020028082843782019150505050505091929192908035906020019082018035906020019080806020026020016040519081016040528093929190818152602001838360200280828437820191505050505050919291929080359060200190820180359060200190808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050509192919290505050611bf9565b005b348015610b6e57600080fd5b50610ba3600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611dad565b005b348015610bb157600080fd5b50610bba611dcc565b6040518082815260200191505060405180910390f35b6000806000806000600660008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600088815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549350600560008560001916600019168152602001908152602001600020549450610c918888876118a7565b809450819550829650839750505050508273ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff16141515610d6a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b8152602001807f42696464657220686173206e6f7420616e206163746976652062696420666f7281526020017f207468697320746f6b656e00000000000000000000000000000000000000000081525060400191505060405180910390fd5b939792965093509350565b638f9f4b637c01000000000000000000000000000000000000000000000000000000000281565b6000806000610da9614051565b6000806000600260009054906101000a900460ff16151515610dca57600080fd5b610dd388611dd1565b9550600560008760001916600019168152602001908152602001600020549450610dfe338a87611e83565b93508560001916846000015160001916148015610e1f5750428460a0015110155b1515610e93576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f496e76616c69642062696400000000000000000000000000000000000000000081525060200191505060405180910390fd5b8360200151925083608001519150610eb0338a8660c00151612146565b610eba83836123ed565b600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a815260200190815260200160002060008681526020019081526020016000206000808201600090556001820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600382016000905560048201600090556005820160009055600682016000610f9a91906140be565b505060056000876000191660001916815260200190815260200160002060009055600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009055600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a8152602001908152602001600020600090553373ffffffffffffffffffffffffffffffffffffffff166323b872dd30858c6040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b15801561117757600080fd5b505af115801561118b573d6000803e3d6000fd5b5050505060009050600060075411156113a0576111c8620f42406111ba6007548561272990919063ffffffff16565b61276790919063ffffffff16565b9050600260019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd84611211611b39565b846040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b1580156112ca57600080fd5b505af11580156112de573d6000803e3d6000fd5b505050506040513d60208110156112f457600080fd5b8101908080519060200190929190505050151561139f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f5472616e73666572696e67207468652063757420746f2074686520626964206381526020017f6f6e7472616374206f776e6572206661696c656400000000000000000000000081525060400191505060405180910390fd5b5b600260019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd848d6113f3858761279190919063ffffffff16565b6040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b1580156114ab57600080fd5b505af11580156114bf573d6000803e3d6000fd5b505050506040513d60208110156114d557600080fd5b8101908080519060200190929190505050151561155a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f5472616e73666572696e67204d414e4120746f206f776e6572206661696c656481525060200191505060405180910390fd5b8a73ffffffffffffffffffffffffffffffffffffffff16893373ffffffffffffffffffffffffffffffffffffffff167f4e5ca6c6c06fa8d62f2930830e0d370de70f108bd89213de0b51141775e695bd898787876040518085600019166000191681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200194505050505060405180910390a463150b7a027c0100000000000000000000000000000000000000000000000000000000029650505050505050949350505050565b611648611b62565b151561165357600080fd5b620f4240811015156116f3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602d8152602001807f546865206f776e6572206375742073686f756c64206265206265747765656e2081526020017f3020616e64203939392c3939390000000000000000000000000000000000000081525060400191505060405180910390fd5b806007819055507ffa406a120a9e7f2b332bfb7a43d3bf1c3f079262202907a6b69c94b2821a02c66007546040518082815260200191505060405180910390a150565b600660205282600052604060002060205281600052604060002060205280600052604060002060009250925050505481565b6004602052816000526040600020602052806000526040600020600091509150505481565b6380ac58cd7c01000000000000000000000000000000000000000000000000000000000281565b600080600260009054906101000a900460ff161515156117d357600080fd5b6117de848433610bd0565b505050915091506117f282828686336127b2565b50505050565b611801336118e8565b151561180c57600080fd5b600260009054906101000a900460ff16151561182757600080fd5b6000600260006101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1565b6000806000806118b5614051565b6118c0888888611e83565b90508060000151816020015182608001518360a0015194509450945094505093509350935093565b60006118fe826001612c9f90919063ffffffff16565b9050919050565b63150b7a027c01000000000000000000000000000000000000000000000000000000000281565b6000600260009054906101000a900460ff16905090565b61194c33612d33565b565b611956611b62565b151561196157600080fd5b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b600260019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b611a63848484846020604051908101604052806000815250612d8d565b50505050565b611a72336118e8565b1515611a7d57600080fd5b611a8681613716565b50565b611a92336118e8565b1515611a9d57600080fd5b600260009054906101000a900460ff16151515611ab957600080fd5b6001600260006101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b620f424081565b60075481565b62eff10081565b611bda8585858585612d8d565b5050505050565b60056020528060005260406000206000915090505481565b60008084519150835182141515611c9e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c8152602001807f506172616d65746572206172726179732073686f756c6420686176652074686581526020017f2073616d65206c656e677468000000000000000000000000000000000000000081525060400191505060405180910390fd5b825182141515611d3c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c8152602001807f506172616d65746572206172726179732073686f756c6420686176652074686581526020017f2073616d65206c656e677468000000000000000000000000000000000000000081525060400191505060405180910390fd5b600090505b81811015611da657611d998582815181101515611d5a57fe5b906020019060200201518583815181101515611d7257fe5b906020019060200201518584815181101515611d8a57fe5b90602001906020020151613770565b8080600101915050611d41565b5050505050565b611db5611b62565b1515611dc057600080fd5b611dc98161383a565b50565b603c81565b60008060208351141515611e73576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001807f54686520646174612073686f756c64206265203332206279746573206c656e6781526020017f746800000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b6020830151905080915050919050565b611e8b614051565b600460008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008481526020019081526020016000205482101515611f52576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600d8152602001807f496e76616c696420696e6465780000000000000000000000000000000000000081525060200191505060405180910390fd5b600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000848152602001908152602001600020600083815260200190815260200160002060e060405190810160405290816000820154600019166000191681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820154815260200160058201548152602001600682018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156121345780601f1061210957610100808354040283529160200191612134565b820191906000526020600020905b81548152906001019060200180831161211757829003601f168201915b50505050508152505090509392505050565b60008390508073ffffffffffffffffffffffffffffffffffffffff166301ffc9a7638f9f4b637c0100000000000000000000000000000000000000000000000000000000026040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168152602001915050602060405180830381600087803b15801561221b57600080fd5b505af115801561222f573d6000803e3d6000fd5b505050506040513d602081101561224557600080fd5b8101908080519060200190929190505050156123e7578073ffffffffffffffffffffffffffffffffffffffff16638f9f4b6384846040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200180602001828103825283818151815260200191508051906020019080838360005b838110156122ea5780820151818401526020810190506122cf565b50505050905090810190601f1680156123175780820380516001836020036101000a031916815260200191505b509350505050602060405180830381600087803b15801561233757600080fd5b505af115801561234b573d6000803e3d6000fd5b505050506040513d602081101561236157600080fd5b810190808051906020019092919050505015156123e6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601e8152602001807f546f6b656e2066696e6765727072696e74206973206e6f742076616c6964000081525060200191505060405180910390fd5b5b50505050565b80600260019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231846040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1580156124ab57600080fd5b505af11580156124bf573d6000803e3d6000fd5b505050506040513d60208110156124d557600080fd5b81019080805190602001909291905050501015151561255c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f496e73756666696369656e742066756e6473000000000000000000000000000081525060200191505060405180910390fd5b80600260019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e84306040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b15801561264e57600080fd5b505af1158015612662573d6000803e3d6000fd5b505050506040513d602081101561267857600080fd5b810190808051906020019092919050505010151515612725576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603b8152602001807f54686520636f6e7472616374206973206e6f7420617574686f72697a6564207481526020017f6f20757365204d414e41206f6e2062696464657220626568616c66000000000081525060400191505060405180910390fd5b5050565b600080600084141561273e5760009150612760565b828402905082848281151561274f57fe5b0414151561275c57600080fd5b8091505b5092915050565b60008060008311151561277957600080fd5b828481151561278457fe5b0490508091505092915050565b6000808383111515156127a357600080fd5b82840390508091505092915050565b60008060056000876000191660001916815260200190815260200160002060009055600660008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600085815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600090556128c96001600460008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008781526020019081526020016000205461279190919063ffffffff16565b91508682141515612ae557600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008581526020019081526020016000206000838152602001908152602001600020905080600360008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008681526020019081526020016000206000898152602001908152602001600020600082015481600001906000191690556001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060038201548160030155600482015481600401556005820154816005015560068201816006019080546001816001161561010002031660029004612abc929190614106565b509050508660056000836000015460001916600019168152602001908152602001600020819055505b600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600085815260200190815260200160002060008381526020019081526020016000206000808201600090556001820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600382016000905560048201600090556005820160009055600682016000612bc591906140be565b5050600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600085815260200190815260200160002060008154809291906001900391905055508273ffffffffffffffffffffffffffffffffffffffff16848673ffffffffffffffffffffffffffffffffffffffff167fc43098075c34b8b92567bd49f08f55e397ebf82dd82072e3eb1be525c4506f5f8960405180826000191660001916815260200191505060405180910390a450505050505050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614151515612cdc57600080fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b612d4781600161393490919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167fcd265ebaf09df2871cc7bd4133404a235ba12eff2041bb89d9c714a2621c7c7e60405160405180910390a250565b600080600080600080600260009054906101000a900460ff16151515612db257600080fd5b612dbb8b6139e3565b612dc68b8b89612146565b600089111515612e3e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f50726963652073686f756c6420626520626967676572207468616e203000000081525060200191505060405180910390fd5b612e48338a6123ed565b603c8810151515612ee7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b8152602001807f546865206269642073686f756c64206265206c617374206c6f6e67657220746881526020017f616e2061206d696e75746500000000000000000000000000000000000000000081525060400191505060405180910390fd5b62eff1008811151515612f88576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001807f546865206269642063616e206e6f74206c617374206c6f6e676572207468616e81526020017f2036206d6f6e746873000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b8a95508573ffffffffffffffffffffffffffffffffffffffff16636352211e8b6040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b158015612ffa57600080fd5b505af115801561300e573d6000803e3d6000fd5b505050506040513d602081101561302457600080fd5b81019080805190602001909291905050509450600073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff16141580156130a057503373ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614155b151561313a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260388152602001807f54686520746f6b656e2073686f756c64206861766520616e206f776e6572206481526020017f6966666572656e742066726f6d207468652073656e646572000000000000000081525060400191505060405180910390fd5b61314d8842613c2490919063ffffffff16565b935042338c8c8c8c8c604051602001808881526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140185815260200184815260200183815260200182805190602001908083835b6020831015156132285780518252602082019150602081019050602083039250613203565b6001836020036101000a0380198251168184511680821785525050505050509050019750505050505050506040516020818303038152906040526040518082805190602001908083835b6020831015156132975780518252602082019150602081019050602083039250613272565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902092506132d18b8b33613c45565b15613313576132e18b8b33610bd0565b9091509050508092508193505050600560008260001916600019168152602001908152602001600020600090556133c7565b600460008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008b8152602001908152602001600020549150600460008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008b8152602001908152602001600020600081548092919060010191905055505b82600660008d73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008c815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208160001916905550816005600085600019166000191681526020019081526020016000208190555060e060405190810160405280846000191681526020013373ffffffffffffffffffffffffffffffffffffffff1681526020018c73ffffffffffffffffffffffffffffffffffffffff1681526020018b81526020018a815260200185815260200188815250600360008d73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008c815260200190815260200160002060008481526020019081526020016000206000820151816000019060001916905560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550606082015181600301556080820151816004015560a0820151816005015560c082015181600601908051906020019061361a92919061418d565b509050503373ffffffffffffffffffffffffffffffffffffffff168a8c73ffffffffffffffffffffffffffffffffffffffff167fe45b7709f1eed66d6e28f43b32f2003da0f0c40b92f75a8994370516e048620f868d898d60405180856000191660001916815260200184815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b838110156136cc5780820151818401526020810190506136b1565b50505050905090810190601f1680156136f95780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a45050505050505050505050565b61372a816001613f8e90919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f6719d08c1888103bea251a4ed56406bd0c3e69723c8a1686e017e7bbe159b6f860405160405180910390a250565b6000806000613780868686610bd0565b94505050925092504281101515613825576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f5468652062696420746f2072656d6f76652073686f756c64206265206578706981526020017f726564000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b61383283838888886127b2565b505050505050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561387657600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561397057600080fd5b61397a8282612c9f565b151561398557600080fd5b60008260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b6000613a048273ffffffffffffffffffffffffffffffffffffffff1661403e565b1515613a78576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f546f6b656e2073686f756c64206265206120636f6e747261637400000000000081525060200191505060405180910390fd5b8190508073ffffffffffffffffffffffffffffffffffffffff166301ffc9a76380ac58cd7c0100000000000000000000000000000000000000000000000000000000026040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168152602001915050602060405180830381600087803b158015613b4b57600080fd5b505af1158015613b5f573d6000803e3d6000fd5b505050506040513d6020811015613b7557600080fd5b81019080805190602001909291905050501515613c20576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a8152602001807f546f6b656e2068617320616e20696e76616c69642045524337323120696d706c81526020017f656d656e746174696f6e0000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5050565b6000808284019050838110151515613c3b57600080fd5b8091505092915050565b6000806000613c52614051565b600660008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600087815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549250600560008460001916600019168152602001908152602001600020549150600460008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600087815260200190815260200160002054821015613f7f57600360008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000878152602001908152602001600020600083815260200190815260200160002060e060405190810160405290816000820154600019166000191681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820154815260200160058201548152602001600682018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613f3a5780601f10613f0f57610100808354040283529160200191613f3a565b820191906000526020600020905b815481529060010190602001808311613f1d57829003601f168201915b50505050508152505090508473ffffffffffffffffffffffffffffffffffffffff16816020015173ffffffffffffffffffffffffffffffffffffffff16149350613f84565b600093505b5050509392505050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515613fca57600080fd5b613fd48282612c9f565b151515613fe057600080fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b600080823b905060008111915050919050565b60e06040519081016040528060008019168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081526020016000815260200160008152602001606081525090565b50805460018160011615610100020316600290046000825580601f106140e45750614103565b601f016020900490600052602060002090810190614102919061420d565b5b50565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061413f578054855561417c565b8280016001018555821561417c57600052602060002091601f016020900482015b8281111561417b578254825591600101919060010190614160565b5b509050614189919061420d565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106141ce57805160ff19168380011785556141fc565b828001600101855582156141fc579182015b828111156141fb5782518255916020019190600101906141e0565b5b509050614209919061420d565b5090565b61422f91905b8082111561422b576000816000905550600101614213565b5090565b905600a165627a7a72305820dc1fa12d4fa31336ba50630ed68ebccf6fd8190542902b8cd7ebabec737c55a80029\", _manaToken, _owner) as any;\n    }\n}\nexport var BidsAbi = abi;\n","import { toWei } from 'web3x-es/utils'\nimport { Address } from 'web3x-es/address'\n\nimport { Bids } from '../../../contracts/Bids'\nimport { ERC721 } from '../../../contracts/ERC721'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport { Bid } from '../../bid/types'\nimport { NFT } from '../../nft/types'\nimport { OrderStatus } from '../../order/types'\nimport { Vendors } from '../types'\nimport { BidService as BidServiceInterface } from '../services'\nimport { ContractService } from './ContractService'\nimport { bidAPI } from './bid/api'\n\nexport class BidService implements BidServiceInterface<Vendors.DECENTRALAND> {\n  async fetchBySeller(seller: string) {\n    const remoteBids = await bidAPI.fetchBySeller(seller)\n\n    let bids: Bid[] = []\n    for (const result of remoteBids) {\n      const { nft, ...rest } = result\n      bids.push({\n        ...rest,\n        contractAddress: nft.contractAddress,\n        tokenId: nft.tokenId\n      })\n    }\n\n    return bids\n  }\n\n  async fetchByBidder(bidder: string) {\n    const remoteBids = await bidAPI.fetchByBidder(bidder)\n\n    let bids: Bid[] = []\n    for (const result of remoteBids) {\n      const { nft, ...rest } = result\n      bids.push({\n        ...rest,\n        contractAddress: nft.contractAddress,\n        tokenId: nft.tokenId\n      })\n    }\n    return bids\n  }\n\n  async fetchByNFT(nft: NFT, status: OrderStatus = OrderStatus.OPEN) {\n    const remoteBids = await bidAPI.fetchByNFT(nft.id, status)\n\n    let bids: Bid[] = []\n    for (const result of remoteBids) {\n      const { nft, ...rest } = result\n      bids.push({\n        ...rest,\n        contractAddress: nft.contractAddress,\n        tokenId: nft.tokenId\n      })\n    }\n    return bids\n  }\n\n  async place(\n    nft: NFT,\n    price: number,\n    expiresAt: number,\n    fromAddress: string,\n    fingerprint?: string\n  ) {\n    const bids = await this.getBidContract()\n\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n\n    const priceInWei = toWei(price.toString(), 'ether')\n    const expiresIn = Math.round((expiresAt - Date.now()) / 1000)\n\n    if (fingerprint) {\n      return bids.methods\n        .placeBid(\n          Address.fromString(nft.contractAddress),\n          nft.tokenId,\n          priceInWei,\n          expiresIn,\n          fingerprint\n        )\n        .send({ from })\n        .getTxHash()\n    } else {\n      return bids.methods\n        .placeBid(\n          Address.fromString(nft.contractAddress),\n          nft.tokenId,\n          priceInWei,\n          expiresIn\n        )\n        .send({ from })\n        .getTxHash()\n    }\n  }\n\n  async accept(bid: Bid, fromAddress: string) {\n    const erc721 = await ContractFactory.build(ERC721, bid.contractAddress)\n\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n    const to = Address.fromString(ContractService.contractAddresses.Bids)\n\n    return erc721.methods\n      .safeTransferFrom(from, to, bid.tokenId, bid.blockchainId)\n      .send({ from })\n      .getTxHash()\n  }\n\n  async cancel(bid: Bid, fromAddress: string) {\n    const bids = await this.getBidContract()\n\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n\n    return bids.methods\n      .cancelBid(Address.fromString(bid.contractAddress), bid.tokenId)\n      .send({ from })\n      .getTxHash()\n  }\n\n  private getBidContract() {\n    return ContractFactory.build(Bids, ContractService.contractAddresses.Bids)\n  }\n}\n","import { ContractAbi} from 'web3x-es/contract';\nexport default new ContractAbi([\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_ownerCutPerMillion\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"setOwnerCutPerMillion\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_legacyNFTAddress\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setLegacyNFTAddress\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"ERC721_Interface\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"InterfaceId_ValidateFingerprint\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes4\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"unpause\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"acceptedToken\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"cancelOrder\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"paused\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"nftAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"cancelOrder\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"nftAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"priceInWei\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"expiresAt\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"createOrder\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"initialize\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"pause\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"nftAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"price\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"fingerprint\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"safeExecuteOrder\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"ownerCutPerMillion\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"priceInWei\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"expiresAt\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"createOrder\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"publicationFeeInWei\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"nftAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"price\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"executeOrder\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_publicationFee\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"setPublicationFee\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"contractName\",\n        \"type\": \"string\"\n      },\n      {\n        \"name\": \"migrationId\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"isMigrated\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_acceptedToken\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_legacyNFTAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"initialize\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"_sender\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"initialize\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"legacyNFTAddress\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"auctionByAssetId\",\n    \"outputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"orderByAssetId\",\n    \"outputs\": [\n      {\n        \"name\": \"id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"name\": \"seller\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"nftAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"price\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"expiresAt\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"price\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"executeOrder\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"seller\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"nftAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"priceInWei\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"expiresAt\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"OrderCreated\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"seller\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"nftAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"totalPrice\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"buyer\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OrderSuccessful\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"seller\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"nftAddress\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OrderCancelled\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"publicationFee\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ChangedPublicationFee\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"ownerCutPerMillion\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ChangedOwnerCutPerMillion\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"legacyNFTAddress\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"ChangeLegacyNFTAddress\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"seller\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"priceInWei\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"expiresAt\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"AuctionCreated\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"seller\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"totalPrice\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"winner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"AuctionSuccessful\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"id\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"assetId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"seller\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"AuctionCancelled\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"Pause\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"Unpause\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"name\": \"contractName\",\n        \"type\": \"string\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"migrationId\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"Migrated\",\n    \"type\": \"event\"\n  }\n]);","import BN from \"bn.js\";\nimport { Address } from \"web3x-es/address\";\nimport { EventLog, TransactionReceipt } from \"web3x-es/formatters\";\nimport { Contract, ContractOptions, TxCall, TxSend, EventSubscriptionFactory } from \"web3x-es/contract\";\nimport { Eth } from \"web3x-es/eth\";\nimport abi from \"./MarketplaceAbi\";\nexport type OrderCreatedEvent = {\n    id: string;\n    assetId: string;\n    seller: Address;\n    nftAddress: Address;\n    priceInWei: string;\n    expiresAt: string;\n};\nexport type OrderSuccessfulEvent = {\n    id: string;\n    assetId: string;\n    seller: Address;\n    nftAddress: Address;\n    totalPrice: string;\n    buyer: Address;\n};\nexport type OrderCancelledEvent = {\n    id: string;\n    assetId: string;\n    seller: Address;\n    nftAddress: Address;\n};\nexport type ChangedPublicationFeeEvent = {\n    publicationFee: string;\n};\nexport type ChangedOwnerCutPerMillionEvent = {\n    ownerCutPerMillion: string;\n};\nexport type ChangeLegacyNFTAddressEvent = {\n    legacyNFTAddress: Address;\n};\nexport type AuctionCreatedEvent = {\n    id: string;\n    assetId: string;\n    seller: Address;\n    priceInWei: string;\n    expiresAt: string;\n};\nexport type AuctionSuccessfulEvent = {\n    id: string;\n    assetId: string;\n    seller: Address;\n    totalPrice: string;\n    winner: Address;\n};\nexport type AuctionCancelledEvent = {\n    id: string;\n    assetId: string;\n    seller: Address;\n};\nexport type PauseEvent = {};\nexport type UnpauseEvent = {};\nexport type OwnershipTransferredEvent = {\n    previousOwner: Address;\n    newOwner: Address;\n};\nexport type MigratedEvent = {\n    contractName: string;\n    migrationId: string;\n};\nexport interface OrderCreatedEventLog extends EventLog<OrderCreatedEvent, \"OrderCreated\"> {\n}\nexport interface OrderSuccessfulEventLog extends EventLog<OrderSuccessfulEvent, \"OrderSuccessful\"> {\n}\nexport interface OrderCancelledEventLog extends EventLog<OrderCancelledEvent, \"OrderCancelled\"> {\n}\nexport interface ChangedPublicationFeeEventLog extends EventLog<ChangedPublicationFeeEvent, \"ChangedPublicationFee\"> {\n}\nexport interface ChangedOwnerCutPerMillionEventLog extends EventLog<ChangedOwnerCutPerMillionEvent, \"ChangedOwnerCutPerMillion\"> {\n}\nexport interface ChangeLegacyNFTAddressEventLog extends EventLog<ChangeLegacyNFTAddressEvent, \"ChangeLegacyNFTAddress\"> {\n}\nexport interface AuctionCreatedEventLog extends EventLog<AuctionCreatedEvent, \"AuctionCreated\"> {\n}\nexport interface AuctionSuccessfulEventLog extends EventLog<AuctionSuccessfulEvent, \"AuctionSuccessful\"> {\n}\nexport interface AuctionCancelledEventLog extends EventLog<AuctionCancelledEvent, \"AuctionCancelled\"> {\n}\nexport interface PauseEventLog extends EventLog<PauseEvent, \"Pause\"> {\n}\nexport interface UnpauseEventLog extends EventLog<UnpauseEvent, \"Unpause\"> {\n}\nexport interface OwnershipTransferredEventLog extends EventLog<OwnershipTransferredEvent, \"OwnershipTransferred\"> {\n}\nexport interface MigratedEventLog extends EventLog<MigratedEvent, \"Migrated\"> {\n}\ninterface MarketplaceEvents {\n    OrderCreated: EventSubscriptionFactory<OrderCreatedEventLog>;\n    OrderSuccessful: EventSubscriptionFactory<OrderSuccessfulEventLog>;\n    OrderCancelled: EventSubscriptionFactory<OrderCancelledEventLog>;\n    ChangedPublicationFee: EventSubscriptionFactory<ChangedPublicationFeeEventLog>;\n    ChangedOwnerCutPerMillion: EventSubscriptionFactory<ChangedOwnerCutPerMillionEventLog>;\n    ChangeLegacyNFTAddress: EventSubscriptionFactory<ChangeLegacyNFTAddressEventLog>;\n    AuctionCreated: EventSubscriptionFactory<AuctionCreatedEventLog>;\n    AuctionSuccessful: EventSubscriptionFactory<AuctionSuccessfulEventLog>;\n    AuctionCancelled: EventSubscriptionFactory<AuctionCancelledEventLog>;\n    Pause: EventSubscriptionFactory<PauseEventLog>;\n    Unpause: EventSubscriptionFactory<UnpauseEventLog>;\n    OwnershipTransferred: EventSubscriptionFactory<OwnershipTransferredEventLog>;\n    Migrated: EventSubscriptionFactory<MigratedEventLog>;\n}\ninterface MarketplaceEventLogs {\n    OrderCreated: OrderCreatedEventLog;\n    OrderSuccessful: OrderSuccessfulEventLog;\n    OrderCancelled: OrderCancelledEventLog;\n    ChangedPublicationFee: ChangedPublicationFeeEventLog;\n    ChangedOwnerCutPerMillion: ChangedOwnerCutPerMillionEventLog;\n    ChangeLegacyNFTAddress: ChangeLegacyNFTAddressEventLog;\n    AuctionCreated: AuctionCreatedEventLog;\n    AuctionSuccessful: AuctionSuccessfulEventLog;\n    AuctionCancelled: AuctionCancelledEventLog;\n    Pause: PauseEventLog;\n    Unpause: UnpauseEventLog;\n    OwnershipTransferred: OwnershipTransferredEventLog;\n    Migrated: MigratedEventLog;\n}\ninterface MarketplaceTxEventLogs {\n    OrderCreated: OrderCreatedEventLog[];\n    OrderSuccessful: OrderSuccessfulEventLog[];\n    OrderCancelled: OrderCancelledEventLog[];\n    ChangedPublicationFee: ChangedPublicationFeeEventLog[];\n    ChangedOwnerCutPerMillion: ChangedOwnerCutPerMillionEventLog[];\n    ChangeLegacyNFTAddress: ChangeLegacyNFTAddressEventLog[];\n    AuctionCreated: AuctionCreatedEventLog[];\n    AuctionSuccessful: AuctionSuccessfulEventLog[];\n    AuctionCancelled: AuctionCancelledEventLog[];\n    Pause: PauseEventLog[];\n    Unpause: UnpauseEventLog[];\n    OwnershipTransferred: OwnershipTransferredEventLog[];\n    Migrated: MigratedEventLog[];\n}\nexport interface MarketplaceTransactionReceipt extends TransactionReceipt<MarketplaceTxEventLogs> {\n}\ninterface MarketplaceMethods {\n    setOwnerCutPerMillion(_ownerCutPerMillion: number | string | BN): TxSend<MarketplaceTransactionReceipt>;\n    setLegacyNFTAddress(_legacyNFTAddress: Address): TxSend<MarketplaceTransactionReceipt>;\n    ERC721_Interface(): TxCall<string>;\n    InterfaceId_ValidateFingerprint(): TxCall<string>;\n    unpause(): TxSend<MarketplaceTransactionReceipt>;\n    acceptedToken(): TxCall<Address>;\n    cancelOrder(assetId: number | string | BN): TxSend<MarketplaceTransactionReceipt>;\n    paused(): TxCall<boolean>;\n    cancelOrder(nftAddress: Address, assetId: number | string | BN): TxSend<MarketplaceTransactionReceipt>;\n    createOrder(nftAddress: Address, assetId: number | string | BN, priceInWei: number | string | BN, expiresAt: number | string | BN): TxSend<MarketplaceTransactionReceipt>;\n    initialize(): TxSend<MarketplaceTransactionReceipt>;\n    pause(): TxSend<MarketplaceTransactionReceipt>;\n    owner(): TxCall<Address>;\n    safeExecuteOrder(nftAddress: Address, assetId: number | string | BN, price: number | string | BN, fingerprint: string): TxSend<MarketplaceTransactionReceipt>;\n    ownerCutPerMillion(): TxCall<string>;\n    createOrder(assetId: number | string | BN, priceInWei: number | string | BN, expiresAt: number | string | BN): TxSend<MarketplaceTransactionReceipt>;\n    publicationFeeInWei(): TxCall<string>;\n    executeOrder(nftAddress: Address, assetId: number | string | BN, price: number | string | BN): TxSend<MarketplaceTransactionReceipt>;\n    setPublicationFee(_publicationFee: number | string | BN): TxSend<MarketplaceTransactionReceipt>;\n    isMigrated(contractName: string, migrationId: string): TxCall<boolean>;\n    initialize(_acceptedToken: Address, _legacyNFTAddress: Address, _owner: Address): TxSend<MarketplaceTransactionReceipt>;\n    initialize(_sender: Address): TxSend<MarketplaceTransactionReceipt>;\n    legacyNFTAddress(): TxCall<Address>;\n    auctionByAssetId(assetId: number | string | BN): TxCall<{\n        0: string;\n        1: Address;\n        2: string;\n        3: string;\n    }>;\n    orderByAssetId(a0: Address, a1: number | string | BN): TxCall<{\n        \"id\": string;\n        0: string;\n        \"seller\": Address;\n        1: Address;\n        \"nftAddress\": Address;\n        2: Address;\n        \"price\": string;\n        3: string;\n        \"expiresAt\": string;\n        4: string;\n    }>;\n    executeOrder(assetId: number | string | BN, price: number | string | BN): TxSend<MarketplaceTransactionReceipt>;\n    transferOwnership(newOwner: Address): TxSend<MarketplaceTransactionReceipt>;\n}\nexport interface MarketplaceDefinition {\n    methods: MarketplaceMethods;\n    events: MarketplaceEvents;\n    eventLogs: MarketplaceEventLogs;\n}\nexport class Marketplace extends Contract<MarketplaceDefinition> {\n    constructor(eth: Eth, address?: Address, options?: ContractOptions) {\n        super(eth, abi, address, options);\n    }\n    deploy(): TxSend<MarketplaceTransactionReceipt> {\n        return super.deployBytecode(\"0x60806040526001805460a060020a60ff021916905534801561002057600080fd5b50612f4a806100306000396000f3006080604052600436106101455763ffffffff60e060020a60003504166319dad16d811461014a5780631b357750146101645780632b4c32be1461018557806337f82f37146101cc5780633f4ba83a146101e1578063451c3d80146101f6578063514fcac7146102275780635c975abb1461023f5780636a206137146102685780636f652e1a1461028c5780638129fc1c146102b65780638456cb59146102cb5780638da5cb5b146102e05780639b214f77146102f5578063a01f79d414610361578063a1ba444d14610388578063ae4f1198146103a6578063ae7b0333146103bb578063af8996f1146103e2578063c0bac1a8146103fa578063c0c53b8b14610491578063c4d66de8146104be578063d6b26813146104df578063d7b40107146104f4578063e61f38511461053a578063ef46e0ca14610595578063f2fde38b146105b0575b600080fd5b34801561015657600080fd5b506101626004356105d1565b005b34801561017057600080fd5b50610162600160a060020a03600435166106a3565b34801561019157600080fd5b5061019a610713565b604080517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff199092168252519081900360200190f35b3480156101d857600080fd5b5061019a610737565b3480156101ed57600080fd5b5061016261076c565b34801561020257600080fd5b5061020b6107e4565b60408051600160a060020a039092168252519081900360200190f35b34801561023357600080fd5b506101626004356107f3565b34801561024b57600080fd5b50610254610875565b604080519115158252519081900360200190f35b34801561027457600080fd5b50610162600160a060020a0360043516602435610885565b34801561029857600080fd5b50610162600160a060020a03600435166024356044356064356108ab565b3480156102c257600080fd5b506101626108d4565b3480156102d757600080fd5b50610162610c21565b3480156102ec57600080fd5b5061020b610c9e565b34801561030157600080fd5b50604080516020601f60643560048181013592830184900484028501840190955281845261016294600160a060020a038135169460248035956044359536956084949301918190840183828082843750949750610cad9650505050505050565b34801561036d57600080fd5b50610376610cd7565b60408051918252519081900360200190f35b34801561039457600080fd5b50610162600435602435604435610cdd565b3480156103b257600080fd5b50610376610dc4565b3480156103c757600080fd5b50610162600160a060020a0360043516602435604435610dca565b3480156103ee57600080fd5b50610162600435610dfd565b34801561040657600080fd5b506040805160206004803580820135601f810184900484028501840190955284845261025494369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a999881019791965091820194509250829150840183828082843750949750610e4f9650505050505050565b34801561049d57600080fd5b50610162600160a060020a0360043581169060243581169060443516610f18565b3480156104ca57600080fd5b50610162600160a060020a03600435166113a1565b3480156104eb57600080fd5b5061020b6116f8565b34801561050057600080fd5b5061050c600435611707565b60408051948552600160a060020a039093166020850152838301919091526060830152519081900360800190f35b34801561054657600080fd5b5061055e600160a060020a036004351660243561178f565b60408051958652600160a060020a039485166020870152929093168483015260608401526080830191909152519081900360a00190f35b3480156105a157600080fd5b506101626004356024356117d2565b3480156105bc57600080fd5b50610162600160a060020a0360043516611873565b600154600160a060020a031633146105e857600080fd5b620f42408110610668576040805160e560020a62461bcd02815260206004820152602d60248201527f546865206f776e6572206375742073686f756c64206265206265747765656e2060448201527f3020616e64203939392c39393900000000000000000000000000000000000000606482015290519081900360840190fd5b60048190556040805182815290517ffa406a120a9e7f2b332bfb7a43d3bf1c3f079262202907a6b69c94b2821a02c69181900360200190a150565b600154600160a060020a031633146106ba57600080fd5b6106c3816118fb565b60068054600160a060020a031916600160a060020a0383811691909117918290556040519116907f6e65d1b616d558dd96db7a58e31a954d28d47d57d568e7d7fc7819803878928f90600090a250565b7f80ac58cd0000000000000000000000000000000000000000000000000000000081565b604080517f76657269667946696e6765727072696e742875696e743235362c6279746573298152905190819003602001902081565b600154600160a060020a0316331461078357600080fd5b60015460a060020a900460ff16151561079b57600080fd5b6001805474ff0000000000000000000000000000000000000000191690556040517f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b3390600090a1565b600254600160a060020a031681565b6107fb612eb0565b60015460a060020a900460ff161561081257600080fd5b60065461082890600160a060020a031683611abb565b60208082015182516040805191825251939450600160a060020a039091169285927f88bd2ba46f3dc2567144331c35bd4c5ced3d547d8828638a152ddd9591c137a6928290030190a35050565b60015460a060020a900460ff1681565b60015460a060020a900460ff161561089c57600080fd5b6108a68282611abb565b505050565b60015460a060020a900460ff16156108c257600080fd5b6108ce84848484611cb2565b50505050565b6040805190810160405280600a81526020017f4d696772617461626c65000000000000000000000000000000000000000000008152506040805190810160405280600581526020017f312e322e3100000000000000000000000000000000000000000000000000000081525061096d826040805190810160405280600b8152602001600080516020612eff833981519152815250612358565b6109778282612358565b600080516020612edf8339815191528282604051808060200180602001838103835285818151815260200191508051906020019080838360005b838110156109c95781810151838201526020016109b1565b50505050905090810190601f1680156109f65780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610a29578181015183820152602001610a11565b50505050905090810190601f168015610a565780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160016000836040518082805190602001908083835b60208310610a995780518252601f199092019160209182019101610a7a565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b60208310610af55780518252601f199092019160209182019101610ad6565b51815160209384036101000a60001901801990921691161790529201948552506040519384900381018420805460ff19169515159590951790945550508351600192600092869290918291908401908083835b60208310610b675780518252601f199092019160209182019101610b48565b51815160209384036101000a60001901801990921691161790529201948552506040805194859003820185208582018252600b808752600080516020612eff83398151915293870193845291519095945092508291908083835b60208310610be05780518252601f199092019160209182019101610bc1565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220805460ff19169315159390931790925550505050565b600154600160a060020a03163314610c3857600080fd5b60015460a060020a900460ff1615610c4f57600080fd5b6001805474ff0000000000000000000000000000000000000000191660a060020a1790556040517f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff62590600090a1565b600154600160a060020a031681565b60015460a060020a900460ff1615610cc457600080fd5b610cd0848484846123dd565b5050505050565b60045481565b610ce5612eb0565b60015460a060020a900460ff1615610cfc57600080fd5b600654610d1490600160a060020a0316858585611cb2565b50600654600160a060020a039081166000908152600360208181526040808420888552825292839020835160a0810185528154808252600183015487168285018190526002840154909716828701529382015460608083018290526004909301546080830181905286519586529385015283850192909252925190939287927f9493ae82b9872af74473effb9d302efba34e0df360a99cc5e577cd3f28e3cab2929081900390910190a350505050565b60055481565b60015460a060020a900460ff1615610de157600080fd5b6108ce83838360206040519081016040528060008152506123dd565b600154600160a060020a03163314610e1457600080fd5b60058190556040805182815290517fe7fa8737293f41b5dfa0d5c3e552860a06275bed7015581b083c7be7003308ba9181900360200190a150565b600080836040518082805190602001908083835b60208310610e825780518252601f199092019160209182019101610e63565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b60208310610ede5780518252601f199092019160209182019101610ebf565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092205460ff16925050505b92915050565b6040805190810160405280600b81526020017f4d61726b6574706c6163650000000000000000000000000000000000000000008152506040805190810160405280600581526020017f302e302e31000000000000000000000000000000000000000000000000000000815250610fb1826040805190810160405280600b8152602001600080516020612eff833981519152815250612358565b610fbb8282612358565b600160a060020a038316151561101b576040805160e560020a62461bcd02815260206004820152600d60248201527f496e76616c6964206f776e657200000000000000000000000000000000000000604482015290519081900360640190fd5b611024836113a1565b61103685600160a060020a0316612d39565b15156110b2576040805160e560020a62461bcd02815260206004820152603660248201527f54686520616363657074656420746f6b656e2061646472657373206d7573742060448201527f62652061206465706c6f79656420636f6e747261637400000000000000000000606482015290519081900360840190fd5b60028054600160a060020a031916600160a060020a0387161790556110d6846118fb565b60068054600160a060020a031916600160a060020a038616179055604080518181528351918101919091528251600080516020612edf8339815191529184918491908190602080830191606084019187019080838360005b8381101561114657818101518382015260200161112e565b50505050905090810190601f1680156111735780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156111a657818101518382015260200161118e565b50505050905090810190601f1680156111d35780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160016000836040518082805190602001908083835b602083106112165780518252601f1990920191602091820191016111f7565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b602083106112725780518252601f199092019160209182019101611253565b51815160209384036101000a60001901801990921691161790529201948552506040519384900381018420805460ff19169515159590951790945550508351600192600092869290918291908401908083835b602083106112e45780518252601f1990920191602091820191016112c5565b51815160209384036101000a60001901801990921691161790529201948552506040805194859003820185208582018252600b808752600080516020612eff83398151915293870193845291519095945092508291908083835b6020831061135d5780518252601f19909201916020918201910161133e565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220805460ff19169315159390931790925550505050505050565b6040805190810160405280600881526020017f5061757361626c650000000000000000000000000000000000000000000000008152506040805190810160405280600581526020017f312e392e3000000000000000000000000000000000000000000000000000000081525061143a826040805190810160405280600b8152602001600080516020612eff833981519152815250612358565b6114448282612358565b61144d83612d41565b600080516020612edf8339815191528282604051808060200180602001838103835285818151815260200191508051906020019080838360005b8381101561149f578181015183820152602001611487565b50505050905090810190601f1680156114cc5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156114ff5781810151838201526020016114e7565b50505050905090810190601f16801561152c5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160016000836040518082805190602001908083835b6020831061156f5780518252601f199092019160209182019101611550565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101842086519094879450925082918401908083835b602083106115cb5780518252601f1990920191602091820191016115ac565b51815160209384036101000a60001901801990921691161790529201948552506040519384900381018420805460ff19169515159590951790945550508351600192600092869290918291908401908083835b6020831061163d5780518252601f19909201916020918201910161161e565b51815160209384036101000a60001901801990921691161790529201948552506040805194859003820185208582018252600b808752600080516020612eff83398151915293870193845291519095945092508291908083835b602083106116b65780518252601f199092019160209182019101611697565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220805460ff1916931515939093179092555050505050565b600654600160a060020a031681565b600080600080611715612eb0565b5050600654600160a060020a039081166000908152600360208181526040808420898552825292839020835160a08101855281548082526001830154871693820184905260028301549096169481019490945291820154606084018190526004909201546080840181905293965094509250509193509193565b60036020818152600093845260408085209091529183529120805460018201546002830154938301546004909301549193600160a060020a039182169391169185565b6117da612eb0565b60015460a060020a900460ff16156117f157600080fd5b60065460408051602081019091526000815261181a91600160a060020a031690859085906123dd565b60208181015182516040805191825292810186905282519394503393600160a060020a039092169287927fedcc7e1c269bc295dc24e74dc46b129c8449e6b0544af73b57c4201b78d119db9281900390910190a4505050565b600154600160a060020a0316331461188a57600080fd5b600160a060020a038116151561189f57600080fd5b600154604051600160a060020a038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a360018054600160a060020a031916600160a060020a0392909216919091179055565b600061190f82600160a060020a0316612d39565b151561198a576040805160e560020a62461bcd028152602060048201526024808201527f546865204e465420416464726573732073686f756c64206265206120636f6e7460448201527f7261637400000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b50604080517f01ffc9a70000000000000000000000000000000000000000000000000000000081527f80ac58cd00000000000000000000000000000000000000000000000000000000600482015290518291600160a060020a038316916301ffc9a7916024808201926020929091908290030181600087803b158015611a0f57600080fd5b505af1158015611a23573d6000803e3d6000fd5b505050506040513d6020811015611a3957600080fd5b50511515611ab7576040805160e560020a62461bcd02815260206004820152603560248201527f546865204e465420636f6e74726163742068617320616e20696e76616c69642060448201527f45524337323120696d706c656d656e746174696f6e0000000000000000000000606482015290519081900360840190fd5b5050565b611ac3612eb0565b611acb612eb0565b50600160a060020a0380841660009081526003602081815260408084208785528252808420815160a081018352815480825260018301548816948201949094526002820154909616918601919091529182015460608501526004909101546080840152819081901515611b88576040805160e560020a62461bcd02815260206004820152601360248201527f4173736574206e6f74207075626c697368656400000000000000000000000000604482015290519081900360640190fd5b6020840151600160a060020a0316331480611bad5750600154600160a060020a031633145b1515611c03576040805160e560020a62461bcd02815260206004820152601160248201527f556e617574686f72697a65642075736572000000000000000000000000000000604482015290519081900360640190fd5b50508151602080840151604080860151600160a060020a03808b16600090815260038087528482208c83528752848220828155600181018054600160a060020a03199081169091556002820180549091169055908101829055600401558251868152818316958101959095528251959650929490939285169289927f0325426328de5b91ae4ad8462ad4076de4bcaf4551e81556185cacde5a425c6b92918290030190a3509195945050505050565b6000806000611cc0876118fb565b86925082600160a060020a0316636352211e876040518263ffffffff1660e060020a02815260040180828152602001915050602060405180830381600087803b158015611d0c57600080fd5b505af1158015611d20573d6000803e3d6000fd5b505050506040513d6020811015611d3657600080fd5b5051915033600160a060020a03831614611d9a576040805160e560020a62461bcd02815260206004820181905260248201527f4f6e6c7920746865206f776e65722063616e20637265617465206f7264657273604482015290519081900360640190fd5b30600160a060020a031683600160a060020a031663081812fc886040518263ffffffff1660e060020a02815260040180828152602001915050602060405180830381600087803b158015611ded57600080fd5b505af1158015611e01573d6000803e3d6000fd5b505050506040513d6020811015611e1757600080fd5b5051600160a060020a03161480611ec15750604080517fe985e9c5000000000000000000000000000000000000000000000000000000008152600160a060020a03848116600483015230602483015291519185169163e985e9c5916044808201926020929091908290030181600087803b158015611e9457600080fd5b505af1158015611ea8573d6000803e3d6000fd5b505050506040513d6020811015611ebe57600080fd5b50515b1515611f3d576040805160e560020a62461bcd02815260206004820152603260248201527f54686520636f6e7472616374206973206e6f7420617574686f72697a6564207460448201527f6f206d616e616765207468652061737365740000000000000000000000000000606482015290519081900360840190fd5b60008511611f95576040805160e560020a62461bcd02815260206004820152601d60248201527f50726963652073686f756c6420626520626967676572207468616e2030000000604482015290519081900360640190fd5b611fa642603c63ffffffff612e5316565b8411612022576040805160e560020a62461bcd02815260206004820152603660248201527f5075626c69636174696f6e2073686f756c64206265206d6f7265207468616e2060448201527f31206d696e75746520696e207468652066757475726500000000000000000000606482015290519081900360840190fd5b60408051426020808301919091526c01000000000000000000000000600160a060020a03808716820284860152605484018b90528b1602607483015260888083018990528351808403909101815260a890920192839052815191929182918401908083835b602083106120a65780518252601f199092019160209182019101612087565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020905060a0604051908101604052808260001916815260200183600160a060020a0316815260200188600160a060020a03168152602001868152602001858152506003600089600160a060020a0316600160a060020a0316815260200190815260200160002060008881526020019081526020016000206000820151816000019060001916905560208201518160010160006101000a815481600160a060020a030219169083600160a060020a0316021790555060408201518160020160006101000a815481600160a060020a030219169083600160a060020a031602179055506060820151816003015560808201518160040155905050600060055411156122f857600254600154600554604080517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a03938416602482015260448101929092525191909216916323b872dd9160648083019260209291908290030181600087803b15801561225057600080fd5b505af1158015612264573d6000803e3d6000fd5b505050506040513d602081101561227a57600080fd5b505115156122f8576040805160e560020a62461bcd02815260206004820152603f60248201527f5472616e73666572696e6720746865207075626c69636174696f6e206665652060448201527f746f20746865204d61726b6574706c616365206f776e6572206661696c656400606482015290519081900360840190fd5b60408051828152600160a060020a0389811660208301528183018890526060820187905291519184169188917f84c66c3f7ba4b390e20e8e8233e2a516f3ce34a72749e4f12bd010dfba238039919081900360800190a350505050505050565b6123628282610e4f565b15611ab7576040805160e560020a62461bcd02815260206004820152603260248201527f52657175657374656420746172676574206d6967726174696f6e20494420686160448201527f7320616c7265616479206265656e2072756e0000000000000000000000000000606482015290519081900360840190fd5b6123e5612eb0565b60006123ef612eb0565b60008060006123fd8a6118fb565b604080517f76657269667946696e6765727072696e742875696e743235362c6279746573298152815190819003602090810182207f01ffc9a70000000000000000000000000000000000000000000000000000000083527bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916600483015291518c9750600160a060020a038816926301ffc9a792602480820193918290030181600087803b1580156124ab57600080fd5b505af11580156124bf573d6000803e3d6000fd5b505050506040513d60208110156124d557600080fd5b50511561264e57604080517f8f9f4b63000000000000000000000000000000000000000000000000000000008152600481018b815260248201928352895160448301528951600160a060020a03891693638f9f4b63938e938d9390929160640190602085019080838360005b83811015612559578181015183820152602001612541565b50505050905090810190601f1680156125865780820380516001836020036101000a031916815260200191505b509350505050602060405180830381600087803b1580156125a657600080fd5b505af11580156125ba573d6000803e3d6000fd5b505050506040513d60208110156125d057600080fd5b5051151561264e576040805160e560020a62461bcd02815260206004820152602260248201527f5468652061737365742066696e6765727072696e74206973206e6f742076616c60448201527f6964000000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a03808b1660009081526003602081815260408084208e8552825292839020835160a081018552815480825260018301548716938201939093526002820154909516938501939093529082015460608401526004909101546080830152909450151561270a576040805160e560020a62461bcd02815260206004820152601360248201527f4173736574206e6f74207075626c697368656400000000000000000000000000604482015290519081900360640190fd5b60208401519250600160a060020a0383161515612771576040805160e560020a62461bcd02815260206004820152600f60248201527f496e76616c696420616464726573730000000000000000000000000000000000604482015290519081900360640190fd5b600160a060020a0383163314156127d2576040805160e560020a62461bcd02815260206004820152601160248201527f556e617574686f72697a65642075736572000000000000000000000000000000604482015290519081900360640190fd5b6060840151881461282d576040805160e560020a62461bcd02815260206004820152601860248201527f546865207072696365206973206e6f7420636f72726563740000000000000000604482015290519081900360640190fd5b60808401514210612888576040805160e560020a62461bcd02815260206004820152601160248201527f546865206f726465722065787069726564000000000000000000000000000000604482015290519081900360640190fd5b84600160a060020a0316636352211e8a6040518263ffffffff1660e060020a02815260040180828152602001915050602060405180830381600087803b1580156128d157600080fd5b505af11580156128e5573d6000803e3d6000fd5b505050506040513d60208110156128fb57600080fd5b5051600160a060020a03848116911614612985576040805160e560020a62461bcd02815260206004820152602160248201527f5468652073656c6c6572206973206e6f206c6f6e67657220746865206f776e6560448201527f7200000000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b50508151600160a060020a03891660009081526003602081815260408084208c85529091528220828155600181018054600160a060020a03199081169091556002820180549091169055908101829055600490810182905554909190821015612b3257612a10620f4240612a046004548b612e6090919063ffffffff16565b9063ffffffff612e8916565b600254600154604080517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a0392831660248201526044810185905290519395509116916323b872dd916064808201926020929091908290030181600087803b158015612a8a57600080fd5b505af1158015612a9e573d6000803e3d6000fd5b505050506040513d6020811015612ab457600080fd5b50511515612b32576040805160e560020a62461bcd02815260206004820152603360248201527f5472616e73666572696e67207468652063757420746f20746865204d61726b6560448201527f74706c616365206f776e6572206661696c656400000000000000000000000000606482015290519081900360840190fd5b600254600160a060020a03166323b872dd3385612b558c8763ffffffff612e9e16565b6040805160e060020a63ffffffff8716028152600160a060020a0394851660048201529290931660248301526044820152905160648083019260209291908290030181600087803b158015612ba957600080fd5b505af1158015612bbd573d6000803e3d6000fd5b505050506040513d6020811015612bd357600080fd5b50511515612c51576040805160e560020a62461bcd02815260206004820152603060248201527f5472616e73666572696e67207468652073616c6520616d6f756e7420746f207460448201527f68652073656c6c6572206661696c656400000000000000000000000000000000606482015290519081900360840190fd5b604080517f42842e0e000000000000000000000000000000000000000000000000000000008152600160a060020a038581166004830152336024830152604482018c90529151918716916342842e0e9160648082019260009290919082900301818387803b158015612cc257600080fd5b505af1158015612cd6573d6000803e3d6000fd5b505060408051848152600160a060020a038e811660208301528183018d9052915133945091871692508c917f695ec315e8a642a74d450a4505eeea53df699b47a7378c7d752e97d5b16eb9bb9181900360600190a4509198975050505050505050565b6000903b1190565b6040805190810160405280600781526020017f4f776e61626c65000000000000000000000000000000000000000000000000008152506040805190810160405280600581526020017f312e392e30000000000000000000000000000000000000000000000000000000815250612dda826040805190810160405280600b8152602001600080516020612eff833981519152815250612358565b612de48282612358565b60018054600160a060020a031916600160a060020a038516179055604080518181528351918101919091528251600080516020612edf8339815191529184918491908190602080830191606084019187019080838360008381101561149f578181015183820152602001611487565b81810182811015610f1257fe5b6000821515612e7157506000610f12565b50818102818382811515612e8157fe5b0414610f1257fe5b60008183811515612e9657fe5b049392505050565b600082821115612eaa57fe5b50900390565b6040805160a081018252600080825260208201819052918101829052606081018290526080810191909152905600dd117a11c22118c9dee4b5a67ce578bc44529dce21ee0ccc439588fbb9fb4ea3696e697469616c697a6564000000000000000000000000000000000000000000a165627a7a7230582036c7967ac0c58341581c36bf16c11cd79c9ae1b889c361b79c7bd26edae38f2f0029\") as any;\n    }\n}\nexport var MarketplaceAbi = abi;\n","import { toWei } from 'web3x-es/utils'\nimport { Address } from 'web3x-es/address'\n\nimport { Marketplace } from '../../../contracts/Marketplace'\nimport { ContractFactory } from '../../contract/ContractFactory'\nimport { NFT } from '../../nft/types'\nimport { Order } from '../../order/types'\nimport { orderAPI } from './order/api'\nimport { Vendors } from '../types'\nimport { OrderService as OrderServiceInterface } from '../services'\nimport { ContractService } from './ContractService'\n\nexport class OrderService\n  implements OrderServiceInterface<Vendors.DECENTRALAND> {\n  async fetchByNFT(nft: NFT) {\n    const orders = await orderAPI.fetchByNFT(nft.id)\n    return orders as Order[]\n  }\n\n  async create(\n    nft: NFT,\n    price: number,\n    expiresAt: number,\n    fromAddress: string\n  ) {\n    const marketplace = await this.getMarketplaceContract()\n\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n\n    return marketplace.methods\n      .createOrder(\n        Address.fromString(nft.contractAddress),\n        nft.tokenId,\n        toWei(price.toString(), 'ether'),\n        expiresAt\n      )\n      .send({ from })\n      .getTxHash()\n  }\n\n  async execute(\n    nft: NFT,\n    order: Order,\n    fromAddress: string,\n    fingerprint?: string\n  ) {\n    const marketplace = await this.getMarketplaceContract()\n    const { price } = order\n\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n    const from = Address.fromString(fromAddress)\n\n    if (fingerprint) {\n      return marketplace.methods\n        .safeExecuteOrder(\n          Address.fromString(nft.contractAddress),\n          nft.tokenId,\n          price,\n          fingerprint\n        )\n        .send({ from })\n        .getTxHash()\n    } else {\n      return marketplace.methods\n        .executeOrder(\n          Address.fromString(nft.contractAddress),\n          nft.tokenId,\n          price\n        )\n        .send({ from })\n        .getTxHash()\n    }\n  }\n\n  async cancel(nft: NFT, fromAddress: string) {\n    const marketplace = await this.getMarketplaceContract()\n\n    if (!fromAddress) {\n      throw new Error('Invalid address. Wallet must be connected.')\n    }\n\n    const from = Address.fromString(fromAddress)\n    return marketplace.methods\n      .cancelOrder(Address.fromString(nft.contractAddress), nft.tokenId)\n      .send({ from })\n      .getTxHash()\n  }\n\n  canSell() {\n    return true\n  }\n\n  private getMarketplaceContract() {\n    return ContractFactory.build(\n      Marketplace,\n      ContractService.contractAddresses.Marketplace\n    )\n  }\n}\n","import { t } from 'decentraland-dapps/dist/modules/translation/utils'\nimport { Wallet } from 'decentraland-dapps/dist/modules/wallet/types'\nimport { Vendors } from '../vendor/types'\nimport { NFTCategory } from '../nft/types'\nimport { SortDirection, SortBy } from '../routing/types'\nimport { contractCategories } from '../contract/utils'\nimport { addressEquals } from '../wallet/utils'\nimport { NFT, NFTSortBy } from './types'\n\nexport function getNFTId(contractAddress: string, tokenId: string) {\n  // TODO: added \"wearable\" as fallback so when a new collection is added to TheGraph that hasn't been added to the frontend yet, we can handle it without blowing up\n  const contractCategory =\n    contractCategories[contractAddress] || NFTCategory.WEARABLE\n\n  if (!contractCategory) {\n    throw new Error(\n      `Could not find a valid category for contract ${contractAddress}`\n    )\n  }\n\n  return contractCategory + '-' + contractAddress + '-' + tokenId\n}\n\nexport function getNFTName(\n  nft: Pick<NFT, 'vendor' | 'name' | 'category' | 'data'>\n) {\n  if (nft.name) {\n    return nft.name\n  }\n\n  switch (nft.category) {\n    case NFTCategory.PARCEL:\n      return t(\n        'global.parcel_with_coords',\n        (nft as NFT<Vendors.DECENTRALAND>).data.parcel\n      )\n\n    case NFTCategory.ESTATE:\n      return t('global.estate')\n\n    case NFTCategory.WEARABLE:\n      return t('global.wearable')\n\n    case NFTCategory.ENS:\n      return t('global.ens')\n\n    case NFTCategory.ART:\n      return t('global.art')\n\n    default:\n      return t('global.nft')\n  }\n}\n\nexport function getSortOrder(sortBy: SortBy) {\n  let orderBy: NFTSortBy = NFTSortBy.CREATED_AT\n  let orderDirection: SortDirection = SortDirection.DESC\n\n  switch (sortBy) {\n    case SortBy.NAME: {\n      orderBy = NFTSortBy.NAME\n      orderDirection = SortDirection.ASC\n      break\n    }\n    case SortBy.NEWEST: {\n      orderBy = NFTSortBy.CREATED_AT\n      orderDirection = SortDirection.DESC\n      break\n    }\n    case SortBy.RECENTLY_LISTED: {\n      orderBy = NFTSortBy.ORDER_CREATED_AT\n      orderDirection = SortDirection.DESC\n      break\n    }\n    case SortBy.CHEAPEST: {\n      orderBy = NFTSortBy.PRICE\n      orderDirection = SortDirection.ASC\n      break\n    }\n  }\n\n  return [orderBy, orderDirection] as const\n}\n\nexport function getNFT(\n  contractAddress: string | null,\n  tokenId: string | null,\n  nfts: Record<string, NFT>\n): NFT | null {\n  if (!contractAddress || !tokenId) {\n    return null\n  }\n\n  const nftId = getNFTId(contractAddress, tokenId)\n  return nftId in nfts ? nfts[nftId] : null\n}\n\nexport function isOwnedBy(nft: NFT, wallet: Wallet | null) {\n  return addressEquals(wallet?.address, nft.owner)\n}\n","import { gql } from 'apollo-boost'\n\nimport { Order } from '../../../order/types'\n\nexport type OrderFields = Omit<Order, 'nftId'>\nexport const orderFields = () => gql`\n  fragment orderFields on Order {\n    id\n    category\n    nftAddress\n    owner\n    buyer\n    price\n    status\n    expiresAt\n    createdAt\n    updatedAt\n  }\n`\n\nexport type OrderFragment = OrderFields\nexport const orderFragment = () => gql`\n  fragment orderFragment on Order {\n    ...orderFields\n  }\n  ${orderFields()}\n`\n","export enum Section {\n  ALL = 'all',\n\n  LAND = 'land',\n  PARCELS = 'parcels',\n  ESTATES = 'estates',\n  WEARABLES = 'wearables',\n\n  WEARABLES_HEAD = 'wearables_head',\n  WEARABLES_EYEBROWS = 'wearables_eyebrows',\n  WEARABLES_EYES = 'wearables_eyes',\n  WEARABLES_FACIAL_HAIR = 'wearables_facial_hair',\n  WEARABLES_HAIR = 'wearables_hair',\n  WEARABLES_MOUTH = 'wearables_mouth',\n\n  WEARABLES_UPPER_BODY = 'wearables_upper_body',\n  WEARABLES_LOWER_BODY = 'wearables_lower_body',\n  WEARABLES_FEET = 'wearables_feet',\n\n  WEARABLES_ACCESORIES = 'wearables_accesories',\n  WEARABLES_EARRING = 'wearables_earring',\n  WEARABLES_EYEWEAR = 'wearables_eyewear',\n  WEARABLES_HAT = 'wearables_hat',\n  WEARABLES_HELMET = 'wearables_helmet',\n  WEARABLES_MASK = 'wearables_mask',\n  WEARABLES_TIARA = 'wearables_tiara',\n  WEARABLES_TOP_HEAD = 'wearables_top_head',\n\n  ENS = 'ens'\n}\n","import { createSelector } from 'reselect'\nimport {\n  getData,\n  getAddress as baseGetAddress\n} from 'decentraland-dapps/dist/modules/wallet/selectors'\nimport { Wallet } from 'decentraland-dapps/dist/modules/wallet/types'\nimport { RootState } from '../reducer'\n\nexport * from 'decentraland-dapps/dist/modules/wallet/selectors'\n\nexport const getWallet = createSelector<\n  RootState,\n  Wallet | null,\n  Wallet | null\n>(getData, wallet =>\n  wallet ? { ...wallet, address: wallet.address.toLowerCase() } : null\n)\n\nexport const getAddress = (state: RootState) => {\n  const address = baseGetAddress(state)\n  return address ? address.toLowerCase() : undefined\n}\n","import { Vendors } from '../vendor/types'\n\nexport const View = {\n  MARKET: 'market',\n  ACCOUNT: 'account',\n  HOME_WEARABLES: 'home_wearables',\n  HOME_LAND: 'home_land',\n  HOME_ENS: 'home_ens',\n  PARTNERS_SUPER_RARE: Vendors.SUPER_RARE,\n  PARTNERS_MAKERS_PLACE: Vendors.MAKERS_PLACE,\n  PARTNERS_KNOWN_ORIGIN: Vendors.KNOWN_ORIGIN,\n  LOAD_MORE: 'load_more',\n  ATLAS: 'atlas'\n} as const\n\nexport type View = typeof View[keyof typeof View]\n","export enum WearableCategory {\n  EYEBROWS = 'eyebrows',\n  EYES = 'eyes',\n  FACIAL_HAIR = 'facial_hair',\n  HAIR = 'hair',\n  MOUTH = 'mouth',\n  UPPER_BODY = 'upper_body',\n  LOWER_BODY = 'lower_body',\n  FEET = 'feet',\n  EARRING = 'earring',\n  EYEWEAR = 'eyewear',\n  HAT = 'hat',\n  HELMET = 'helmet',\n  MASK = 'mask',\n  TIARA = 'tiara',\n  TOP_HEAD = 'top_head'\n}\n\nexport enum WearableRarity {\n  UNIQUE = 'unique',\n  MYTHIC = 'mythic',\n  LEGENDARY = 'legendary',\n  EPIC = 'epic',\n  RARE = 'rare',\n  UNCOMMON = 'uncommon',\n  COMMON = 'common'\n}\n\nexport const RARITY_COLOR_LIGHT = {\n  [WearableRarity.UNIQUE]: '#FFE617',\n  [WearableRarity.MYTHIC]: '#FB7DE3',\n  [WearableRarity.LEGENDARY]: '#A657ED',\n  [WearableRarity.EPIC]: '#6397F2',\n  [WearableRarity.RARE]: '#3AD682',\n  [WearableRarity.UNCOMMON]: '#FF8563',\n  [WearableRarity.COMMON]: '#D4E0E0'\n}\n\nexport const RARITY_COLOR = {\n  [WearableRarity.UNIQUE]: '#FFB626',\n  [WearableRarity.MYTHIC]: '#FF63E1',\n  [WearableRarity.LEGENDARY]: '#842DDA',\n  [WearableRarity.EPIC]: '#3D85E6',\n  [WearableRarity.RARE]: '#36CF75',\n  [WearableRarity.UNCOMMON]: '#ED6D4F',\n  [WearableRarity.COMMON]: '#ABC1C1'\n}\n\nexport type Wearable = {\n  description: string\n  category: WearableCategory\n  rarity: WearableRarity\n  bodyShapes: BodyShape[]\n}\n\nexport enum BodyShape {\n  MALE = 'BaseMale',\n  FEMALE = 'BaseFemale'\n}\n\nexport enum WearableGender {\n  MALE = 'male',\n  FEMALE = 'female'\n}\n","import { WearableRarity, WearableGender } from '../nft/wearable/types'\nimport { Vendors, ContractName } from '../vendor/types'\nimport { Section } from '../vendor/routing/types'\nimport { View } from '../ui/types'\n\nexport { Section }\n\nexport enum SortBy {\n  NAME = 'name',\n  NEWEST = 'newest',\n  RECENTLY_LISTED = 'recently_listed',\n  CHEAPEST = 'cheapest'\n}\n\nexport enum SortDirection {\n  ASC = 'asc',\n  DESC = 'desc'\n}\n\nexport type SearchOptions = {\n  view?: View\n  vendor?: Vendors\n  page?: number\n  section?: Section\n  sortBy?: SortBy\n  onlyOnSale?: boolean\n  isMap?: boolean\n  isFullscreen?: boolean\n  wearableRarities?: WearableRarity[]\n  wearableGenders?: WearableGender[]\n  search?: string\n  contracts?: ContractName[]\n  address?: string\n}\n","export * from './api'\n","export * from './api'\nexport * from './types'\n","export * from './api'\n","export * from './types'\n","export * from './types'\n","export * from './types'\n","export * from './types'\n","export * from './types'\n","export const ATLAS_URL = process.env.REACT_APP_ATLAS_URL!\n","export enum Section {\n  ALL = 'all'\n}\n","export enum Section {\n  ALL = 'all'\n}\n","import { WearableCategory } from '../nft/wearable/types'\nimport { View } from '../ui/types'\nimport { NFTCategory } from '../nft/types'\nimport { Vendors } from '../vendor/types'\nimport { Section } from '../vendor/routing/types'\nimport { SearchOptions, SortBy } from './types'\n\nconst SEARCH_ARRAY_PARAM_SEPARATOR = '_'\n\nexport function getDefaultOptionsByView(view?: View): SearchOptions {\n  return {\n    onlyOnSale: view !== View.ACCOUNT,\n    sortBy: view === View.ACCOUNT ? SortBy.NEWEST : SortBy.RECENTLY_LISTED\n  }\n}\n\nexport function getSearchParams(options?: SearchOptions) {\n  let params: URLSearchParams | undefined\n  if (options) {\n    params = new URLSearchParams()\n\n    if (options.section) {\n      params.set('section', options.section)\n    }\n\n    if (options.isMap !== undefined) {\n      params.set('isMap', options.isMap.toString())\n      // isFullscreen is only set if isMap is true\n      if (options.isFullscreen !== undefined) {\n        params.set('isFullscreen', options.isFullscreen.toString())\n      }\n    }\n\n    if (options.vendor) {\n      params.set('vendor', options.vendor)\n    }\n    if (options.page) {\n      params.set('page', options.page.toString())\n    }\n    if (options.sortBy) {\n      params.set('sortBy', options.sortBy)\n    }\n    if (options.onlyOnSale !== undefined) {\n      params.set('onlyOnSale', options.onlyOnSale.toString())\n    }\n    if (options.wearableRarities && options.wearableRarities.length > 0) {\n      params.set(\n        'rarities',\n        options.wearableRarities.join(SEARCH_ARRAY_PARAM_SEPARATOR)\n      )\n    }\n    if (options.wearableGenders && options.wearableGenders.length > 0) {\n      params.set(\n        'genders',\n        options.wearableGenders.join(SEARCH_ARRAY_PARAM_SEPARATOR)\n      )\n    }\n\n    if (options.contracts && options.contracts.length > 0) {\n      params.set(\n        'contracts',\n        options.contracts.join(SEARCH_ARRAY_PARAM_SEPARATOR)\n      )\n    }\n\n    if (options.search) {\n      params.set('search', options.search)\n    }\n  }\n  return params\n}\n\nexport function getSearchCategory(section: Section) {\n  // TODO: Move this to each vendor? Names shortened for brevity here\n  const DclSection = Section[Vendors.DECENTRALAND]\n  switch (section) {\n    case DclSection.PARCELS:\n      return NFTCategory.PARCEL\n    case DclSection.ESTATES:\n      return NFTCategory.ESTATE\n    case DclSection.WEARABLES:\n    case DclSection.WEARABLES_HEAD:\n    case DclSection.WEARABLES_EYEBROWS:\n    case DclSection.WEARABLES_EYES:\n    case DclSection.WEARABLES_FACIAL_HAIR:\n    case DclSection.WEARABLES_HAIR:\n    case DclSection.WEARABLES_MOUTH:\n    case DclSection.WEARABLES_UPPER_BODY:\n    case DclSection.WEARABLES_LOWER_BODY:\n    case DclSection.WEARABLES_FEET:\n    case DclSection.WEARABLES_ACCESORIES:\n    case DclSection.WEARABLES_EARRING:\n    case DclSection.WEARABLES_EYEWEAR:\n    case DclSection.WEARABLES_HAT:\n    case DclSection.WEARABLES_HELMET:\n    case DclSection.WEARABLES_MASK:\n    case DclSection.WEARABLES_TIARA:\n    case DclSection.WEARABLES_TOP_HEAD:\n      return NFTCategory.WEARABLE\n    case DclSection.ENS:\n      return NFTCategory.ENS\n  }\n}\n\nexport function getSearchWearableSection(category: WearableCategory) {\n  const DclSection = Section[Vendors.DECENTRALAND]\n  for (const section of Object.values(DclSection)) {\n    const sectionCategory = getSearchWearableCategory(section)\n    if (category === sectionCategory) {\n      return section\n    }\n  }\n}\n\nexport function getSearchWearableCategory(section: Section) {\n  const DclSection = Section[Vendors.DECENTRALAND]\n  switch (section) {\n    case DclSection.WEARABLES_EYEBROWS:\n      return WearableCategory.EYEBROWS\n    case DclSection.WEARABLES_EYES:\n      return WearableCategory.EYES\n    case DclSection.WEARABLES_FACIAL_HAIR:\n      return WearableCategory.FACIAL_HAIR\n    case DclSection.WEARABLES_HAIR:\n      return WearableCategory.HAIR\n    case DclSection.WEARABLES_MOUTH:\n      return WearableCategory.MOUTH\n    case DclSection.WEARABLES_UPPER_BODY:\n      return WearableCategory.UPPER_BODY\n    case DclSection.WEARABLES_LOWER_BODY:\n      return WearableCategory.LOWER_BODY\n    case DclSection.WEARABLES_FEET:\n      return WearableCategory.FEET\n    case DclSection.WEARABLES_EARRING:\n      return WearableCategory.EARRING\n    case DclSection.WEARABLES_EYEWEAR:\n      return WearableCategory.EYEWEAR\n    case DclSection.WEARABLES_HAT:\n      return WearableCategory.HAT\n    case DclSection.WEARABLES_HELMET:\n      return WearableCategory.HELMET\n    case DclSection.WEARABLES_MASK:\n      return WearableCategory.MASK\n    case DclSection.WEARABLES_TIARA:\n      return WearableCategory.TIARA\n    case DclSection.WEARABLES_TOP_HEAD:\n      return WearableCategory.TOP_HEAD\n  }\n}\n\nexport function getURLParamArray<T extends string>(\n  search: string,\n  paramName: string,\n  validValues: string[] = []\n) {\n  const param = getURLParam<T>(search, paramName)\n  return param === null\n    ? []\n    : (param\n        .split(SEARCH_ARRAY_PARAM_SEPARATOR)\n        .filter(item => validValues.includes(item as T)) as T[])\n}\n\nexport function getURLParam<T extends string>(\n  search: string,\n  paramName: string\n) {\n  const param = new URLSearchParams(search).get(paramName) as T | null\n  return param\n}\n","import { NFTCategory } from '../nft/types'\nimport { getSearchCategory, getSearchWearableCategory } from '../routing/search'\nimport { SearchOptions } from '../routing/types'\nimport { Section } from './routing/types'\nimport { NFTsFetchFilters } from './nft/types'\nimport { Vendors, Disabled } from './types'\n\nexport function getFilters(\n  vendor: Vendors,\n  searchOptions: SearchOptions\n): NFTsFetchFilters {\n  const { section } = searchOptions\n\n  switch (vendor) {\n    case Vendors.DECENTRALAND: {\n      const currentSection = Section[Vendors.DECENTRALAND]\n\n      const isLand = section === currentSection.LAND\n      const isWearableHead = section === currentSection.WEARABLES_HEAD\n      const isWearableAccessory =\n        section === currentSection.WEARABLES_ACCESORIES\n\n      const category = getSearchCategory(section!)\n      const wearableCategory =\n        !isWearableAccessory && category === NFTCategory.WEARABLE\n          ? getSearchWearableCategory(section!)\n          : undefined\n\n      const { wearableRarities, wearableGenders, contracts } = searchOptions\n\n      return {\n        isLand,\n        isWearableHead,\n        isWearableAccessory,\n        wearableCategory,\n        wearableRarities,\n        wearableGenders,\n        contracts\n      } as NFTsFetchFilters<Vendors.DECENTRALAND>\n    }\n    case Vendors.KNOWN_ORIGIN: {\n      const currentSection = Section[Vendors.KNOWN_ORIGIN]\n\n      return {\n        isEdition: section === currentSection.EDITIONS,\n        isToken: section === currentSection.TOKENS\n      }\n    }\n    case Vendors.SUPER_RARE:\n    case Vendors.MAKERS_PLACE:\n    default:\n      return {}\n  }\n}\n\nexport function getOriginURL(vendor: Vendors) {\n  switch (vendor) {\n    case Vendors.DECENTRALAND:\n      return 'https://market.bears.finance'\n    case Vendors.SUPER_RARE:\n      return 'https://www.superrare.co'\n    case Vendors.MAKERS_PLACE:\n      return 'https://makersplace.com'\n    case Vendors.KNOWN_ORIGIN:\n      return 'https://knownorigin.io'\n    default:\n      throw new Error(`Base URL for ${vendor} not implemented`)\n  }\n}\n\nexport function isVendor(vendor: string) {\n  return Object.values(Vendors).includes(vendor as Vendors)\n}\n\nexport function isPartner(vendor: string) {\n  return isVendor(vendor) && vendor !== Vendors.DECENTRALAND\n}\n\nexport function getPartners(): Vendors[] {\n  const disabledVendors = Object.values(Disabled)\n\n  return Object.values(Vendors).filter(\n    vendor => isPartner(vendor) && !disabledVendors.includes(vendor)\n  )\n}\n","import { services as decentraland } from './decentraland'\nimport { services as superRare } from './super_rare'\nimport { services as makersPlace } from './makers_place'\nimport { services as knownOrigin } from './known_origin'\nimport {\n  ContractService,\n  NFTService,\n  OrderService,\n  BidService\n} from './services'\nimport { Vendors } from './types'\n\nexport class VendorFactory {\n  static build(vendor: Vendors) {\n    switch (vendor) {\n      case Vendors.DECENTRALAND:\n        return new Vendor<Vendors.DECENTRALAND>(\n          vendor,\n          new decentraland.ContractService(),\n          new decentraland.NFTService(),\n          new decentraland.OrderService(),\n          new decentraland.BidService()\n        )\n      case Vendors.SUPER_RARE:\n        return new Vendor(\n          vendor,\n          new superRare.ContractService(),\n          new superRare.NFTService(),\n          new superRare.OrderService()\n        )\n      case Vendors.MAKERS_PLACE:\n        return new Vendor(\n          vendor,\n          new makersPlace.ContractService(),\n          new makersPlace.NFTService(),\n          new makersPlace.OrderService()\n        )\n      case Vendors.KNOWN_ORIGIN:\n        return new Vendor(\n          vendor,\n          new knownOrigin.ContractService(),\n          new knownOrigin.NFTService(),\n          new knownOrigin.OrderService()\n        )\n      default:\n        throw new Error(`Invalid vendor \"${vendor}\"`)\n    }\n  }\n}\n\nexport class Vendor<V extends Vendors> {\n  constructor(\n    public type: V,\n    public contractService: ContractService,\n    public nftService: NFTService<V>,\n    public orderService: OrderService<V>,\n    public bidService?: BidService<V>\n  ) {}\n}\n"],"sourceRoot":""}